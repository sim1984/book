<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>&#1043;&#1083;&#1072;&#1074;&#1072; 1. &#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; Windows Forms &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1081; &#1089; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1085;&#1080;&#1077;&#1084; Entity Framework</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="ru" class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="app-dotnet-winform"></a>&#1043;&#1083;&#1072;&#1074;&#1072; 1. &#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; Windows Forms &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1081; &#1089; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1085;&#1080;&#1077;&#1084; Entity Framework</h2></div></div></div><div class="toc"><p><b>&#1057;&#1086;&#1076;&#1077;&#1088;&#1078;&#1072;&#1085;&#1080;&#1077;</b></p><dl class="toc"><dt><span class="section"><a href="#app-dotnet-vsprepare">&#1055;&#1086;&#1076;&#1075;&#1086;&#1090;&#1086;&#1074;&#1082;&#1072; Visual Studio 2015 &#1076;&#1083;&#1103; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1089; Firebird</a></span></dt><dt><span class="section"><a href="#d5e141">&#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072;</a></span></dt><dt><span class="section"><a href="#app-dotnet-createedm">&#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; EDM &#1084;&#1086;&#1076;&#1077;&#1083;&#1080;</a></span></dt><dt><span class="section"><a href="#d5e270">&#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1100;&#1089;&#1082;&#1086;&#1075;&#1086; &#1080;&#1085;&#1090;&#1077;&#1088;&#1092;&#1077;&#1081;&#1089;&#1072;</a></span></dt><dd><dl><dt><span class="section"><a href="#app-dotnet-getcontext">&#1055;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1077; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072;</a></span></dt><dt><span class="section"><a href="#d5e296">&#1056;&#1072;&#1073;&#1086;&#1090;&#1072; &#1089; &#1076;&#1072;&#1085;&#1085;&#1099;&#1084;&#1080;</a></span></dt><dt><span class="section"><a href="#d5e374">&#1046;&#1091;&#1088;&#1085;&#1072;&#1083;&#1099;</a></span></dt><dt><span class="section"><a href="#d5e448">&#1056;&#1072;&#1073;&#1086;&#1090;&#1072; &#1089; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1103;&#1084;&#1080;</a></span></dt></dl></dd><dt><span class="section"><a href="#d5e467">&#1047;&#1072;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077;</a></span></dt></dl></div><p>&#1042; &#1076;&#1072;&#1085;&#1085;&#1086;&#1081; &#1075;&#1083;&#1072;&#1074;&#1077; &#1073;&#1091;&#1076;&#1077;&#1090; &#1086;&#1087;&#1080;&#1089;&#1072;&#1085; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1103; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1081; &#1076;&#1083;&#1103; &#1057;&#1059;&#1041;&#1044; Firebird &#1089; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1085;&#1080;&#1077;&#1084;
        &#1082;&#1086;&#1084;&#1087;&#1086;&#1085;&#1077;&#1085;&#1090;&#1086;&#1074; &#1076;&#1086;&#1089;&#1090;&#1091;&#1087;&#1072; Entity Framework &#1080; &#1089;&#1088;&#1077;&#1076;&#1099; Visual Studio 2015. </p><p><span class="bold"><strong>ADO.NET Entity Framework</strong></span> (EF) &#8212; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1085;&#1086;-&#1086;&#1088;&#1080;&#1077;&#1085;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1085;&#1072;&#1103;
        &#1090;&#1077;&#1093;&#1085;&#1086;&#1083;&#1086;&#1075;&#1080;&#1103; &#1076;&#1086;&#1089;&#1090;&#1091;&#1087;&#1072; &#1082; &#1076;&#1072;&#1085;&#1085;&#1099;&#1084;, &#1103;&#1074;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103; object-relational mapping (ORM) &#1088;&#1077;&#1096;&#1077;&#1085;&#1080;&#1077;&#1084; &#1076;&#1083;&#1103; .NET
        Framework &#1086;&#1090; Microsoft. &#1055;&#1088;&#1077;&#1076;&#1086;&#1089;&#1090;&#1072;&#1074;&#1083;&#1103;&#1077;&#1090; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1100; &#1074;&#1079;&#1072;&#1080;&#1084;&#1086;&#1076;&#1077;&#1081;&#1089;&#1090;&#1074;&#1080;&#1103; &#1089; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1072;&#1084;&#1080; &#1082;&#1072;&#1082; &#1087;&#1086;&#1089;&#1088;&#1077;&#1076;&#1089;&#1090;&#1074;&#1086;&#1084;
        LINQ &#1074; &#1074;&#1080;&#1076;&#1077; LINQ to Entities, &#1090;&#1072;&#1082; &#1080; &#1089; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1085;&#1080;&#1077;&#1084; Entity SQL.</p><p>Entity Framework &#1087;&#1088;&#1077;&#1076;&#1087;&#1086;&#1083;&#1072;&#1075;&#1072;&#1077;&#1090; &#1090;&#1088;&#1080; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1099;&#1093; &#1089;&#1087;&#1086;&#1089;&#1086;&#1073;&#1072; &#1074;&#1079;&#1072;&#1080;&#1084;&#1086;&#1076;&#1077;&#1081;&#1089;&#1090;&#1074;&#1080;&#1103; &#1089; &#1073;&#1072;&#1079;&#1086;&#1081; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="bold"><strong>Database first</strong></span>: Entity Framework &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1090;
                    &#1085;&#1072;&#1073;&#1086;&#1088; &#1082;&#1083;&#1072;&#1089;&#1089;&#1086;&#1074;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1077; &#1086;&#1090;&#1088;&#1072;&#1078;&#1072;&#1102;&#1090; &#1084;&#1086;&#1076;&#1077;&#1083;&#1100; &#1082;&#1086;&#1085;&#1082;&#1088;&#1077;&#1090;&#1085;&#1086;&#1081; &#1073;&#1072;&#1079;&#1099; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;.</p></li><li class="listitem"><p><span class="bold"><strong>Model first</strong></span>: &#1089;&#1085;&#1072;&#1095;&#1072;&#1083;&#1072; &#1088;&#1072;&#1079;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1090;
                    &#1084;&#1086;&#1076;&#1077;&#1083;&#1100; &#1073;&#1072;&#1079;&#1099; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;, &#1087;&#1086; &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1081; &#1079;&#1072;&#1090;&#1077;&#1084; Entity Framework &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1090; &#1088;&#1077;&#1072;&#1083;&#1100;&#1085;&#1091;&#1102; &#1073;&#1072;&#1079;&#1091;
                    &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1085;&#1072; &#1089;&#1077;&#1088;&#1074;&#1077;&#1088;&#1077;.</p></li><li class="listitem"><p><span class="bold"><strong>Code first</strong></span>: &#1088;&#1072;&#1079;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1090; &#1082;&#1083;&#1072;&#1089;&#1089; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080;
                    &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1077; &#1073;&#1091;&#1076;&#1091;&#1090; &#1093;&#1088;&#1072;&#1085;&#1080;&#1090;&#1100;&#1089;&#1103; &#1074; &#1041;&#1044;, &#1072; &#1079;&#1072;&#1090;&#1077;&#1084; Entity Framework &#1087;&#1086; &#1101;&#1090;&#1086;&#1081; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080;
                    &#1075;&#1077;&#1085;&#1077;&#1088;&#1080;&#1088;&#1091;&#1077;&#1090; &#1073;&#1072;&#1079;&#1091; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1080; &#1077;&#1105; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1099;.</p></li></ul></div><p>&#1042; &#1089;&#1074;&#1086;&#1105;&#1084; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1080; &#1084;&#1099; &#1073;&#1091;&#1076;&#1077;&#1084; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1087;&#1086;&#1076;&#1093;&#1086;&#1076; Code First, &#1086;&#1076;&#1085;&#1072;&#1082;&#1086; &#1074;&#1099; &#1073;&#1077;&#1079; &#1090;&#1088;&#1091;&#1076;&#1072; &#1089;&#1084;&#1086;&#1078;&#1077;&#1090;&#1077;
        &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1080; &#1076;&#1088;&#1091;&#1075;&#1080;&#1077; &#1087;&#1086;&#1076;&#1093;&#1086;&#1076;&#1099;.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[&#1055;&#1088;&#1080;&#1084;&#1077;&#1095;&#1072;&#1085;&#1080;&#1077;]" src="file:/C:/Program%20Files/Oxygen%20XML%20Editor%2016/frameworks/docbook/css/img/note.png"></td><th align="left">&#1055;&#1088;&#1080;&#1084;&#1077;&#1095;&#1072;&#1085;&#1080;&#1077;</th></tr><tr><td align="left" valign="top"><p>&#1053;&#1072; &#1089;&#1072;&#1084;&#1086;&#1084; &#1076;&#1077;&#1083;&#1077; &#1091; &#1085;&#1072;&#1089; &#1091;&#1078;&#1077; &#1077;&#1089;&#1090;&#1100; &#1073;&#1072;&#1079;&#1072; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;. &#1055;&#1086;&#1101;&#1090;&#1086;&#1084;&#1091; &#1073;&#1091;&#1076;&#1077;&#1084; &#1087;&#1088;&#1086;&#1089;&#1090;&#1086; &#1087;&#1080;&#1089;&#1072;&#1090;&#1100; &#1082;&#1086;&#1076; &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1073;&#1099;
            &#1087;&#1088;&#1080;&#1074;&#1105;&#1083; &#1082; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1102; &#1085;&#1072;&#1096;&#1077;&#1081; &#1041;&#1044;.</p></td></tr></table></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="app-dotnet-vsprepare"></a>&#1055;&#1086;&#1076;&#1075;&#1086;&#1090;&#1086;&#1074;&#1082;&#1072; Visual Studio 2015 &#1076;&#1083;&#1103; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1089; Firebird</h2></div></div></div><p>&#1044;&#1083;&#1103; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1089; Firebird &#1074;&#1072;&#1084; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1100;:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">FirebirdSql.Data.FirebirdClient.dll</code></p></li><li class="listitem"><p><code class="filename">EntityFramework.Firebird.dll</code></p></li><li class="listitem"><p>DDEX Provider for Visual Studio</p></li></ul></div><p>&#1059;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1082;&#1072; &#1087;&#1077;&#1088;&#1074;&#1099;&#1093; &#1076;&#1074;&#1091;&#1093; &#1085;&#1077; &#1074;&#1099;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090; &#1085;&#1080;&#1082;&#1072;&#1082;&#1080;&#1093; &#1089;&#1083;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1077;&#1081;. &#1042; &#1085;&#1072;&#1089;&#1090;&#1086;&#1103;&#1097;&#1080;&#1081; &#1084;&#1086;&#1084;&#1077;&#1085;&#1090; &#1086;&#1085;&#1080;
            &#1088;&#1072;&#1089;&#1087;&#1088;&#1086;&#1089;&#1090;&#1088;&#1072;&#1085;&#1103;&#1102;&#1090;&#1089;&#1103; &#1080; &#1091;&#1089;&#1090;&#1072;&#1085;&#1072;&#1074;&#1083;&#1080;&#1074;&#1072;&#1102;&#1090;&#1089;&#1103; &#1074; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090; &#1089; &#1087;&#1086;&#1084;&#1086;&#1097;&#1100;&#1102; NuGet. &#1040; &#1074;&#1086;&#1090; &#1087;&#1086;&#1089;&#1083;&#1077;&#1076;&#1085;&#1103;&#1103; &#1073;&#1080;&#1073;&#1083;&#1080;&#1086;&#1090;&#1077;&#1082;&#1072;,
            &#1087;&#1088;&#1077;&#1076;&#1085;&#1072;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1085;&#1072;&#1103; &#1076;&#1083;&#1103; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1084;&#1072;&#1089;&#1090;&#1077;&#1088;&#1086;&#1074; Visual Studio, &#1091;&#1089;&#1090;&#1072;&#1085;&#1072;&#1074;&#1083;&#1080;&#1074;&#1072;&#1077;&#1090;&#1089;&#1103; &#1085;&#1077; &#1090;&#1072;&#1082; &#1083;&#1077;&#1075;&#1082;&#1086; &#1080; &#1084;&#1086;&#1078;&#1077;&#1090;
            &#1087;&#1086;&#1090;&#1088;&#1072;&#1090;&#1080;&#1090;&#1100; &#1091; &#1074;&#1072;&#1089; &#1084;&#1085;&#1086;&#1075;&#1086; &#1089;&#1080;&#1083; &#1080; &#1074;&#1088;&#1077;&#1084;&#1077;&#1085;&#1080;.</p><p>&#1044;&#1086;&#1073;&#1088;&#1099;&#1077; &#1083;&#1102;&#1076;&#1080; &#1087;&#1086;&#1087;&#1099;&#1090;&#1072;&#1083;&#1080;&#1089;&#1100; &#1072;&#1074;&#1090;&#1086;&#1084;&#1072;&#1090;&#1080;&#1079;&#1080;&#1088;&#1086;&#1074;&#1072;&#1090;&#1100; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089; &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1082;&#1080; &#1080; &#1074;&#1082;&#1083;&#1102;&#1095;&#1080;&#1090;&#1100; &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1082;&#1091; &#1074;&#1089;&#1077;&#1093;
            &#1082;&#1086;&#1084;&#1087;&#1086;&#1085;&#1077;&#1085;&#1090;&#1086;&#1074; &#1074; &#1086;&#1076;&#1080;&#1085; &#1076;&#1080;&#1089;&#1090;&#1088;&#1080;&#1073;&#1091;&#1090;&#1080;&#1074; (<a class="link" href="http://sourceforge.net/projects/firebird-4-8-0-ddex-installer/" target="_top">http://sourceforge.net/projects/firebird-4-8-0-ddex-installer/</a>). &#1054;&#1076;&#1085;&#1072;&#1082;&#1086; &#1074;
            &#1088;&#1103;&#1076;&#1077; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077;&#1074; &#1074;&#1072;&#1084; &#1084;&#1086;&#1078;&#1077;&#1090; &#1087;&#1086;&#1090;&#1088;&#1077;&#1073;&#1086;&#1074;&#1072;&#1090;&#1100;&#1089;&#1103; &#1088;&#1091;&#1095;&#1085;&#1072;&#1103; &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1082;&#1072; &#1074;&#1089;&#1077;&#1093; &#1082;&#1086;&#1084;&#1087;&#1086;&#1085;&#1077;&#1085;&#1090;&#1086;&#1074;. &#1042; &#1101;&#1090;&#1086;&#1084; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077;
            &#1074;&#1072;&#1084; &#1087;&#1086;&#1090;&#1088;&#1077;&#1073;&#1091;&#1077;&#1090;&#1089;&#1103; &#1089;&#1082;&#1072;&#1095;&#1072;&#1090;&#1100;:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">FirebirdSql.Data.FirebirdClient-4.10.0.0.msi</code> (<a class="link" href="http://sourceforge.net/projects/firebird/files/firebird-net-provider/4.10.0.0/FirebirdSql.Data.FirebirdClient-4.10.0.0.msi/download" target="_top">http://sourceforge.net/projects/firebird/files/firebird-net-provider/4.10.0.0/FirebirdSql.Data.FirebirdClient-4.10.0.0.msi/download</a>)
                    </p></li><li class="listitem"><p><code class="filename">EntityFramework.Firebird-4.10.0.0-NET45.7z</code> (<a class="link" href="http://sourceforge.net/projects/firebird/files/firebird-net-provider/4.10.0.0/EntityFramework.Firebird-4.10.0.0-NET45.7z/download" target="_top">http://sourceforge.net/projects/firebird/files/firebird-net-provider/4.10.0.0/EntityFramework.Firebird-4.10.0.0-NET45.7z/download</a>)
                    </p></li><li class="listitem"><p><code class="filename">DDEXProvider-3.0.2.0.7z</code> (<a class="link" href="http://sourceforge.net/projects/firebird/files/firebird-net-provider/DDEX%203.0.2/DDEXProvider-3.0.2.0.7z/download" target="_top">http://sourceforge.net/projects/firebird/files/firebird-net-provider/DDEX%203.0.2/DDEXProvider-3.0.2.0.7z/download</a>)
                    </p></li><li class="listitem"><p><code class="filename">DDEXProvider-3.0.2.0-src.7z</code> (<a class="link" href="http://sourceforge.net/projects/firebird/files/firebird-net-provider/DDEX%203.0.2/DDEXProvider-3.0.2.0-src.7z/download" target="_top">http://sourceforge.net/projects/firebird/files/firebird-net-provider/DDEX%203.0.2/DDEXProvider-3.0.2.0-src.7z/download</a>)
                    </p></li></ul></div><p>&#1044;&#1072;&#1083;&#1077;&#1077; &#1086;&#1087;&#1080;&#1089;&#1072;&#1085; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089; &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1082;&#1080;:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>&#1059;&#1089;&#1090;&#1072;&#1085;&#1072;&#1074;&#1083;&#1080;&#1074;&#1072;&#1077;&#1084;
                            <code class="filename">FirebirdSql.Data.FirebirdClient-4.10.0.0.msi</code></p></li><li class="listitem"><p>&#1056;&#1072;&#1089;&#1087;&#1072;&#1082;&#1086;&#1074;&#1099;&#1074;&#1072;&#1077;&#1084;
                            <code class="filename">EntityFramework.Firebird-4.10.0.0-NET45.7z</code> &#1074; &#1087;&#1072;&#1087;&#1082;&#1091;
                        &#1089; &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1085;&#1099;&#1084; &#1082;&#1083;&#1080;&#1077;&#1085;&#1090;&#1086;&#1084; Firebird. &#1059; &#1084;&#1077;&#1085;&#1103; &#1101;&#1090;&#1086; &#1087;&#1072;&#1087;&#1082;&#1072; <code class="filename">c:\Program
                            Files (x86)\FirebirdClient\</code>
                    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[&#1042;&#1072;&#1078;&#1085;&#1086;]" src="file:/C:/Program%20Files/Oxygen%20XML%20Editor%2016/frameworks/docbook/css/img/important.png"></td><th align="left">&#1042;&#1072;&#1078;&#1085;&#1086;</th></tr><tr><td align="left" valign="top"><p>&#1069;&#1090;&#1086; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1076;&#1077;&#1083;&#1072;&#1090;&#1100; &#1089; &#1087;&#1088;&#1072;&#1074;&#1072;&#1084;&#1080; &#1072;&#1076;&#1084;&#1080;&#1085;&#1080;&#1089;&#1090;&#1088;&#1072;&#1090;&#1086;&#1088;&#1072;. &#1050;&#1072;&#1082; &#1080; &#1076;&#1088;&#1091;&#1075;&#1080;&#1077; &#1076;&#1077;&#1081;&#1089;&#1090;&#1074;&#1080;&#1103;
                            &#1089; &#1079;&#1072;&#1097;&#1080;&#1097;&#1105;&#1085;&#1085;&#1099;&#1084;&#1080; &#1076;&#1080;&#1088;&#1077;&#1082;&#1090;&#1086;&#1088;&#1080;&#1103;&#1084;&#1080;.</p></td></tr></table></div></li><li class="listitem"><p>&#1053;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1100; &#1089;&#1073;&#1086;&#1088;&#1082;&#1080; Firebird &#1074; GAC. &#1044;&#1083;&#1103; &#1091;&#1076;&#1086;&#1073;&#1089;&#1090;&#1074;&#1086; &#1087;&#1086;&#1087;&#1080;&#1089;&#1099;&#1074;&#1072;&#1077;&#1084; &#1074;
                        %PATH% &#1087;&#1091;&#1090;&#1100; &#1076;&#1086; &#1091;&#1090;&#1080;&#1083;&#1080;&#1090;&#1099; <span class="application">gacutil</span> &#1076;&#1083;&#1103; .NET Framework
                        4.5. &#1059; &#1084;&#1077;&#1085;&#1103; &#1101;&#1090;&#1086;&#1090; &#1087;&#1091;&#1090;&#1100; <code class="filename">c:\Program Files (x86)\Microsoft
                            SDKs\Windows\v10.0A\bin\NETFX 4.6.1 Tools\</code></p></li><li class="listitem"><p>&#1047;&#1072;&#1087;&#1091;&#1089;&#1082;&#1072;&#1077;&#1084; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1085;&#1091;&#1102; &#1089;&#1090;&#1088;&#1086;&#1082;&#1091; <span class="application">cmd</span> &#1086;&#1090; &#1080;&#1084;&#1077;&#1085;&#1080;
                        &#1072;&#1076;&#1084;&#1080;&#1085;&#1080;&#1089;&#1090;&#1088;&#1072;&#1090;&#1086;&#1088;&#1072; &#1080; &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1080;&#1084; &#1074; &#1076;&#1080;&#1088;&#1077;&#1082;&#1090;&#1086;&#1088;&#1080;&#1102; &#1089; &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1085;&#1099;&#1084; &#1082;&#1083;&#1080;&#1077;&#1085;&#1090;&#1086;&#1084;.
                        </p><pre class="programlisting">
chdir "c:\Program Files (x86)\FirebirdClient"                                
</pre><p>
                    </p></li><li class="listitem"><p>&#1058;&#1077;&#1087;&#1077;&#1088;&#1100; &#1087;&#1088;&#1086;&#1074;&#1077;&#1088;&#1103;&#1077;&#1084; &#1095;&#1090;&#1086; FirebirdSql.Data.FirebirdClient &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085; &#1074; GAC. &#1044;&#1083;&#1103;
                        &#1101;&#1090;&#1086;&#1075;&#1086; &#1085;&#1072;&#1073;&#1080;&#1088;&#1072;&#1077;&#1084; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1091; </p><pre class="programlisting">
gacutil /l FirebirdSql.Data.FirebirdClient                                
</pre><p>
                        </p><pre class="screen">
Microsoft (R) .NET Global Assembly Cache Utility.  Version 4.0.30319.0
c &#1050;&#1086;&#1088;&#1087;&#1086;&#1088;&#1072;&#1094;&#1080;&#1103; &#1052;&#1072;&#1081;&#1082;&#1088;&#1086;&#1089;&#1086;&#1092;&#1090; (Microsoft Corporation). &#1042;&#1089;&#1077; &#1087;&#1088;&#1072;&#1074;&#1072; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1099;.

&#1042; &#1075;&#1083;&#1086;&#1073;&#1072;&#1083;&#1100;&#1085;&#1086;&#1084; &#1082;&#1101;&#1096;&#1077; &#1089;&#1073;&#1086;&#1088;&#1086;&#1082; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1072;&#1090;&#1089;&#1103; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1077; &#1089;&#1073;&#1086;&#1088;&#1082;&#1080;:
  FirebirdSql.Data.FirebirdClient, Version=4.10.0.0, Culture=neutral, PublicKeyToken=3750abcc3150b00c, processorArchitecture=MSIL

&#1063;&#1080;&#1089;&#1083;&#1086; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074; = 1    
</pre><p>
                    </p><p>&#1045;&#1089;&#1083;&#1080; FirebirdSql.Data.FirebirdClient &#1085;&#1077; &#1073;&#1099;&#1083; &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085; &#1074; GAC, &#1090;&#1086; &#1089;&#1076;&#1077;&#1083;&#1072;&#1077;&#1084;
                        &#1101;&#1090;&#1086; &#1089; &#1087;&#1086;&#1084;&#1086;&#1097;&#1100;&#1102; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1099;
                        </p><pre class="programlisting">
gacutil /i FirebirdSql.Data.FirebirdClient.dll                               
</pre><p>
                    </p></li><li class="listitem"><p>&#1058;&#1077;&#1087;&#1077;&#1088;&#1100; &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1084; EntityFramework.Firebird &#1074; GAC
                        </p><pre class="programlisting">
gacutil /i EntityFramework.Firebird.dll                              
</pre><p>
                    </p></li><li class="listitem"><p>&#1056;&#1072;&#1089;&#1087;&#1072;&#1082;&#1086;&#1074;&#1099;&#1074;&#1072;&#1077;&#1084; <code class="filename">DDEXProvider-3.0.2.0.7z</code> &#1074; &#1091;&#1076;&#1086;&#1073;&#1085;&#1091;&#1102;
                        &#1076;&#1080;&#1088;&#1077;&#1082;&#1090;&#1086;&#1088;&#1080;&#1102;. &#1071; &#1088;&#1072;&#1089;&#1087;&#1072;&#1082;&#1086;&#1074;&#1072;&#1083; &#1077;&#1105; &#1074; <code class="filename">c:\Program Files
                            (x86)\FirebirdDDEX\</code></p></li><li class="listitem"><p>&#1058;&#1091;&#1076;&#1072; &#1078;&#1077; &#1088;&#1072;&#1089;&#1087;&#1072;&#1082;&#1086;&#1074;&#1099;&#1074;&#1072;&#1077;&#1084; <code class="filename">DDEXProvider-3.0.2.0-src.7z</code>
                        &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1084;&#1086;&#1077; &#1087;&#1086;&#1076;&#1076;&#1080;&#1088;&#1077;&#1082;&#1090;&#1086;&#1088;&#1080;&#1080; &#1072;&#1088;&#1093;&#1080;&#1074;&#1072;
                        <code class="filename">/reg_files/VS2015</code></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[&#1055;&#1088;&#1080;&#1084;&#1077;&#1095;&#1072;&#1085;&#1080;&#1077;]" src="file:/C:/Program%20Files/Oxygen%20XML%20Editor%2016/frameworks/docbook/css/img/note.png"></td><th align="left">&#1055;&#1088;&#1080;&#1084;&#1077;&#1095;&#1072;&#1085;&#1080;&#1077;</th></tr><tr><td align="left" valign="top"><p>&#1047;&#1072;&#1073;&#1072;&#1074;&#1085;&#1086;, &#1085;&#1086; &#1087;&#1086; &#1082;&#1072;&#1082;&#1086;&#1081;-&#1090;&#1086; &#1087;&#1088;&#1080;&#1095;&#1080;&#1085;&#1077; &#1101;&#1090;&#1080;&#1093; &#1092;&#1072;&#1081;&#1083;&#1086;&#1074; &#1085;&#1077;&#1090; &#1074; &#1087;&#1088;&#1077;&#1076;&#1099;&#1076;&#1091;&#1097;&#1077;&#1084; &#1072;&#1088;&#1093;&#1080;&#1074;&#1077; &#1089;&#1086;
                            &#1089;&#1082;&#1086;&#1084;&#1087;&#1080;&#1083;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1085;&#1099;&#1084;&#1080; dll &#1073;&#1080;&#1073;&#1083;&#1080;&#1086;&#1090;&#1077;&#1082;&#1072;&#1084;&#1080;, &#1085;&#1086; &#1086;&#1085;&#1080; &#1087;&#1088;&#1080;&#1089;&#1091;&#1090;&#1089;&#1090;&#1074;&#1091;&#1102;&#1090; &#1074; &#1072;&#1088;&#1093;&#1080;&#1074;&#1077; &#1089;
                            &#1080;&#1089;&#1093;&#1086;&#1076;&#1085;&#1099;&#1084;&#1080; &#1082;&#1086;&#1076;&#1072;&#1084;&#1080;.</p></td></tr></table></div></li><li class="listitem"><p>&#1054;&#1090;&#1082;&#1088;&#1099;&#1074;&#1072;&#1077;&#1084; &#1092;&#1072;&#1081;&#1083; <code class="filename">FirebirdDDEXProvider64.reg</code> &#1089; &#1087;&#1086;&#1084;&#1086;&#1097;&#1100;&#1102;
                        &#1073;&#1083;&#1086;&#1082;&#1085;&#1086;&#1090;&#1072;. &#1053;&#1072;&#1093;&#1086;&#1076;&#1080;&#1084; &#1089;&#1090;&#1088;&#1086;&#1095;&#1082;&#1091;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1072;&#1103; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1090; <code class="filename">%path%</code> &#1080;
                        &#1084;&#1077;&#1085;&#1103;&#1077;&#1084; &#1077;&#1075;&#1086; &#1085;&#1072; &#1087;&#1086;&#1083;&#1085;&#1099;&#1081; &#1087;&#1091;&#1090;&#1100; &#1082; &#1092;&#1072;&#1081;&#1083;&#1091;
                            <code class="filename">FirebirdSql.VisualStudio.DataTools.dll</code>
                        </p><pre class="programlisting">
   "CodeBase"="c:\\Program Files (x86)\\FirebirdDDEX\\FirebirdSql.VisualStudio.DataTools.dll"                         
                        </pre><p>
                    </p></li><li class="listitem"><p>&#1057;&#1086;&#1093;&#1088;&#1072;&#1085;&#1103;&#1077;&#1084; &#1101;&#1090;&#1086;&#1090; &#1092;&#1072;&#1081;&#1083;, &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1072;&#1077;&#1084; &#1077;&#1075;&#1086;. &#1053;&#1072; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089; &#1076;&#1086;&#1073;&#1072;&#1074;&#1080;&#1090;&#1100; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1102; &#1074; &#1088;&#1077;&#1077;&#1089;&#1090;&#1088;
                        &#1085;&#1072;&#1078;&#1080;&#1084;&#1072;&#1077;&#1084; &#1044;&#1040;.</p></li><li class="listitem"><p>&#1058;&#1077;&#1087;&#1077;&#1088;&#1100; &#1085;&#1091;&#1078;&#1085;&#1086; &#1086;&#1090;&#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1090;&#1100; &#1092;&#1072;&#1081;&#1083; machine.config, &#1074; &#1084;&#1086;&#1077;&#1084; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077; &#1086;&#1085;
                        &#1085;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090;&#1089;&#1103; &#1087;&#1086; &#1087;&#1091;&#1090;&#1080;:
                            <code class="filename">C:\Windows\Microsoft.NET\Framework\v4.0.30319\Config</code></p><p>&#1054;&#1090;&#1082;&#1088;&#1099;&#1074;&#1072;&#1077;&#1084; &#1101;&#1090;&#1086;&#1090; &#1092;&#1072;&#1081;&#1083; &#1073;&#1083;&#1086;&#1082;&#1085;&#1086;&#1090;&#1086;&#1084;. &#1053;&#1072;&#1093;&#1086;&#1076;&#1080;&#1084; &#1089;&#1077;&#1082;&#1094;&#1080;&#1102; </p><pre class="programlisting">

  <strong class="hl-tag" style="color: #000096">&lt;system.data&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;DbProviderFactories&gt;</strong>

                            
                        </pre><p> &#1044;&#1086;&#1073;&#1072;&#1074;&#1083;&#1103;&#1077;&#1084; &#1074; &#1101;&#1090;&#1091; &#1089;&#1077;&#1082;&#1094;&#1080;&#1102;
                        &#1089;&#1090;&#1088;&#1086;&#1095;&#1082;&#1091;: </p><pre class="programlisting">

<strong class="hl-tag" style="color: #000096">&lt;add</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"FirebirdClient Data Provider"</span> 
     <span class="hl-attribute" style="color: #F5844C">invariant</span>=<span class="hl-value" style="color: #993300">"FirebirdSql.Data.FirebirdClient"</span> 
     <span class="hl-attribute" style="color: #F5844C">description</span>=<span class="hl-value" style="color: #993300">".Net Framework Data Provider for Firebird"</span> 
     <span class="hl-attribute" style="color: #F5844C">type</span>=<span class="hl-value" style="color: #993300">"FirebirdSql.Data.FirebirdClient.FirebirdClientFactory, 
           FirebirdSql.Data.FirebirdClient, Version=4.10.0.0, Culture=neutral, 
           PublicKeyToken=3750abcc3150b00c"</span><strong class="hl-tag" style="color: #000096"> /&gt;</strong>
                            
                        </pre><p>
                    </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[&#1055;&#1088;&#1080;&#1084;&#1077;&#1095;&#1072;&#1085;&#1080;&#1077;]" src="file:/C:/Program%20Files/Oxygen%20XML%20Editor%2016/frameworks/docbook/css/img/note.png"></td><th align="left">&#1055;&#1088;&#1080;&#1084;&#1077;&#1095;&#1072;&#1085;&#1080;&#1077;</th></tr><tr><td align="left" valign="top"><p>&#1042;&#1089;&#1105; &#1101;&#1090;&#1086; &#1076;&#1077;&#1081;&#1089;&#1090;&#1074;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1086; &#1076;&#1083;&#1103; &#1074;&#1077;&#1088;&#1089;&#1080;&#1080; 4.10.0.</p></td></tr></table></div><p>&#1058;&#1086; &#1078;&#1077; &#1089;&#1072;&#1084;&#1086;&#1077; &#1087;&#1088;&#1086;&#1076;&#1077;&#1083;&#1072;&#1077;&#1084; &#1076;&#1083;&#1103; <code class="filename">machine.config</code>, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081;
                        &#1085;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090;&#1089;&#1103; &#1074;
                            <code class="filename">c:\Windows\Microsoft.NET\Framework64\v4.0.30319\Config\</code></p><p>&#1059;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1082;&#1072; &#1079;&#1072;&#1082;&#1086;&#1085;&#1095;&#1077;&#1085;&#1072;.</p><p>&#1044;&#1083;&#1103; &#1087;&#1088;&#1086;&#1074;&#1077;&#1088;&#1082;&#1080;, &#1095;&#1090;&#1086; &#1074;&#1089;&#1105; &#1091;&#1089;&#1087;&#1077;&#1096;&#1085;&#1086; &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1083;&#1086;&#1089;&#1100;, &#1079;&#1072;&#1087;&#1091;&#1089;&#1082;&#1072;&#1077;&#1084; Visual Studio 2015.
                        &#1053;&#1072;&#1093;&#1086;&#1076;&#1080;&#1084; &#1086;&#1073;&#1086;&#1079;&#1088;&#1077;&#1074;&#1072;&#1090;&#1077;&#1083;&#1100; &#1089;&#1077;&#1088;&#1074;&#1077;&#1088;&#1086;&#1074; &#1080; &#1087;&#1099;&#1090;&#1072;&#1077;&#1084;&#1089;&#1103; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1080;&#1090;&#1100;&#1089;&#1103; &#1082; &#1086;&#1076;&#1085;&#1086;&#1081; &#1080;&#1079;
                        &#1089;&#1091;&#1097;&#1077;&#1089;&#1090;&#1074;&#1091;&#1102;&#1097;&#1080;&#1093; &#1073;&#1072;&#1079; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; Firebird.</p></li></ol></div><p>
            </p><div class="figure"><a name="d5e113"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.1. &#1044;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1074; Visual Studio</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-odbc.png" width="680" alt="&#1044;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1074; Visual Studio."></td></tr></table></div></div></div><p><br class="figure-break">
            </p><div class="figure"><a name="d5e120"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.2. &#1042;&#1099;&#1073;&#1086;&#1088; &#1087;&#1088;&#1086;&#1074;&#1072;&#1081;&#1076;&#1077;&#1088;&#1072; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-select-datasource.png" width="680" alt="&#1042;&#1099;&#1073;&#1086;&#1088; &#1087;&#1088;&#1086;&#1074;&#1072;&#1081;&#1076;&#1077;&#1088;&#1072; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;."></td></tr></table></div></div></div><p><br class="figure-break">
            </p><div class="figure"><a name="d5e127"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.3. &#1053;&#1072;&#1089;&#1090;&#1088;&#1086;&#1081;&#1082;&#1072; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1082; Firebird</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-fbprovider.png" width="680" alt="&#1053;&#1072;&#1089;&#1090;&#1088;&#1086;&#1081;&#1082;&#1072; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1082; Firebird."></td></tr></table></div></div></div><p><br class="figure-break">
            </p><div class="figure"><a name="d5e134"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.4. &#1059;&#1089;&#1087;&#1077;&#1096;&#1085;&#1086;&#1077; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077;</b></p><div class="figure-contents"><div class="mediaobject"><img src="../../images/dotnet-connok.png" alt="&#1059;&#1089;&#1087;&#1077;&#1096;&#1085;&#1086;&#1077; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077;."></div></div></div><p><br class="figure-break">
        </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e141"></a>&#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072;</h2></div></div></div><p>&#1042; &#1076;&#1072;&#1085;&#1085;&#1086;&#1081; &#1075;&#1083;&#1072;&#1074;&#1077; &#1084;&#1099; &#1088;&#1072;&#1089;&#1089;&#1084;&#1086;&#1090;&#1088;&#1080;&#1084; &#1087;&#1088;&#1080;&#1084;&#1077;&#1088; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1103; Windows Forms &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103;. &#1054;&#1089;&#1090;&#1072;&#1083;&#1100;&#1085;&#1099;&#1077; &#1090;&#1080;&#1087;&#1099;
            &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1081; &#1093;&#1086;&#1090;&#1100; &#1080; &#1086;&#1090;&#1083;&#1080;&#1095;&#1072;&#1102;&#1090;&#1089;&#1103;, &#1085;&#1086; &#1087;&#1088;&#1080;&#1085;&#1094;&#1080;&#1087;&#1099; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1089; Firebird &#1095;&#1077;&#1088;&#1077;&#1079; Entity Framework
            &#1086;&#1089;&#1090;&#1072;&#1102;&#1090;&#1089;&#1103; &#1090;&#1077; &#1078;&#1077;.</p><p>&#1055;&#1088;&#1077;&#1078;&#1076;&#1077; &#1074;&#1089;&#1077;&#1075;&#1086;, &#1087;&#1086;&#1089;&#1083;&#1077; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1103; Windows Forms &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072; &#1085;&#1072;&#1084; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1076;&#1086;&#1073;&#1072;&#1074;&#1080;&#1090;&#1100; &#1089; &#1087;&#1086;&#1084;&#1086;&#1097;&#1100;&#1102;
            &#1084;&#1077;&#1085;&#1077;&#1076;&#1078;&#1077;&#1088;&#1072; &#1087;&#1072;&#1082;&#1077;&#1090;&#1086;&#1074; NuGet &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1077; &#1087;&#1072;&#1082;&#1077;&#1090;&#1099;:</p><div class="itemizedlist"><ul class="itemizedlist compact" style="list-style-type: disc; "><li class="listitem"><p>FirebirdSql.Data.FirebirdClient</p></li><li class="listitem"><p>EntityFramework</p></li><li class="listitem"><p>EntityFramework.Firebird</p></li></ul></div><p>&#1044;&#1083;&#1103; &#1101;&#1090;&#1086;&#1075;&#1086; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1097;&#1105;&#1083;&#1082;&#1085;&#1091;&#1090;&#1100; &#1087;&#1088;&#1072;&#1074;&#1086;&#1081; &#1082;&#1083;&#1072;&#1074;&#1080;&#1096;&#1077;&#1081; &#1084;&#1099;&#1096;&#1080; &#1087;&#1086; &#1080;&#1084;&#1077;&#1085;&#1080; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072; &#1074; &#1086;&#1073;&#1086;&#1079;&#1088;&#1077;&#1074;&#1072;&#1090;&#1077;&#1083;&#1077;
            &#1088;&#1077;&#1096;&#1077;&#1085;&#1080;&#1081; &#1080; &#1074; &#1074;&#1099;&#1087;&#1072;&#1076;&#1072;&#1102;&#1097;&#1077;&#1084; &#1084;&#1077;&#1085;&#1102; &#1074;&#1099;&#1073;&#1088;&#1072;&#1090;&#1100; &#1087;&#1091;&#1085;&#1082;&#1090; &laquo;&#1059;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1087;&#1072;&#1082;&#1077;&#1090;&#1072;&#1084;&#1080; NuGet&raquo;. </p><div class="figure"><a name="d5e153"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.5. &#1050;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1085;&#1086;&#1077; &#1084;&#1077;&#1085;&#1102; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072;</b></p><div class="figure-contents"><div class="mediaobject"><img src="../../images/dotnet-vsmenu-nuget.png" alt="&#1050;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1085;&#1086;&#1077; &#1084;&#1077;&#1085;&#1102; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072;."></div></div></div><p><br class="figure-break">
        </p><p>&#1042; &#1087;&#1086;&#1103;&#1074;&#1080;&#1074;&#1096;&#1077;&#1084;&#1089;&#1103; &#1084;&#1077;&#1085;&#1077;&#1076;&#1078;&#1077;&#1088;&#1077; &#1087;&#1072;&#1082;&#1077;&#1090;&#1086;&#1074; &#1087;&#1088;&#1086;&#1080;&#1079;&#1074;&#1077;&#1089;&#1090;&#1080; &#1087;&#1086;&#1080;&#1089;&#1082; &#1080; &#1091;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1082;&#1091; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1099;&#1093; &#1087;&#1072;&#1082;&#1077;&#1090;&#1086;&#1074;. </p><div class="figure"><a name="d5e161"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.6. &#1050;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1085;&#1086;&#1077; &#1084;&#1077;&#1085;&#1102; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072;</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-nuget.png" width="680" alt="&#1050;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1085;&#1086;&#1077; &#1084;&#1077;&#1085;&#1102; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072;."></td></tr></table></div></div></div><p><br class="figure-break">
        </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="app-dotnet-createedm"></a>&#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; EDM &#1084;&#1086;&#1076;&#1077;&#1083;&#1080;</h2></div></div></div><p>&#1042; &#1089;&#1074;&#1086;&#1105;&#1084; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1080; &#1084;&#1099; &#1073;&#1091;&#1076;&#1077;&#1084; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1087;&#1086;&#1076;&#1093;&#1086;&#1076; Code First.</p><p>&#1044;&#1083;&#1103; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1103; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080; EDM &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1097;&#1105;&#1083;&#1082;&#1085;&#1091;&#1090;&#1100; &#1087;&#1088;&#1072;&#1074;&#1086;&#1081; &#1082;&#1083;&#1072;&#1074;&#1080;&#1096;&#1077;&#1081; &#1084;&#1099;&#1096;&#1080; &#1087;&#1086; &#1080;&#1084;&#1077;&#1085;&#1080; &#1087;&#1088;&#1086;&#1077;&#1082;&#1090;&#1072; &#1074;
            &#1086;&#1073;&#1086;&#1079;&#1088;&#1077;&#1074;&#1072;&#1090;&#1077;&#1083;&#1077; &#1088;&#1077;&#1096;&#1077;&#1085;&#1080;&#1081; &#1080; &#1074;&#1099;&#1073;&#1088;&#1072;&#1090;&#1100; &#1087;&#1091;&#1085;&#1082;&#1090; &#1084;&#1077;&#1085;&#1102; <span class="guimenu">&#1044;&#1086;&#1073;&#1072;&#1074;&#1080;&#1090;&#1100; -&gt; &#1057;&#1086;&#1079;&#1076;&#1072;&#1090;&#1100;
            &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;</span>. </p><div class="figure"><a name="d5e173"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.7. &#1044;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-add-elem.png" width="680" alt="&#1044;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;."></td></tr></table></div></div></div><p><br class="figure-break">
        </p><p>&#1044;&#1072;&#1083;&#1077;&#1077; &#1074; &#1084;&#1072;&#1089;&#1090;&#1077;&#1088;&#1077; &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1085;&#1086;&#1074;&#1086;&#1075;&#1086; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072; &#1074;&#1099;&#1073;&#1080;&#1088;&#1072;&#1077;&#1084; &#1087;&#1091;&#1085;&#1082;&#1090; &laquo;&#1052;&#1086;&#1076;&#1077;&#1083;&#1100; ADO.NET EDM&raquo;. </p><div class="figure"><a name="d5e181"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.8. &#1044;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080; ADO.NET EDM</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-add-model.png" width="680" alt="&#1044;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080; ADO.NET EDM."></td></tr></table></div></div></div><p><br class="figure-break">
        </p><p>&#1055;&#1086;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1091; &#1091; &#1085;&#1072;&#1089; &#1091;&#1078;&#1077; &#1089;&#1091;&#1097;&#1077;&#1089;&#1090;&#1074;&#1091;&#1077;&#1090; &#1073;&#1072;&#1079;&#1072; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;, &#1090;&#1086; &#1073;&#1091;&#1076;&#1077;&#1084; &#1075;&#1077;&#1085;&#1077;&#1088;&#1080;&#1088;&#1086;&#1074;&#1072;&#1090;&#1100; EDM &#1084;&#1086;&#1076;&#1077;&#1083;&#1100; &#1080;&#1079; &#1073;&#1072;&#1079;&#1099;
            &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;. </p><div class="figure"><a name="d5e189"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.9. &#1042;&#1099;&#1073;&#1086;&#1088; &#1090;&#1080;&#1087;&#1072; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080;</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-edm-master.png" width="680" alt="&#1042;&#1099;&#1073;&#1086;&#1088; &#1090;&#1080;&#1087;&#1072; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080;."></td></tr></table></div></div></div><p><br class="figure-break">
        </p><p>&#1058;&#1077;&#1087;&#1077;&#1088;&#1100; &#1085;&#1072;&#1076;&#1086; &#1074;&#1099;&#1073;&#1088;&#1072;&#1090;&#1100; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077;, &#1080;&#1079; &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1075;&#1086; &#1073;&#1091;&#1076;&#1077;&#1090; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1072; &#1084;&#1086;&#1076;&#1077;&#1083;&#1100;. &#1045;&#1089;&#1083;&#1080; &#1058;&#1072;&#1082;&#1086;&#1075;&#1086;
            &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1085;&#1077;&#1090;, &#1090;&#1086; &#1077;&#1075;&#1086; &#1085;&#1072;&#1076;&#1086; &#1089;&#1086;&#1079;&#1076;&#1072;&#1090;&#1100;. </p><div class="figure"><a name="d5e197"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.10. &#1042;&#1099;&#1073;&#1086;&#1088; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1076;&#1083;&#1103; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080;</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-edm-selectsource.png" width="680" alt="&#1042;&#1099;&#1073;&#1086;&#1088; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1076;&#1083;&#1103; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080;."></td></tr></table></div></div></div><p><br class="figure-break">
            </p><div class="figure"><a name="d5e204"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.11. &#1055;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-connection-params.png" width="680" alt="&#1055;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;."></td></tr></table></div></div></div><p><br class="figure-break">
        </p><p>&#1050;&#1088;&#1086;&#1084;&#1077; &#1086;&#1089;&#1085;&#1086;&#1074;&#1085;&#1099;&#1093; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1086;&#1074; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1084;&#1086;&#1075;&#1091;&#1090; &#1087;&#1086;&#1090;&#1088;&#1077;&#1073;&#1086;&#1074;&#1072;&#1090;&#1100;&#1089;&#1103; &#1090;&#1072;&#1082;&#1078;&#1077; &#1091;&#1082;&#1072;&#1079;&#1072;&#1090;&#1100; &#1088;&#1103;&#1076;
            &#1076;&#1086;&#1087;&#1086;&#1083;&#1085;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1099;&#1093; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1086;&#1074;, &#1085;&#1072;&#1087;&#1088;&#1080;&#1084;&#1077;&#1088;, &#1091;&#1088;&#1086;&#1074;&#1077;&#1085;&#1100; &#1080;&#1079;&#1086;&#1083;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1085;&#1086;&#1089;&#1090;&#1080; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1081; (&#1087;&#1086; &#1091;&#1084;&#1086;&#1083;&#1095;&#1072;&#1085;&#1080;&#1102;
            Read Commited), &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1085;&#1080;&#1077; &#1087;&#1091;&#1083;&#1072; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1081; &#1080; &#1090;.&#1076;. &#1055;&#1086;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1091; Entity Framework (&#1082;&#1072;&#1082;
            &#1074;&#1087;&#1088;&#1086;&#1095;&#1077;&#1084;, ADO.NET &#1074; &#1094;&#1077;&#1083;&#1086;&#1084;) &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1077;&#1090; &#1086;&#1090;&#1089;&#1086;&#1077;&#1076;&#1080;&#1085;&#1105;&#1085;&#1085;&#1091;&#1102; &#1084;&#1086;&#1076;&#1077;&#1083;&#1100; &#1074;&#1079;&#1072;&#1080;&#1084;&#1086;&#1076;&#1077;&#1081;&#1089;&#1090;&#1074;&#1080;&#1103;, &#1087;&#1088;&#1080; &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1081;
            &#1082;&#1072;&#1078;&#1076;&#1086;&#1077; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077; &#1080; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1103; &#1072;&#1082;&#1090;&#1080;&#1074;&#1085;&#1072; &#1086;&#1095;&#1077;&#1085;&#1100; &#1082;&#1086;&#1088;&#1086;&#1090;&#1082;&#1080;&#1081; &#1087;&#1088;&#1086;&#1084;&#1077;&#1078;&#1091;&#1090;&#1086;&#1082; &#1074;&#1088;&#1077;&#1084;&#1077;&#1085;&#1080;, &#1090;&#1086; &#1103; &#1073;&#1099;
            &#1088;&#1077;&#1082;&#1086;&#1084;&#1077;&#1085;&#1076;&#1086;&#1074;&#1072;&#1083; &#1079;&#1072;&#1076;&#1072;&#1090;&#1100; &#1088;&#1077;&#1078;&#1080;&#1084; &#1080;&#1079;&#1086;&#1083;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1085;&#1086;&#1089;&#1090;&#1080; Snapshot. </p><div class="figure"><a name="d5e212"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.12. &#1044;&#1086;&#1087;&#1086;&#1083;&#1085;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1099;&#1077; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;</b></p><div class="figure-contents"><div class="mediaobject"><img src="../../images/dotnet-connection-properties.png" alt="&#1044;&#1086;&#1087;&#1086;&#1083;&#1085;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1099;&#1077; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;."></div></div></div><p><br class="figure-break">
        </p><p>&#1042; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1077; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1084;&#1072;&#1089;&#1090;&#1077;&#1088;&#1072; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1103; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080; &#1091; &#1074;&#1072;&#1089; &#1089;&#1087;&#1088;&#1086;&#1089;&#1103;&#1090;, &#1082;&#1072;&#1082; &#1093;&#1088;&#1072;&#1085;&#1080;&#1090;&#1100; &#1089;&#1090;&#1088;&#1086;&#1082;&#1091;
            &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;. </p><div class="figure"><a name="d5e220"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.13. &#1057;&#1086;&#1093;&#1088;&#1072;&#1085;&#1077;&#1085;&#1080;&#1077; &#1089;&#1090;&#1088;&#1086;&#1082;&#1080; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-save-connectionstring.png" width="680" alt="&#1057;&#1086;&#1093;&#1088;&#1072;&#1085;&#1077;&#1085;&#1080;&#1077; &#1089;&#1090;&#1088;&#1086;&#1082;&#1080; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;."></td></tr></table></div></div></div><p><br class="figure-break">
        </p><p>&#1045;&#1089;&#1083;&#1080; &#1074;&#1099; &#1089;&#1090;&#1088;&#1086;&#1080;&#1090;&#1077; &#1074;&#1077;&#1073; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1077; &#1080;&#1083;&#1080; &#1090;&#1088;&#1105;&#1093;&#1079;&#1074;&#1077;&#1085;&#1082;&#1091;, &#1075;&#1076;&#1077; &#1074;&#1089;&#1077; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1080; &#1073;&#1091;&#1076;&#1091;&#1090; &#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1090;&#1100; &#1089;
            &#1073;&#1072;&#1079;&#1086;&#1081; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1087;&#1086;&#1076; &#1086;&#1076;&#1085;&#1086;&#1081; &#1080; &#1090;&#1086;&#1081; &#1078;&#1077; &#1091;&#1095;&#1105;&#1090;&#1085;&#1086;&#1081; &#1079;&#1072;&#1087;&#1080;&#1089;&#1100;&#1102;, &#1090;&#1086; &#1089;&#1084;&#1077;&#1083;&#1086; &#1074;&#1099;&#1073;&#1080;&#1088;&#1072;&#1081;&#1090;&#1077; &laquo;&#1044;&#1072;&raquo;. &#1045;&#1089;&#1083;&#1080; &#1078;&#1077; &#1074;&#1072;&#1096;&#1077;
            &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1077; &#1076;&#1086;&#1083;&#1078;&#1085;&#1086; &#1079;&#1072;&#1087;&#1088;&#1072;&#1096;&#1080;&#1074;&#1072;&#1090;&#1100; &#1091;&#1095;&#1105;&#1090;&#1085;&#1099;&#1077; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077; &#1076;&#1083;&#1103; &#1089;&#1086;&#1077;&#1076;&#1080;&#1085;&#1077;&#1085;&#1080;&#1103; &#1089; &#1073;&#1072;&#1079;&#1086;&#1081; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1074;&#1099;&#1073;&#1080;&#1088;&#1072;&#1081;&#1090;&#1077;
            &laquo;&#1053;&#1077;&#1090;&raquo;. &#1042;&#1087;&#1088;&#1086;&#1095;&#1077;&#1084;, &#1089; &#1084;&#1072;&#1089;&#1090;&#1077;&#1088;&#1072;&#1084;&#1080; &#1075;&#1086;&#1088;&#1072;&#1079;&#1076;&#1086; &#1073;&#1086;&#1083;&#1077;&#1077; &#1091;&#1076;&#1086;&#1073;&#1085;&#1086; &#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1090;&#1100;, &#1082;&#1086;&#1075;&#1076;&#1072; &#1091; &#1074;&#1072;&#1089; &#1074;&#1099;&#1073;&#1088;&#1072;&#1085; &#1087;&#1091;&#1085;&#1082;&#1090;
            &laquo;&#1044;&#1072;&raquo;. &#1042;&#1099; &#1074;&#1089;&#1077;&#1075;&#1076;&#1072; &#1084;&#1086;&#1078;&#1077;&#1090;&#1077; &#1101;&#1090;&#1086; &#1080;&#1079;&#1084;&#1077;&#1085;&#1080;&#1090;&#1100; &#1074; &#1075;&#1086;&#1090;&#1086;&#1074;&#1086;&#1084; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1080;, &#1087;&#1088;&#1086;&#1089;&#1090;&#1086; &#1086;&#1090;&#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1074; &#1089;&#1090;&#1088;&#1086;&#1082;&#1091;
            &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1074; &#1092;&#1072;&#1081;&#1083;&#1077; &#1082;&#1086;&#1085;&#1092;&#1080;&#1075;&#1091;&#1088;&#1072;&#1094;&#1080;&#1080; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103;
                    <code class="filename"><em class="replaceable"><code>&lt;AppName&gt;</code></em>.exe.conf</code>. &#1057;&#1090;&#1088;&#1086;&#1082;&#1072;
            &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1073;&#1091;&#1076;&#1077;&#1090; &#1089;&#1086;&#1093;&#1088;&#1072;&#1085;&#1077;&#1085;&#1072; &#1074; &#1089;&#1077;&#1082;&#1094;&#1080;&#1080; <span class="bold"><strong>connectionStrings</strong></span>
            &#1087;&#1088;&#1080;&#1084;&#1077;&#1088;&#1085;&#1086; &#1074; &#1090;&#1072;&#1082;&#1086;&#1084; &#1074;&#1080;&#1076;&#1077; </p><pre class="programlisting">

<strong class="hl-tag" style="color: #000096">&lt;add</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"DbModel"</span> 
     <span class="hl-attribute" style="color: #F5844C">connectionString</span>=<span class="hl-value" style="color: #993300">"character set=UTF8; data source=localhost; 
                       initial catalog=examples; port number=3050; 
                       user id=sysdba; dialect=3; isolationlevel=Snapshot; 
                       pooling=True; password=masterkey;"</span> 
     <span class="hl-attribute" style="color: #F5844C">providerName</span>=<span class="hl-value" style="color: #993300">"FirebirdSql.Data.FirebirdClient"</span><strong class="hl-tag" style="color: #000096"> /&gt;</strong>
                    
                </pre><p>
        </p><p>&#1044;&#1083;&#1103; &#1090;&#1086;&#1075;&#1086; &#1095;&#1090;&#1086;&#1073;&#1099; &#1092;&#1072;&#1081;&#1083; &#1082;&#1086;&#1085;&#1092;&#1080;&#1075;&#1091;&#1088;&#1072;&#1094;&#1080;&#1080; &#1087;&#1077;&#1088;&#1077;&#1089;&#1090;&#1072;&#1083; &#1093;&#1088;&#1072;&#1085;&#1080;&#1090;&#1100; &#1082;&#1086;&#1085;&#1092;&#1080;&#1076;&#1077;&#1085;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1091;&#1102; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1102; &#1087;&#1088;&#1086;&#1089;&#1090;&#1086;
            &#1091;&#1076;&#1072;&#1083;&#1080;&#1090;&#1077; &#1080;&#1079; &#1089;&#1090;&#1088;&#1086;&#1082;&#1080; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; <span class="italic">password=masterkey;</span></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: &#1047;&#1072;&#1084;&#1077;&#1095;&#1072;&#1085;&#1080;&#1077; &#1086; &#1088;&#1072;&#1073;&#1086;&#1090;&#1077; &#1089; Firebird 3.0"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[&#1055;&#1088;&#1080;&#1084;&#1077;&#1095;&#1072;&#1085;&#1080;&#1077;]" src="file:/C:/Program%20Files/Oxygen%20XML%20Editor%2016/frameworks/docbook/css/img/note.png"></td><th align="left">&#1047;&#1072;&#1084;&#1077;&#1095;&#1072;&#1085;&#1080;&#1077; &#1086; &#1088;&#1072;&#1073;&#1086;&#1090;&#1077; &#1089; Firebird 3.0</th></tr><tr><td align="left" valign="top"><p> &#1050; &#1089;&#1086;&#1078;&#1072;&#1083;&#1077;&#1085;&#1080;&#1102; &#1090;&#1077;&#1082;&#1091;&#1097;&#1080;&#1081; ADO .Net &#1087;&#1088;&#1086;&#1074;&#1072;&#1081;&#1076;&#1077;&#1088; &#1076;&#1083;&#1103; Firebird (&#1074;&#1077;&#1088;&#1089;&#1080;&#1103; 5.9.0.0) &#1085;&#1077;
                &#1087;&#1086;&#1076;&#1076;&#1077;&#1088;&#1078;&#1080;&#1074;&#1072;&#1077;&#1090; &#1096;&#1080;&#1092;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1077; &#1089;&#1077;&#1090;&#1077;&#1074;&#1086;&#1075;&#1086; &#1090;&#1088;&#1072;&#1092;&#1080;&#1082;&#1072; (&#1087;&#1086; &#1091;&#1084;&#1086;&#1083;&#1095;&#1072;&#1085;&#1080;&#1102; &#1074; Firebird 3.0). &#1055;&#1086;&#1101;&#1090;&#1086;&#1084;&#1091; &#1077;&#1089;&#1083;&#1080;
                &#1074;&#1099; &#1078;&#1077;&#1083;&#1072;&#1077;&#1090;&#1077; &#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1090;&#1100; &#1089; Firebird 3.0, &#1090;&#1086; &#1074;&#1072;&#1084; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1080;&#1079;&#1084;&#1077;&#1085;&#1080;&#1090;&#1100; &#1085;&#1077;&#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1077; &#1085;&#1072;&#1089;&#1090;&#1088;&#1086;&#1081;&#1082;&#1080; &#1074;
                    <code class="filename">firebird.conf</code> (&#1080;&#1083;&#1080; &#1074; <code class="filename">databases.conf</code>
                &#1076;&#1083;&#1103; &#1082;&#1086;&#1085;&#1082;&#1088;&#1077;&#1090;&#1085;&#1086;&#1081; &#1041;&#1044;), &#1095;&#1090;&#1086;&#1073;&#1099; Firebird &#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1083; &#1073;&#1077;&#1079; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103; &#1096;&#1080;&#1092;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103; &#1089;&#1077;&#1090;&#1080;. &#1044;&#1083;&#1103;
                &#1101;&#1090;&#1086;&#1075;&#1086; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1087;&#1086;&#1084;&#1077;&#1085;&#1103;&#1090;&#1100; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1077; &#1085;&#1072;&#1089;&#1090;&#1088;&#1086;&#1081;&#1082;&#1080;:
                </p><pre class="programlisting">
WireCrypt = Disabled                    
                </pre><p>
            </p></td></tr></table></div><p>&#1044;&#1072;&#1083;&#1077;&#1077; &#1091; &#1074;&#1072;&#1089; &#1089;&#1087;&#1088;&#1086;&#1089;&#1103;&#1090;, &#1082;&#1072;&#1082;&#1080;&#1077; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1099; &#1080; &#1087;&#1088;&#1077;&#1076;&#1089;&#1090;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1076;&#1086;&#1083;&#1078;&#1085;&#1099; &#1073;&#1099;&#1090;&#1100; &#1074;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1099; &#1084;&#1086;&#1076;&#1077;&#1083;&#1100;. </p><div class="figure"><a name="d5e241"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.14. &#1057;&#1086;&#1093;&#1088;&#1072;&#1085;&#1077;&#1085;&#1080;&#1077; &#1089;&#1090;&#1088;&#1086;&#1082;&#1080; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-select-edm-tables.png" width="680" alt="&#1057;&#1086;&#1093;&#1088;&#1072;&#1085;&#1077;&#1085;&#1080;&#1077; &#1089;&#1090;&#1088;&#1086;&#1082;&#1080; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;."></td></tr></table></div></div></div><p><br class="figure-break">
        </p><p>&#1042; &#1087;&#1088;&#1080;&#1085;&#1094;&#1080;&#1087;&#1077; EDM &#1084;&#1086;&#1076;&#1077;&#1083;&#1100; &#1075;&#1086;&#1090;&#1086;&#1074;&#1072;. &#1055;&#1086;&#1089;&#1083;&#1077; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1101;&#1090;&#1086;&#1075;&#1086; &#1084;&#1072;&#1089;&#1090;&#1077;&#1088;&#1072; &#1091; &#1074;&#1072;&#1089; &#1076;&#1086;&#1083;&#1078;&#1085;&#1086; &#1087;&#1086;&#1103;&#1074;&#1080;&#1090;&#1100;&#1089;&#1103; 5
            &#1085;&#1086;&#1074;&#1099;&#1093; &#1092;&#1072;&#1081;&#1083;&#1086;&#1074;. &#1054;&#1076;&#1080;&#1085; &#1092;&#1072;&#1081;&#1083; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080; &#1080; &#1095;&#1077;&#1090;&#1099;&#1088;&#1077; &#1092;&#1072;&#1081;&#1083;&#1072; &#1086;&#1087;&#1080;&#1089;&#1099;&#1074;&#1072;&#1102;&#1097;&#1080;&#1093; &#1082;&#1072;&#1078;&#1076;&#1091;&#1102; &#1080;&#1079; &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1077;&#1081;
            &#1084;&#1086;&#1076;&#1077;&#1083;&#1080;.</p><p>&#1044;&#1072;&#1074;&#1072;&#1081;&#1090;&#1077; &#1087;&#1086;&#1089;&#1084;&#1086;&#1090;&#1088;&#1080;&#1084; &#1086;&#1076;&#1080;&#1085; &#1080;&#1079; &#1089;&#1075;&#1077;&#1085;&#1077;&#1088;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1085;&#1099;&#1093; &#1092;&#1072;&#1081;&#1083;&#1086;&#1074; &#1086;&#1087;&#1080;&#1089;&#1099;&#1074;&#1072;&#1102;&#1097;&#1080;&#1093; &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1100; INVOICE. </p><pre class="programlisting">
                
<em><span class="hl-annotation" style="color: gray">[Table("Firebird.INVOICE")]</span></em>
<strong class="hl-keyword">public</strong> <strong class="hl-keyword">partial</strong> <strong class="hl-keyword">class</strong> INVOICE
{
    <em><span class="hl-annotation" style="color: gray">[System.Diagnostics.CodeAnalysis.SuppressMessage("Microsoft.Usage", 
       "CA2214:DoNotCallOverridableMethodsInConstructors")]</span></em>
    <strong class="hl-keyword">public</strong> INVOICE()
    {
        INVOICE_LINES = <strong class="hl-keyword">new</strong> HashSet&lt;INVOICE_LINE&gt;();
    }

    <em><span class="hl-annotation" style="color: gray">[Key]</span></em>
    <em><span class="hl-annotation" style="color: gray">[DatabaseGenerated(DatabaseGeneratedOption.None)]</span></em>
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">int</strong> INVOICE_ID { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }

    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">int</strong> CUSTOMER_ID { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }

    <strong class="hl-keyword">public</strong> DateTime? INVOICE_DATE { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }

    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">decimal</strong>? TOTAL_SALE { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }

    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">short</strong> PAYED { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }

    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">virtual</strong> CUSTOMER CUSTOMER { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }

    <em><span class="hl-annotation" style="color: gray">[System.Diagnostics.CodeAnalysis.SuppressMessage("Microsoft.Usage", 
       "CA2227:CollectionPropertiesShouldBeReadOnly")]</span></em>
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">virtual</strong> ICollection&lt;INVOICE_LINE&gt; INVOICE_LINES { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
}  

            </pre><p>
        </p><p>&#1050;&#1083;&#1072;&#1089;&#1089; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1072;&#1090; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1077; &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1102;&#1090; &#1087;&#1086;&#1083;&#1103; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1099; INVOICE. &#1050;&#1072;&#1078;&#1076;&#1086;&#1077; &#1080;&#1079; &#1090;&#1072;&#1082;&#1080;&#1093;
            &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074; &#1089;&#1085;&#1072;&#1073;&#1078;&#1077;&#1085;&#1086; &#1072;&#1090;&#1088;&#1080;&#1073;&#1091;&#1090;&#1072;&#1084;&#1080;, &#1086;&#1087;&#1080;&#1089;&#1099;&#1074;&#1072;&#1102;&#1097;&#1080;&#1084;&#1080; &#1086;&#1075;&#1088;&#1072;&#1085;&#1080;&#1095;&#1077;&#1085;&#1080;&#1103;. &#1055;&#1086;&#1076;&#1088;&#1086;&#1073;&#1085;&#1077;&#1077; &#1086;&#1073; &#1088;&#1072;&#1079;&#1083;&#1080;&#1095;&#1085;&#1099;&#1093; &#1072;&#1090;&#1088;&#1080;&#1073;&#1091;&#1090;&#1072;&#1093;
            &#1074;&#1099; &#1084;&#1086;&#1078;&#1077;&#1090;&#1077; &#1087;&#1086;&#1095;&#1080;&#1090;&#1072;&#1090;&#1100; &#1074; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1080; &#1052;&#1072;&#1081;&#1082;&#1088;&#1086;&#1089;&#1086;&#1092;&#1090; <a class="link" href="https://msdn.microsoft.com/en-us/data/jj591583" target="_top">Code First Data
                Annotations</a>.</p><p>&#1050;&#1088;&#1086;&#1084;&#1077; &#1090;&#1086;&#1075;&#1086;, &#1073;&#1099;&#1083;&#1086; &#1089;&#1075;&#1077;&#1085;&#1077;&#1088;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1086; &#1077;&#1097;&#1105; &#1076;&#1074;&#1072; &#1085;&#1072;&#1074;&#1080;&#1075;&#1072;&#1094;&#1080;&#1086;&#1085;&#1085;&#1099;&#1093; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072;
                <code class="varname">CUSTOMER</code> &#1080; <code class="varname">INVOICE_LINES</code>. &#1055;&#1077;&#1088;&#1074;&#1086;&#1077; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1090;
            &#1089;&#1089;&#1099;&#1083;&#1082;&#1091; &#1085;&#1072; &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1100; &#1087;&#1086;&#1089;&#1090;&#1072;&#1074;&#1097;&#1080;&#1082;&#1072;, &#1074;&#1090;&#1086;&#1088;&#1086;&#1077; &#8212; &#1082;&#1086;&#1083;&#1083;&#1077;&#1082;&#1094;&#1080;&#1102; &#1089;&#1090;&#1088;&#1086;&#1082; &#1085;&#1072;&#1082;&#1083;&#1072;&#1076;&#1085;&#1099;&#1093;. &#1054;&#1085;&#1086; &#1073;&#1099;&#1083;&#1086;
            &#1089;&#1075;&#1077;&#1085;&#1077;&#1088;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1086; &#1087;&#1086;&#1090;&#1086;&#1084;&#1091;, &#1095;&#1090;&#1086; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1072; INVOICE_LINE &#1080;&#1084;&#1077;&#1077;&#1090; &#1074;&#1085;&#1077;&#1096;&#1085;&#1080;&#1081; &#1082;&#1083;&#1102;&#1095; &#1085;&#1072; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1091; INVOICE.
            &#1050;&#1086;&#1085;&#1077;&#1095;&#1085;&#1086;, &#1074;&#1099; &#1084;&#1086;&#1078;&#1077;&#1090;&#1077; &#1091;&#1076;&#1072;&#1083;&#1080;&#1090;&#1100; &#1101;&#1090;&#1086; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1086; &#1080;&#1079; &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1080; <code class="classname">INVOICE</code>, &#1085;&#1086;
            &#1076;&#1077;&#1083;&#1072;&#1090;&#1100; &#1101;&#1090;&#1086; &#1074;&#1086;&#1074;&#1089;&#1077; &#1085;&#1077; &#1086;&#1073;&#1103;&#1079;&#1072;&#1090;&#1077;&#1083;&#1100;&#1085;&#1086;. &#1044;&#1077;&#1083;&#1086; &#1074; &#1090;&#1086;&#1084;, &#1095;&#1090;&#1086; &#1074; &#1076;&#1072;&#1085;&#1085;&#1086;&#1084; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072;
                <code class="varname">CUSTOMER</code> &#1080; <code class="varname">INVOICE_LINES</code> &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1077;&#1090; &#1090;&#1072;&#1082;
            &#1085;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084;&#1091;&#1102; &laquo;&#1083;&#1077;&#1085;&#1080;&#1074;&#1091;&#1102; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1091;&raquo;. &#1055;&#1088;&#1080; &#1090;&#1072;&#1082;&#1086;&#1084; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1072; &#1086;&#1089;&#1091;&#1097;&#1077;&#1089;&#1090;&#1074;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103; &#1087;&#1088;&#1080; &#1087;&#1077;&#1088;&#1074;&#1086;&#1084; &#1086;&#1073;&#1088;&#1072;&#1097;&#1077;&#1085;&#1080;&#1080; &#1082;
            &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1091;, &#1090;.&#1077;. &#1077;&#1089;&#1083;&#1080; &#1089;&#1074;&#1103;&#1079;&#1072;&#1085;&#1085;&#1099;&#1077; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077; &#1085;&#1077; &#1085;&#1091;&#1078;&#1085;&#1099;, &#1090;&#1086; &#1086;&#1085;&#1080; &#1085;&#1077; &#1087;&#1086;&#1076;&#1075;&#1088;&#1091;&#1078;&#1072;&#1102;&#1090;&#1089;&#1103;. &#1054;&#1076;&#1085;&#1072;&#1082;&#1086; &#1087;&#1088;&#1080; &#1087;&#1077;&#1088;&#1074;&#1086;&#1084;
            &#1078;&#1077; &#1086;&#1073;&#1088;&#1072;&#1097;&#1077;&#1085;&#1080;&#1080; &#1082; &#1085;&#1072;&#1074;&#1080;&#1075;&#1072;&#1094;&#1080;&#1086;&#1085;&#1085;&#1086;&#1084;&#1091; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1091; &#1101;&#1090;&#1080; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077; &#1072;&#1074;&#1090;&#1086;&#1084;&#1072;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1080; &#1087;&#1086;&#1076;&#1075;&#1088;&#1091;&#1078;&#1072;&#1102;&#1090;&#1089;&#1103; &#1080;&#1079;
            &#1041;&#1044;.</p><p>&#1055;&#1088;&#1080; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1085;&#1080;&#1080; &#1083;&#1077;&#1085;&#1080;&#1074;&#1086;&#1081; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1080; &#1085;&#1072;&#1076;&#1086; &#1080;&#1084;&#1077;&#1090;&#1100; &#1074; &#1074;&#1080;&#1076;&#1091; &#1085;&#1077;&#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1077; &#1084;&#1086;&#1084;&#1077;&#1085;&#1090;&#1099; &#1087;&#1088;&#1080; &#1086;&#1073;&#1098;&#1103;&#1074;&#1083;&#1077;&#1085;&#1080;&#1080;
            &#1082;&#1083;&#1072;&#1089;&#1089;&#1086;&#1074;. &#1058;&#1072;&#1082;, &#1082;&#1083;&#1072;&#1089;&#1089;&#1099;, &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1102;&#1097;&#1080;&#1077; &#1083;&#1077;&#1085;&#1080;&#1074;&#1091;&#1102; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1091; &#1076;&#1086;&#1083;&#1078;&#1085;&#1099; &#1073;&#1099;&#1090;&#1100; &#1087;&#1091;&#1073;&#1083;&#1080;&#1095;&#1085;&#1099;&#1084;&#1080;, &#1072; &#1080;&#1093;
            &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072; &#1076;&#1086;&#1083;&#1078;&#1085;&#1099; &#1080;&#1084;&#1077;&#1090;&#1100; &#1084;&#1086;&#1076;&#1080;&#1092;&#1080;&#1082;&#1072;&#1090;&#1086;&#1088;&#1099; <span class="bold"><strong>public</strong></span> &#1080; <span class="bold"><strong>virtual</strong></span>.</p><p>&#1058;&#1077;&#1087;&#1077;&#1088;&#1100; &#1086;&#1090;&#1082;&#1088;&#1086;&#1077;&#1084; &#1092;&#1072;&#1081;&#1083; <code class="filename">DbModel.cs</code> &#1086;&#1087;&#1080;&#1089;&#1099;&#1074;&#1072;&#1102;&#1097;&#1080;&#1081; &#1084;&#1086;&#1076;&#1077;&#1083;&#1100; &#1074; &#1094;&#1077;&#1083;&#1086;&#1084;. </p><pre class="programlisting">
  
<strong class="hl-keyword">public</strong> <strong class="hl-keyword">partial</strong> <strong class="hl-keyword">class</strong> DbModel : DbContext
{
    <strong class="hl-keyword">public</strong> DbModel()
        : <strong class="hl-keyword">base</strong>(<em class="hl-string" style="color: #303052">"name=DbModel"</em>)
    {
    }

    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">virtual</strong> DbSet&lt;CUSTOMER&gt; CUSTOMERS { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">virtual</strong> DbSet&lt;INVOICE&gt; INVOICES { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">virtual</strong> DbSet&lt;INVOICE_LINE&gt; INVOICE_LINES { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">virtual</strong> DbSet&lt;PRODUCT&gt; PRODUCTS { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }

    <strong class="hl-keyword">protected</strong> <strong class="hl-keyword">override</strong> <strong class="hl-keyword">void</strong> OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Entity&lt;CUSTOMER&gt;()
            .Property(e =&gt; e.ZIPCODE)
            .IsFixedLength();

        modelBuilder.Entity&lt;CUSTOMER&gt;()
            .HasMany(e =&gt; e.INVOICES)
            .WithRequired(e =&gt; e.CUSTOMER)
            .WillCascadeOnDelete(<strong class="hl-keyword">false</strong>);

        modelBuilder.Entity&lt;PRODUCT&gt;()
            .HasMany(e =&gt; e.INVOICE_LINES)
            .WithRequired(e =&gt; e.PRODUCT)
            .WillCascadeOnDelete(<strong class="hl-keyword">false</strong>);

        modelBuilder.Entity&lt;INVOICE&gt;()
            .HasMany(e =&gt; e.INVOICE_LINES)
            .WithRequired(e =&gt; e.INVOICE)
            .WillCascadeOnDelete(<strong class="hl-keyword">false</strong>);

    }
}

            </pre><p>
        </p><p>&#1047;&#1076;&#1077;&#1089;&#1100; &#1084;&#1099; &#1074;&#1080;&#1076;&#1080;&#1084; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072; &#1086;&#1087;&#1080;&#1089;&#1099;&#1074;&#1072;&#1102;&#1097;&#1080;&#1077; &#1085;&#1072;&#1073;&#1086;&#1088; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1076;&#1083;&#1103; &#1082;&#1072;&#1078;&#1076;&#1086;&#1081; &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1080;. &#1040; &#1090;&#1072;&#1082; &#1078;&#1077; &#1079;&#1072;&#1076;&#1072;&#1085;&#1080;&#1077;
            &#1076;&#1086;&#1087;&#1086;&#1083;&#1085;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1099;&#1093; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1103; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080; &#1089; &#1087;&#1086;&#1084;&#1086;&#1097;&#1100;&#1102; Fluent API. &#1055;&#1086;&#1083;&#1085;&#1086;&#1077; &#1086;&#1087;&#1080;&#1089;&#1072;&#1085;&#1080;&#1077; Fluent API
            &#1074;&#1099; &#1084;&#1086;&#1078;&#1077;&#1090; &#1087;&#1088;&#1086;&#1095;&#1080;&#1090;&#1072;&#1090;&#1100; &#1074; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;&#1094;&#1080;&#1080; Microsoft <a class="link" href="https://msdn.microsoft.com/en-us/data/jj591617.aspx" target="_top">Configuring/Mapping
                Properties and Types with the Fluent API</a>.</p><p>&#1047;&#1072;&#1076;&#1072;&#1076;&#1080;&#1084; &#1074; &#1084;&#1077;&#1090;&#1086;&#1076;&#1077; <code class="methodname">OnModelCreating</code> &#1090;&#1086;&#1095;&#1085;&#1086;&#1089;&#1090;&#1100; &#1076;&#1083;&#1103; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074; &#1090;&#1080;&#1087;&#1072;
            decimal &#1089; &#1087;&#1086;&#1084;&#1086;&#1097;&#1100;&#1102; Fluent API. &#1044;&#1083;&#1103; &#1101;&#1090;&#1086;&#1075;&#1086; &#1076;&#1086;&#1087;&#1080;&#1096;&#1077;&#1084; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1077; &#1089;&#1090;&#1088;&#1086;&#1095;&#1082;&#1080; </p><pre class="programlisting">
 
            modelBuilder.Entity&lt;PRODUCT&gt;()
                .Property(p =&gt; p.PRICE)
                .HasPrecision(<span class="hl-number">15</span>, <span class="hl-number">2</span>);
            modelBuilder.Entity&lt;INVOICE&gt;()
                .Property(p =&gt; p.TOTAL_SALE)
                .HasPrecision(<span class="hl-number">15</span>, <span class="hl-number">2</span>);

            modelBuilder.Entity&lt;INVOICE_LINE&gt;()
                .Property(p =&gt; p.SALE_PRICE)
                .HasPrecision(<span class="hl-number">15</span>, <span class="hl-number">2</span>);

            modelBuilder.Entity&lt;INVOICE_LINE&gt;()
                .Property(p =&gt; p.QUANTITY)
                .HasPrecision(<span class="hl-number">15</span>, <span class="hl-number">0</span>);

            </pre><p>
        </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e270"></a>&#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1100;&#1089;&#1082;&#1086;&#1075;&#1086; &#1080;&#1085;&#1090;&#1077;&#1088;&#1092;&#1077;&#1081;&#1089;&#1072;</h2></div></div></div><p>&#1042; &#1085;&#1072;&#1096;&#1077;&#1084; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1080; &#1084;&#1099; &#1089;&#1086;&#1079;&#1076;&#1072;&#1076;&#1080;&#1084; &#1076;&#1074;&#1072; &#1089;&#1087;&#1088;&#1072;&#1074;&#1086;&#1095;&#1085;&#1080;&#1082;&#1072;: &#1089;&#1087;&#1088;&#1072;&#1074;&#1086;&#1095;&#1085;&#1080;&#1082; &#1090;&#1086;&#1074;&#1072;&#1088;&#1086;&#1074; &#1080; &#1089;&#1087;&#1088;&#1072;&#1074;&#1086;&#1095;&#1085;&#1080;&#1082;
            &#1079;&#1072;&#1082;&#1072;&#1079;&#1095;&#1080;&#1082;&#1086;&#1074;. &#1050;&#1072;&#1078;&#1076;&#1099;&#1081; &#1089;&#1087;&#1088;&#1072;&#1074;&#1086;&#1095;&#1085;&#1080;&#1082; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1090; &#1089;&#1077;&#1090;&#1082;&#1091; <code class="classname">DataGridView</code>, &#1087;&#1072;&#1085;&#1077;&#1083;&#1100;
            &#1089; &#1082;&#1085;&#1086;&#1087;&#1082;&#1072;&#1084;&#1080; <code class="classname">ToolStrip</code>, &#1072; &#1090;&#1072;&#1082;&#1078;&#1077; &#1082;&#1086;&#1084;&#1087;&#1086;&#1085;&#1077;&#1085;&#1090;
                <code class="classname">BindingSource</code>, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1089;&#1083;&#1091;&#1078;&#1080;&#1090; &#1076;&#1083;&#1103; &#1091;&#1087;&#1088;&#1086;&#1097;&#1077;&#1085;&#1080;&#1103; &#1087;&#1088;&#1080;&#1074;&#1103;&#1079;&#1082;&#1080; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1082;
            &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;&#1084; &#1091;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1074; &#1092;&#1086;&#1088;&#1084;&#1077;. </p><div class="figure"><a name="d5e276"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.15. &#1060;&#1086;&#1088;&#1084;&#1072; &#1089;&#1087;&#1088;&#1072;&#1074;&#1086;&#1095;&#1085;&#1080;&#1082;&#1072; &#1079;&#1072;&#1082;&#1072;&#1079;&#1095;&#1080;&#1082;&#1086;&#1074;</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-customer-form.png" width="680" alt="&#1060;&#1086;&#1088;&#1084;&#1072; &#1089;&#1087;&#1088;&#1072;&#1074;&#1086;&#1095;&#1085;&#1080;&#1082;&#1072; &#1079;&#1072;&#1082;&#1072;&#1079;&#1095;&#1080;&#1082;&#1086;&#1074;."></td></tr></table></div></div></div><p><br class="figure-break">
        </p><p>&#1055;&#1086;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1091; &#1087;&#1086; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1086;&#1085;&#1072;&#1083;&#1091; &#1086;&#1073;&#1072; &#1089;&#1087;&#1088;&#1072;&#1074;&#1086;&#1095;&#1085;&#1080;&#1082;&#1072; &#1087;&#1086;&#1093;&#1086;&#1078;&#1080; &#1080; &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1086;&#1074;&#1072;&#1085;&#1099; &#1089;&#1093;&#1086;&#1078;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084; &#1086;&#1087;&#1080;&#1089;&#1099;&#1074;&#1072;&#1090;&#1100;
            &#1084;&#1099; &#1073;&#1091;&#1076;&#1077;&#1084; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1086;&#1076;&#1080;&#1085;.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="app-dotnet-getcontext"></a>&#1055;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1077; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072;</h3></div></div></div><p>&#1044;&#1083;&#1103; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1089; &#1085;&#1072;&#1096;&#1077;&#1081; &#1084;&#1086;&#1076;&#1077;&#1083;&#1100;&#1102; &#1085;&#1072;&#1084; &#1087;&#1086;&#1090;&#1088;&#1077;&#1073;&#1091;&#1077;&#1090;&#1089;&#1103; &#1084;&#1077;&#1090;&#1086;&#1076; &#1076;&#1083;&#1103; &#1087;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1103; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072; (&#1080;&#1083;&#1080;
                &#1084;&#1086;&#1076;&#1077;&#1083;&#1080;). &#1042; &#1087;&#1088;&#1080;&#1085;&#1094;&#1080;&#1087;&#1077; &#1076;&#1083;&#1103; &#1101;&#1090;&#1086;&#1075;&#1086; &#1076;&#1086;&#1089;&#1090;&#1072;&#1090;&#1086;&#1095;&#1085;&#1086; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1080;&#1090;&#1100;:
                </p><pre class="programlisting">
DbModel dbContext = <strong class="hl-keyword">new</strong> DbModel();                    
                </pre><p>
            </p><p>&#1054;&#1076;&#1085;&#1072;&#1082;&#1086;, &#1077;&#1089;&#1083;&#1080; &#1074; &#1089;&#1090;&#1088;&#1086;&#1082;&#1077; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1085;&#1077; &#1093;&#1088;&#1072;&#1085;&#1103;&#1090;&#1089;&#1103; &#1082;&#1086;&#1085;&#1092;&#1080;&#1076;&#1077;&#1085;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1099;&#1077; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077; (&#1085;&#1072;&#1087;&#1088;&#1080;&#1084;&#1077;&#1088;,
                &#1087;&#1072;&#1088;&#1086;&#1083;&#1100;), &#1072; &#1084;&#1099; &#1080;&#1085;&#1080;&#1094;&#1080;&#1072;&#1083;&#1080;&#1079;&#1080;&#1088;&#1091;&#1077;&#1084; &#1074;&#1086; &#1074;&#1088;&#1077;&#1084;&#1103; &#1072;&#1074;&#1090;&#1086;&#1088;&#1080;&#1079;&#1072;&#1094;&#1080;&#1080; &#1080;&#1093; &#1087;&#1088;&#1080; &#1089;&#1090;&#1072;&#1088;&#1090;&#1077; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103;, &#1090;&#1086; &#1085;&#1072;&#1084;
                &#1087;&#1086;&#1090;&#1088;&#1077;&#1073;&#1091;&#1077;&#1090;&#1089;&#1103; &#1089;&#1087;&#1077;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1099;&#1081; &#1084;&#1077;&#1090;&#1086;&#1076; &#1076;&#1083;&#1103; &#1093;&#1088;&#1072;&#1085;&#1077;&#1085;&#1080;&#1103; &#1080; &#1074;&#1086;&#1089;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1089;&#1090;&#1088;&#1086;&#1082;&#1080; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1080;&#1083;&#1080;
                &#1089;&#1086;&#1093;&#1088;&#1072;&#1085;&#1077;&#1085;&#1080;&#1077; &#1088;&#1072;&#1085;&#1077;&#1077; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1085;&#1086;&#1075;&#1086; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072;. &#1044;&#1083;&#1103; &#1101;&#1090;&#1086;&#1075;&#1086; &#1089;&#1086;&#1079;&#1076;&#1072;&#1076;&#1080;&#1084; &#1089;&#1087;&#1077;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1099;&#1081; &#1082;&#1083;&#1072;&#1089;&#1089;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081;
                &#1087;&#1086;&#1084;&#1080;&#1084;&#1086; &#1084;&#1077;&#1090;&#1086;&#1076;&#1072; &#1076;&#1083;&#1103; &#1087;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1103; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072; &#1073;&#1091;&#1076;&#1077;&#1090; &#1090;&#1072;&#1082;&#1078;&#1077; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1072;&#1090;&#1100; &#1085;&#1077;&#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1077; &#1075;&#1083;&#1086;&#1073;&#1072;&#1083;&#1100;&#1085;&#1099;&#1077;
                &#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1085;&#1085;&#1099;&#1077; &#1091;&#1088;&#1086;&#1074;&#1085;&#1103; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103;, &#1085;&#1072;&#1087;&#1088;&#1080;&#1084;&#1077;&#1088; &#1088;&#1072;&#1073;&#1086;&#1095;&#1080;&#1081; &#1087;&#1077;&#1088;&#1080;&#1086;&#1076;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">static</strong> <strong class="hl-keyword">class</strong> AppVariables
{
    <strong class="hl-keyword">private</strong> <strong class="hl-keyword">static</strong> DbModel dbContext = <strong class="hl-keyword">null</strong>;

    <strong class="hl-tag" style="color: blue">/// &lt;summary&gt;</strong>
    <strong class="hl-tag" style="color: blue">/// &#1044;&#1072;&#1090;&#1072; &#1085;&#1072;&#1095;&#1072;&#1083;&#1072; &#1088;&#1072;&#1073;&#1086;&#1095;&#1077;&#1075;&#1086; &#1087;&#1077;&#1088;&#1080;&#1086;&#1076;&#1072;</strong>
    <strong class="hl-tag" style="color: blue">/// &lt;/summary&gt;</strong>
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">static</strong> DateTime StartDate { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }

    <strong class="hl-tag" style="color: blue">/// &lt;summary&gt;</strong>
    <strong class="hl-tag" style="color: blue">/// &#1044;&#1072;&#1090;&#1072; &#1086;&#1082;&#1086;&#1085;&#1095;&#1072;&#1085;&#1080;&#1103; &#1088;&#1072;&#1073;&#1086;&#1095;&#1077;&#1075;&#1086; &#1087;&#1077;&#1088;&#1080;&#1086;&#1076;&#1072;</strong>
    <strong class="hl-tag" style="color: blue">/// &lt;/summary&gt;</strong>
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">static</strong> DateTime FinishDate { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }

    <strong class="hl-tag" style="color: blue">/// &lt;summary&gt;</strong>
    <strong class="hl-tag" style="color: blue">/// &#1042;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1077;&#1090; &#1101;&#1082;&#1079;&#1077;&#1084;&#1087;&#1083;&#1103;&#1088; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080; (&#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072;)</strong>
    <strong class="hl-tag" style="color: blue">/// &lt;/summary&gt;</strong>
    <strong class="hl-tag" style="color: blue">/// &lt;returns&gt;&#1052;&#1086;&#1076;&#1077;&#1083;&#1100;&lt;/returns&gt;</strong>
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">static</strong> DbModel CreateDbContext() {
        dbContext = dbContext ?? <strong class="hl-keyword">new</strong> DbModel();
        <strong class="hl-keyword">return</strong> dbContext;        
    }
}                    

                </pre><p>
            </p><p>&#1057;&#1072;&#1084;&#1072; &#1089;&#1090;&#1088;&#1086;&#1082;&#1072; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1080;&#1085;&#1080;&#1094;&#1080;&#1072;&#1083;&#1080;&#1079;&#1080;&#1088;&#1091;&#1077;&#1090;&#1089;&#1103; &#1087;&#1088;&#1080; &#1089;&#1090;&#1072;&#1088;&#1090;&#1077; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103;, &#1087;&#1086;&#1089;&#1083;&#1077; &#1090;&#1086;&#1075;&#1086; &#1082;&#1072;&#1082;
                &#1091;&#1089;&#1087;&#1077;&#1096;&#1085;&#1086; &#1087;&#1088;&#1086;&#1096;&#1083;&#1072; &#1072;&#1074;&#1090;&#1086;&#1088;&#1080;&#1079;&#1072;&#1094;&#1080;&#1103;. &#1044;&#1083;&#1103; &#1101;&#1090;&#1086;&#1075;&#1086; &#1074; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1077; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1103; <code class="varname">Load</code>
                &#1075;&#1083;&#1072;&#1074;&#1085;&#1086;&#1081; &#1092;&#1086;&#1088;&#1084;&#1099; &#1085;&#1072;&#1087;&#1080;&#1096;&#1077;&#1084; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1081; &#1082;&#1086;&#1076;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> MainForm_Load(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
    var dialog = <strong class="hl-keyword">new</strong> LoginForm();
    <strong class="hl-keyword">if</strong> (dialog.ShowDialog() == DialogResult.OK)
    {
        var dbContext = AppVariables.getDbContext();

        <strong class="hl-keyword">try</strong>
        {
            <strong class="hl-keyword">string</strong> s = dbContext.Database.Connection.ConnectionString;
            var builder = <strong class="hl-keyword">new</strong> FbConnectionStringBuilder(s);
            builder.UserID = dialog.UserName;
            builder.Password = dialog.Password;

            dbContext.Database.Connection.ConnectionString = builder.ConnectionString;

            <em class="hl-comment" style="color: #777777">// &#1087;&#1088;&#1086;&#1073;&#1091;&#1077;&#1084; &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1080;&#1090;&#1089;&#1103;</em>
            dbContext.Database.Connection.Open();
        }
        <strong class="hl-keyword">catch</strong> (Exception ex)
        {
            <em class="hl-comment" style="color: #777777">// &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1077;&#1084; &#1086;&#1096;&#1080;&#1073;&#1082;&#1091;</em>
            MessageBox.Show(ex.Message, <em class="hl-string" style="color: #303052">"Error"</em>);
            Application.Exit();
        }
    }
    <strong class="hl-keyword">else</strong>
        Application.Exit();
}                  

                </pre><p>
            </p><p>&#1058;&#1077;&#1087;&#1077;&#1088;&#1100; &#1076;&#1083;&#1103; &#1087;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1103; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072; &#1084;&#1099; &#1073;&#1091;&#1076;&#1077;&#1084; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1089;&#1090;&#1072;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1080;&#1081; &#1084;&#1077;&#1090;&#1086;&#1076;
                    <code class="methodname">CreateDbContext</code>.
                </p><pre class="programlisting">
var dbContext = AppVariables.getDbContext();                   
                </pre><p>
            </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e296"></a>&#1056;&#1072;&#1073;&#1086;&#1090;&#1072; &#1089; &#1076;&#1072;&#1085;&#1085;&#1099;&#1084;&#1080;</h3></div></div></div><p>&#1057;&#1072;&#1084;&#1080; &#1087;&#1086; &#1089;&#1077;&#1073;&#1077; &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1080; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080; &#1085;&#1077; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1072;&#1090; &#1085;&#1080;&#1082;&#1072;&#1082;&#1080;&#1093; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;. &#1057;&#1072;&#1084;&#1099;&#1084; &#1087;&#1088;&#1086;&#1089;&#1090;&#1099;&#1084; &#1089;&#1087;&#1086;&#1089;&#1086;&#1073;&#1086;&#1084;
                &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1080;&#1090;&#1100; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077; &#1103;&#1074;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103; &#1074;&#1099;&#1079;&#1086;&#1074;&#1072;&#1084; &#1084;&#1077;&#1090;&#1086;&#1076;&#1072; <code class="methodname">Load</code>, &#1085;&#1072;&#1087;&#1088;&#1080;&#1084;&#1077;&#1088; &#1074;&#1086;&#1090;
                &#1090;&#1072;&#1082;: </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> LoadCustomersData()
{
    dbContext.CUSTOMERS.Load(); 
    var customers = dbContext.CUSTOMERS.Local;

    bindingSource.DataSource = customers.ToBindingList();    
}

<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> CustomerForm_Load(<strong class="hl-keyword">object</strong> sender, EventArgs e)
{
    LoadCustomersData();

    dataGridView.DataSource = bindingSource;
    dataGridView.Columns[<em class="hl-string" style="color: #303052">"CUSTOMER_ID"</em>].Visible = <strong class="hl-keyword">false</strong>;
}                 

                </pre><p>
            </p><p>&#1054;&#1076;&#1085;&#1072;&#1082;&#1086; &#1090;&#1072;&#1082;&#1086;&#1081; &#1089;&#1087;&#1086;&#1089;&#1086;&#1073; &#1080;&#1084;&#1077;&#1077;&#1090; &#1088;&#1103;&#1076; &#1085;&#1077;&#1076;&#1086;&#1089;&#1090;&#1072;&#1090;&#1082;&#1086;&#1074;:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>&#1052;&#1077;&#1090;&#1086;&#1076; <code class="methodname">Load</code> &#1079;&#1072;&#1075;&#1088;&#1091;&#1078;&#1072;&#1077;&#1090; &#1089;&#1088;&#1072;&#1079;&#1091; &#1074;&#1089;&#1077; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077; &#1080;&#1079;
                            &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1099; CUSTOMER &#1074; &#1087;&#1072;&#1084;&#1103;&#1090;&#1100;.</p></li><li class="listitem"><p>&#1051;&#1077;&#1085;&#1080;&#1074;&#1099;&#1077; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072; (<code class="varname">INVOICES</code>) &#1093;&#1086;&#1090;&#1100; &#1080; &#1085;&#1077; &#1079;&#1072;&#1075;&#1088;&#1091;&#1078;&#1072;&#1102;&#1090;&#1089;&#1103;
                            &#1089;&#1088;&#1072;&#1079;&#1091;, &#1072; &#1083;&#1080;&#1096;&#1100; &#1087;&#1086; &#1084;&#1077;&#1088;&#1077; &#1086;&#1073;&#1088;&#1072;&#1097;&#1077;&#1085;&#1080;&#1103; &#1082; &#1085;&#1080;&#1084;, &#1074;&#1089;&#1105; &#1088;&#1072;&#1074;&#1085;&#1086; &#1073;&#1091;&#1076;&#1091;&#1090; &#1079;&#1072;&#1075;&#1088;&#1091;&#1078;&#1077;&#1085;&#1099; &#1087;&#1088;&#1080;
                            &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1080; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081; &#1074; &#1075;&#1088;&#1080;&#1076;&#1077;. &#1055;&#1088;&#1080;&#1095;&#1105;&#1084; &#1088;&#1086;&#1074;&#1085;&#1086; &#1089;&#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1088;&#1072;&#1079;, &#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1086; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081;
                            &#1073;&#1091;&#1076;&#1077;&#1090; &#1074;&#1099;&#1074;&#1077;&#1076;&#1077;&#1085;&#1086;.</p></li><li class="listitem"><p>&#1055;&#1086;&#1088;&#1103;&#1076;&#1086;&#1082; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081; &#1085;&#1077;&#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1105;&#1085;.</p></li></ol></div><p>&#1044;&#1083;&#1103; &#1086;&#1073;&#1093;&#1086;&#1076;&#1072; &#1101;&#1090;&#1080;&#1093; &#1085;&#1077;&#1076;&#1086;&#1089;&#1090;&#1072;&#1090;&#1082;&#1086;&#1084; &#1084;&#1099; &#1073;&#1091;&#1076;&#1077;&#1084; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1090;&#1077;&#1093;&#1085;&#1086;&#1083;&#1086;&#1075;&#1080;&#1102; LINQ (Language
                Integrated Query), &#1080;&#1083;&#1080; &#1090;&#1086;&#1095;&#1085;&#1077;&#1077; <span class="bold"><strong>LINQ to Entities</strong></span>.
                LINQ to Entities &#1087;&#1088;&#1077;&#1076;&#1083;&#1072;&#1075;&#1072;&#1077;&#1090; &#1087;&#1088;&#1086;&#1089;&#1090;&#1086;&#1081; &#1080; &#1080;&#1085;&#1090;&#1091;&#1080;&#1090;&#1080;&#1074;&#1085;&#1086; &#1087;&#1086;&#1085;&#1103;&#1090;&#1085;&#1099;&#1081; &#1087;&#1086;&#1076;&#1093;&#1086;&#1076; &#1076;&#1083;&#1103; &#1087;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1103;
                &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1089; &#1087;&#1086;&#1084;&#1086;&#1097;&#1100;&#1102; &#1074;&#1099;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1081;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1077; &#1087;&#1086; &#1092;&#1086;&#1088;&#1084;&#1077; &#1073;&#1083;&#1080;&#1079;&#1082;&#1080; &#1074;&#1099;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1103;&#1084; &#1103;&#1079;&#1099;&#1082;&#1072; SQL. &#1057;
                &#1089;&#1080;&#1085;&#1090;&#1072;&#1082;&#1089;&#1080;&#1089;&#1086;&#1084; LINQ &#1074;&#1099; &#1084;&#1086;&#1078;&#1077;&#1090;&#1077; &#1086;&#1079;&#1085;&#1072;&#1082;&#1086;&#1084;&#1080;&#1090;&#1100;&#1089;&#1103; &#1087;&#1086; <a class="link" href="https://msdn.microsoft.com/ru-ru/library/bb386964(v=vs.110).aspx" target="_top">LINQ to Entities</a>.</p><p>&#1052;&#1077;&#1090;&#1086;&#1076;&#1099; &#1088;&#1072;&#1089;&#1096;&#1080;&#1088;&#1077;&#1085;&#1080;&#1081; LINQ &#1084;&#1086;&#1075;&#1091;&#1090; &#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1090;&#1100; &#1076;&#1074;&#1072; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1072;:
                    <code class="interfacename">IEnumerable</code> &#1080;
                    <code class="interfacename">IQueryable</code>. &#1048;&#1085;&#1090;&#1077;&#1088;&#1092;&#1077;&#1081;&#1089; IQueryable &#1085;&#1072;&#1089;&#1083;&#1077;&#1076;&#1091;&#1077;&#1090;&#1089;&#1103; &#1086;&#1090;
                    <code class="interfacename">IEnumerable</code>, &#1087;&#1086;&#1101;&#1090;&#1086;&#1084;&#1091; &#1087;&#1086; &#1080;&#1076;&#1077;&#1077; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;
                    <code class="interfacename">IQueryable</code> &#1101;&#1090;&#1086; &#1080; &#1077;&#1089;&#1090;&#1100; &#1090;&#1072;&#1082;&#1078;&#1077; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;
                    <code class="interfacename">IEnumerable</code>. &#1053;&#1086; &#1084;&#1077;&#1078;&#1076;&#1091; &#1085;&#1080;&#1084;&#1080; &#1077;&#1089;&#1090;&#1100; &#1089;&#1091;&#1097;&#1077;&#1089;&#1090;&#1074;&#1077;&#1085;&#1085;&#1072;&#1103;
                &#1088;&#1072;&#1079;&#1085;&#1080;&#1094;&#1072;.</p><p>&#1048;&#1085;&#1090;&#1077;&#1088;&#1092;&#1077;&#1081;&#1089; <code class="interfacename">IEnumerable</code> &#1085;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090;&#1089;&#1103; &#1074; &#1087;&#1088;&#1086;&#1089;&#1090;&#1088;&#1072;&#1085;&#1089;&#1090;&#1074;&#1077; &#1080;&#1084;&#1105;&#1085;
                    <span class="package">System.Collections</span>. &#1054;&#1073;&#1098;&#1077;&#1082;&#1090;
                    <code class="interfacename">IEnumerable</code> &#1087;&#1088;&#1077;&#1076;&#1089;&#1090;&#1072;&#1074;&#1083;&#1103;&#1077;&#1090; &#1085;&#1072;&#1073;&#1086;&#1088; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1074; &#1087;&#1072;&#1084;&#1103;&#1090;&#1080; &#1080;
                &#1084;&#1086;&#1078;&#1077;&#1090; &#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1097;&#1072;&#1090;&#1100;&#1089;&#1103; &#1087;&#1086; &#1101;&#1090;&#1080;&#1084; &#1076;&#1072;&#1085;&#1085;&#1099;&#1084; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1074;&#1087;&#1077;&#1088;&#1105;&#1076;. &#1055;&#1088;&#1080; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1077;&#1085;&#1080;&#1080; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1072;
                    <code class="interfacename">IEnumerable</code> &#1079;&#1072;&#1075;&#1088;&#1091;&#1078;&#1072;&#1077;&#1090; &#1074;&#1089;&#1077; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077;, &#1080; &#1077;&#1089;&#1083;&#1080; &#1085;&#1072;&#1084; &#1085;&#1072;&#1076;&#1086;
                &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1080;&#1090;&#1100; &#1080;&#1093; &#1092;&#1080;&#1083;&#1100;&#1090;&#1088;&#1072;&#1094;&#1080;&#1102;, &#1090;&#1086; &#1089;&#1072;&#1084;&#1072; &#1092;&#1080;&#1083;&#1100;&#1090;&#1088;&#1072;&#1094;&#1080;&#1103; &#1087;&#1088;&#1086;&#1080;&#1089;&#1093;&#1086;&#1076;&#1080;&#1090; &#1085;&#1072; &#1089;&#1090;&#1086;&#1088;&#1086;&#1085;&#1077; &#1082;&#1083;&#1080;&#1077;&#1085;&#1090;&#1072;.</p><p>&#1048;&#1085;&#1090;&#1077;&#1088;&#1092;&#1077;&#1081;&#1089; <code class="interfacename">IQueryable</code> &#1088;&#1072;&#1089;&#1087;&#1086;&#1083;&#1072;&#1075;&#1072;&#1077;&#1090;&#1089;&#1103; &#1074; &#1087;&#1088;&#1086;&#1089;&#1090;&#1088;&#1072;&#1085;&#1089;&#1090;&#1074;&#1077;
                &#1080;&#1084;&#1105;&#1085; <span class="package">System.Linq</span>. &#1054;&#1073;&#1098;&#1077;&#1082;&#1090;
                    <code class="interfacename">IQueryable</code> &#1087;&#1088;&#1077;&#1076;&#1086;&#1089;&#1090;&#1072;&#1074;&#1083;&#1103;&#1077;&#1090; &#1091;&#1076;&#1072;&#1083;&#1105;&#1085;&#1085;&#1099;&#1081; &#1076;&#1086;&#1089;&#1090;&#1091;&#1087; &#1082; &#1073;&#1072;&#1079;&#1077;
                &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1080; &#1087;&#1086;&#1079;&#1074;&#1086;&#1083;&#1103;&#1077;&#1090; &#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1097;&#1072;&#1090;&#1100;&#1089;&#1103; &#1087;&#1086; &#1076;&#1072;&#1085;&#1085;&#1099;&#1084; &#1082;&#1072;&#1082; &#1074; &#1087;&#1088;&#1103;&#1084;&#1086;&#1084; &#1087;&#1086;&#1088;&#1103;&#1076;&#1082;&#1077; &#1086;&#1090; &#1085;&#1072;&#1095;&#1072;&#1083;&#1072; &#1076;&#1086; &#1082;&#1086;&#1085;&#1094;&#1072;,
                &#1090;&#1072;&#1082; &#1080; &#1074; &#1086;&#1073;&#1088;&#1072;&#1090;&#1085;&#1086;&#1084; &#1087;&#1086;&#1088;&#1103;&#1076;&#1082;&#1077;. &#1042; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1077; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1103; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1072;, &#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1077;&#1084;&#1099;&#1084; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1086;&#1084;
                &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1075;&#1086; &#1103;&#1074;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103; <code class="interfacename">IQueryable</code>, &#1087;&#1088;&#1086;&#1080;&#1089;&#1093;&#1086;&#1076;&#1080;&#1090; &#1086;&#1087;&#1090;&#1080;&#1084;&#1080;&#1079;&#1072;&#1094;&#1080;&#1103;
                &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1072;. &#1042; &#1080;&#1090;&#1086;&#1075;&#1077; &#1074; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1077; &#1077;&#1075;&#1086; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1077;&#1085;&#1080;&#1103; &#1090;&#1088;&#1072;&#1090;&#1080;&#1090;&#1089;&#1103; &#1084;&#1077;&#1085;&#1100;&#1096;&#1077; &#1087;&#1072;&#1084;&#1103;&#1090;&#1080;, &#1084;&#1077;&#1085;&#1100;&#1096;&#1077; &#1087;&#1088;&#1086;&#1087;&#1091;&#1089;&#1082;&#1085;&#1086;&#1081;
                &#1089;&#1087;&#1086;&#1089;&#1086;&#1073;&#1085;&#1086;&#1089;&#1090;&#1080; &#1089;&#1077;&#1090;&#1080;.</p><p>&#1057;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1086; <code class="varname">Local</code> &#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1077;&#1090; &#1080;&#1085;&#1090;&#1077;&#1088;&#1092;&#1077;&#1081;&#1089;
                    <code class="interfacename">IEnumerable</code>. &#1055;&#1086;&#1101;&#1090;&#1086;&#1084;&#1091; &#1084;&#1099; &#1084;&#1086;&#1078;&#1077;&#1084; &#1089;&#1086;&#1089;&#1090;&#1072;&#1074;&#1083;&#1103;&#1090;&#1100; LINQ
                &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1099; &#1082; &#1085;&#1077;&#1084;&#1091;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> LoadCustomersData()
{
    var dbContext = AppVariables.getDbContext();
    dbContext.CUSTOMERS.Load(); 
    
    var customers = 
        <strong class="hl-keyword">from</strong> customer <strong class="hl-keyword">in</strong> dbContext.CUSTOMERS.Local
        <strong class="hl-keyword">orderby</strong> customer.NAME
        <strong class="hl-keyword">select</strong> <strong class="hl-keyword">new</strong> customer;

    bindingSource.DataSource = customers.ToBindingList();
}                 

                </pre><p>
            </p><p>&#1054;&#1076;&#1085;&#1072;&#1082;&#1086; &#1082;&#1072;&#1082; &#1091;&#1078;&#1077; &#1089;&#1082;&#1072;&#1079;&#1072;&#1085;&#1086; &#1101;&#1090;&#1086;&#1090; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089; &#1073;&#1091;&#1076;&#1077;&#1090; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1090;&#1100;&#1089;&#1103; &#1085;&#1072;&#1076; &#1076;&#1072;&#1085;&#1085;&#1099;&#1084;&#1080; &#1074; &#1087;&#1072;&#1084;&#1103;&#1090;&#1080;. &#1042;
                &#1087;&#1088;&#1080;&#1085;&#1094;&#1080;&#1087;&#1077; &#1076;&#1083;&#1103; &#1084;&#1072;&#1083;&#1077;&#1085;&#1100;&#1082;&#1080;&#1093; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1084; &#1085;&#1077; &#1090;&#1088;&#1077;&#1073;&#1091;&#1077;&#1090;&#1089;&#1103; &#1087;&#1088;&#1077;&#1076;&#1074;&#1072;&#1088;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1072;&#1103; &#1092;&#1080;&#1083;&#1100;&#1090;&#1088;&#1072;&#1094;&#1080;&#1103; &#1101;&#1090;&#1086;
                &#1087;&#1088;&#1080;&#1077;&#1084;&#1083;&#1077;&#1084;&#1086;.</p><p>&#1044;&#1083;&#1103; &#1090;&#1086;&#1075;&#1086; &#1095;&#1090;&#1086;&#1073;&#1099; LINQ &#1079;&#1072;&#1087;&#1088;&#1086;&#1089; &#1073;&#1099;&#1083; &#1087;&#1088;&#1077;&#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1074;&#1072;&#1085; &#1074; SQL &#1080; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1083;&#1089;&#1103; &#1085;&#1072; &#1089;&#1090;&#1086;&#1088;&#1086;&#1085;&#1077; &#1089;&#1077;&#1088;&#1074;&#1077;&#1088;&#1072;
                &#1085;&#1072;&#1084; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1074; LINQ &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1077; &#1074;&#1084;&#1077;&#1089;&#1090;&#1086; &#1086;&#1073;&#1088;&#1072;&#1097;&#1077;&#1085;&#1080;&#1103; &#1082; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1091;
                    <code class="varname">dbContext.CUSTOMERS.Local</code> &#1086;&#1073;&#1088;&#1072;&#1097;&#1072;&#1090;&#1100;&#1089;&#1103; &#1089;&#1088;&#1072;&#1079;&#1091; &#1082;
                    <code class="varname">dbContext.CUSTOMERS</code>. &#1042; &#1101;&#1090;&#1086;&#1084; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077; &#1085;&#1072;&#1084; &#1085;&#1077; &#1087;&#1086;&#1090;&#1088;&#1077;&#1073;&#1091;&#1077;&#1090;&#1089;&#1103;
                &#1087;&#1088;&#1077;&#1076;&#1074;&#1072;&#1088;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1099;&#1081; &#1074;&#1099;&#1079;&#1086;&#1074; <code class="code">dbContext.CUSTOMERS.Load();</code> &#1076;&#1083;&#1103; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1080;
                &#1082;&#1086;&#1083;&#1083;&#1077;&#1082;&#1094;&#1080;&#1080; &#1074; &#1087;&#1072;&#1084;&#1103;&#1090;&#1100;.</p><p>&#1054;&#1076;&#1085;&#1072;&#1082;&#1086; &#1090;&#1091;&#1090; &#1085;&#1072;&#1089; &#1087;&#1086;&#1076;&#1089;&#1090;&#1077;&#1088;&#1077;&#1075;&#1072;&#1077;&#1090; &#1086;&#1076;&#1085;&#1072; &#1084;&#1072;&#1083;&#1077;&#1085;&#1100;&#1082;&#1072;&#1103; &#1079;&#1072;&#1089;&#1072;&#1076;&#1072;. &#1054;&#1073;&#1098;&#1077;&#1082;&#1090;&#1099;
                    <code class="interfacename">IQueryable</code> &#1085;&#1077; &#1091;&#1084;&#1077;&#1102;&#1090; &#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1090;&#1100;
                    <code class="classname">BindingList</code>. <code class="classname">BindingList</code> &#1103;&#1074;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103;
                &#1073;&#1072;&#1079;&#1086;&#1074;&#1099;&#1084; &#1082;&#1083;&#1072;&#1089;&#1089;&#1086;&#1084; &#1076;&#1083;&#1103; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1103; &#1076;&#1074;&#1091;&#1089;&#1090;&#1086;&#1088;&#1086;&#1085;&#1085;&#1077;&#1075;&#1086; &#1084;&#1077;&#1093;&#1072;&#1085;&#1080;&#1079;&#1084;&#1072; &#1087;&#1088;&#1080;&#1074;&#1103;&#1079;&#1082;&#1080; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;. &#1048;&#1079; &#1080;&#1085;&#1090;&#1077;&#1088;&#1092;&#1077;&#1081;&#1089;&#1072;
                    <code class="interfacename">IQueryable</code> &#1084;&#1099; &#1084;&#1086;&#1078;&#1077;&#1084; &#1087;&#1086;&#1083;&#1091;&#1095;&#1080;&#1090;&#1100; &#1086;&#1073;&#1099;&#1095;&#1085;&#1099;&#1081; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082;
                &#1087;&#1086;&#1089;&#1088;&#1077;&#1076;&#1089;&#1090;&#1074;&#1086;&#1084; &#1074;&#1099;&#1079;&#1086;&#1074;&#1072; <code class="methodname">ToList</code>, &#1085;&#1086; &#1074; &#1101;&#1090;&#1086;&#1084; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077; &#1084;&#1099; &#1083;&#1080;&#1096;&#1072;&#1077;&#1084;&#1089;&#1103;
                &#1087;&#1088;&#1080;&#1103;&#1090;&#1085;&#1099;&#1093; &#1073;&#1086;&#1085;&#1091;&#1089;&#1086;&#1074;, &#1090;&#1072;&#1082;&#1080;&#1093; &#1082;&#1072;&#1082; &#1089;&#1086;&#1088;&#1090;&#1080;&#1088;&#1086;&#1074;&#1082;&#1072; &#1074; &#1075;&#1088;&#1080;&#1076;&#1077; &#1080; &#1084;&#1085;&#1086;&#1075;&#1080;&#1093; &#1076;&#1088;&#1091;&#1075;&#1080;&#1093;. &#1050;&#1089;&#1090;&#1072;&#1090;&#1080; &#1074; .NET
                Framework 5 &#1101;&#1090;&#1086; &#1091;&#1078;&#1077; &#1080;&#1089;&#1087;&#1088;&#1072;&#1074;&#1080;&#1083;&#1080; &#1080; &#1089;&#1086;&#1079;&#1076;&#1072;&#1083;&#1080; &#1089;&#1087;&#1077;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1086;&#1077; &#1088;&#1072;&#1089;&#1096;&#1080;&#1088;&#1077;&#1085;&#1080;&#1077;. &#1057;&#1076;&#1077;&#1083;&#1072;&#1077;&#1084; &#1089;&#1074;&#1086;&#1105;
                &#1088;&#1072;&#1089;&#1096;&#1080;&#1088;&#1077;&#1085;&#1080;&#1077;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1077; &#1073;&#1091;&#1076;&#1077;&#1090; &#1076;&#1077;&#1083;&#1072;&#1090;&#1100; &#1090;&#1086;&#1078;&#1077; &#1089;&#1072;&#1084;&#1086;&#1077;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">public</strong> <strong class="hl-keyword">static</strong> <strong class="hl-keyword">class</strong> DbExtensions
{
    <em class="hl-comment" style="color: #777777">// &#1042;&#1085;&#1091;&#1090;&#1088;&#1077;&#1085;&#1085;&#1080;&#1081; &#1082;&#1083;&#1072;&#1089;&#1089; &#1076;&#1083;&#1103; &#1084;&#1072;&#1087;&#1087;&#1080;&#1085;&#1075;&#1072; &#1085;&#1072; &#1085;&#1077;&#1075;&#1086; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1103; &#1075;&#1077;&#1085;&#1077;&#1088;&#1072;&#1090;&#1086;&#1088;&#1072;</em>
    <strong class="hl-keyword">private</strong> <strong class="hl-keyword">class</strong> IdResult
    {
        <strong class="hl-keyword">public</strong> <strong class="hl-keyword">int</strong> Id { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
    }

    <em class="hl-comment" style="color: #777777">// &#1055;&#1088;&#1077;&#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1074;&#1072;&#1085;&#1080;&#1077; IQueryable &#1074; BindingList</em>
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">static</strong> BindingList&lt;T&gt; ToBindingList&lt;T&gt;
        (<strong class="hl-keyword">this</strong> IQueryable&lt;T&gt; source) <strong class="hl-keyword">where</strong> T : <strong class="hl-keyword">class</strong>
    {
        <strong class="hl-keyword">return</strong> (<strong class="hl-keyword">new</strong> ObservableCollection&lt;T&gt;(source)).ToBindingList();
    }

    <em class="hl-comment" style="color: #777777">// &#1055;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1077; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1077;&#1075;&#1086; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1103; &#1087;&#1086;&#1089;&#1083;&#1077;&#1076;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1100;&#1085;&#1086;&#1089;&#1090;&#1080;</em>
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">static</strong> <strong class="hl-keyword">int</strong> NextValueFor(<strong class="hl-keyword">this</strong> DbModel dbContext, <strong class="hl-keyword">string</strong> genName)
    {
        <strong class="hl-keyword">string</strong> sql = String.Format(
            <em class="hl-string" style="color: #303052">"SELECT NEXT VALUE FOR {0} AS Id FROM RDB$DATABASE"</em>, genName);
        <strong class="hl-keyword">return</strong> dbContext.Database.SqlQuery&lt;IdResult&gt;(sql).First().Id;
    }

    <em class="hl-comment" style="color: #777777">// &#1054;&#1090;&#1089;&#1086;&#1077;&#1076;&#1080;&#1085;&#1077;&#1085;&#1080;&#1077; &#1074;&#1089;&#1077;&#1093; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1086;&#1074; &#1082;&#1086;&#1083;&#1083;&#1077;&#1082;&#1094;&#1080;&#1080; DbSet &#1086;&#1090; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072;</em>
    <em class="hl-comment" style="color: #777777">// &#1055;&#1086;&#1083;&#1077;&#1079;&#1085;&#1086; &#1076;&#1083;&#1103; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1080; &#1082;&#1077;&#1096;&#1072;</em>
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">static</strong> <strong class="hl-keyword">void</strong> DetachAll&lt;T&gt;(<strong class="hl-keyword">this</strong> DbModel dbContext, DbSet&lt;T&gt; dbSet) 
        <strong class="hl-keyword">where</strong> T : <strong class="hl-keyword">class</strong> 
    {         
        <strong class="hl-keyword">foreach</strong> (var obj <strong class="hl-keyword">in</strong> dbSet.Local.ToList())
        {
            dbContext.Entry(obj).State = EntityState.Detached;
        }
    }

    <em class="hl-comment" style="color: #777777">// &#1054;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1074;&#1089;&#1077;&#1093; &#1080;&#1079;&#1084;&#1077;&#1085;&#1105;&#1085;&#1085;&#1099;&#1093; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1086;&#1074; &#1074; &#1082;&#1086;&#1083;&#1083;&#1077;&#1082;&#1094;&#1080;&#1080;</em>
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">static</strong> <strong class="hl-keyword">void</strong> Refresh(<strong class="hl-keyword">this</strong> DbModel dbContext, RefreshMode mode, 
       IEnumerable collection)
    {
        var objectContext = ((IObjectContextAdapter)dbContext).ObjectContext;
        objectContext.Refresh(mode, collection);
    }

    <em class="hl-comment" style="color: #777777">// &#1054;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1072;</em>
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">static</strong> <strong class="hl-keyword">void</strong> Refresh(<strong class="hl-keyword">this</strong> DbModel dbContext, RefreshMode mode, 
         <strong class="hl-keyword">object</strong> entity)
    {
        var objectContext = ((IObjectContextAdapter)dbContext).ObjectContext;
        objectContext.Refresh(mode, entity);
    }
}                

                </pre><p> &#1042; &#1101;&#1090;&#1086;&#1084; &#1078;&#1077; &#1082;&#1083;&#1072;&#1089;&#1089;&#1077; &#1087;&#1088;&#1080;&#1089;&#1091;&#1090;&#1089;&#1090;&#1074;&#1091;&#1077;&#1090; &#1077;&#1097;&#1105; &#1085;&#1077;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1086; &#1088;&#1072;&#1089;&#1096;&#1080;&#1088;&#1077;&#1085;&#1080;&#1081;. </p><p>&#1052;&#1077;&#1090;&#1086;&#1076; <code class="methodname">NextValueFor</code> &#1087;&#1088;&#1077;&#1076;&#1085;&#1072;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085; &#1076;&#1083;&#1103; &#1087;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1103; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1077;&#1075;&#1086;
                &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1103; &#1075;&#1077;&#1085;&#1077;&#1088;&#1072;&#1090;&#1086;&#1088;&#1072;. &#1052;&#1077;&#1090;&#1086;&#1076; <code class="methodname">dbContext.Database.SqlQuery</code>
                &#1087;&#1086;&#1079;&#1074;&#1086;&#1083;&#1103;&#1077;&#1090; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1090;&#1100; SQL &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1099; &#1085;&#1072;&#1087;&#1088;&#1103;&#1084;&#1091;&#1102; &#1080; &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1090;&#1100; &#1080;&#1093; &#1088;&#1077;&#1079;&#1091;&#1083;&#1100;&#1090;&#1072;&#1090;&#1099; &#1085;&#1072; &#1085;&#1077;&#1082;&#1086;&#1090;&#1086;&#1088;&#1091;&#1102;
                &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1100; (&#1087;&#1088;&#1086;&#1077;&#1082;&#1094;&#1080;&#1102;). &#1042;&#1099; &#1084;&#1086;&#1078;&#1077;&#1090;&#1077; &#1074;&#1086;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100;&#1089;&#1103; &#1080;&#1084;, &#1077;&#1089;&#1083;&#1080; &#1074;&#1072;&#1084; &#1087;&#1086;&#1090;&#1088;&#1077;&#1073;&#1091;&#1077;&#1090;&#1089;&#1103; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1080;&#1090;&#1100;
                SQL &#1079;&#1072;&#1087;&#1088;&#1086;&#1089; &#1085;&#1072;&#1087;&#1088;&#1103;&#1084;&#1091;&#1102;.</p><p>&#1052;&#1077;&#1090;&#1086;&#1076; <code class="methodname">DetachAll</code> &#1087;&#1088;&#1077;&#1076;&#1085;&#1072;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085; &#1076;&#1083;&#1103; &#1086;&#1090;&#1089;&#1086;&#1077;&#1076;&#1080;&#1085;&#1077;&#1085;&#1080;&#1103; &#1074;&#1089;&#1077;&#1093;
                &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1086;&#1074; &#1082;&#1086;&#1083;&#1083;&#1077;&#1082;&#1094;&#1080;&#1080; DBSet &#1086;&#1090; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072;. &#1069;&#1090;&#1086; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1076;&#1083;&#1103; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1074;&#1085;&#1091;&#1090;&#1088;&#1077;&#1085;&#1085;&#1077;&#1075;&#1086;
                &#1082;&#1077;&#1096;&#1072;. &#1044;&#1077;&#1083;&#1086; &#1074; &#1090;&#1086;&#1084;, &#1095;&#1090;&#1086; &#1074; &#1088;&#1072;&#1084;&#1082;&#1072;&#1093; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072; &#1074;&#1089;&#1077; &#1080;&#1079;&#1074;&#1083;&#1077;&#1082;&#1072;&#1077;&#1084;&#1099;&#1077; &#1082;&#1077;&#1096;&#1080;&#1088;&#1091;&#1102;&#1090;&#1089;&#1103; &#1080; &#1085;&#1077; &#1080;&#1079;&#1074;&#1083;&#1077;&#1082;&#1072;&#1102;&#1090;&#1089;&#1103;
                &#1080;&#1079; &#1073;&#1072;&#1079;&#1099; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1089;&#1085;&#1086;&#1074;&#1072;. &#1054;&#1076;&#1085;&#1072;&#1082;&#1086; &#1101;&#1090;&#1086; &#1085;&#1077; &#1074;&#1089;&#1077;&#1075;&#1076;&#1072; &#1087;&#1086;&#1083;&#1077;&#1079;&#1085;&#1086;, &#1087;&#1086;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1091; &#1079;&#1072;&#1090;&#1088;&#1091;&#1076;&#1085;&#1103;&#1077;&#1090; &#1087;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1077;
                &#1080;&#1079;&#1084;&#1077;&#1085;&#1105;&#1085;&#1085;&#1099;&#1093; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081; &#1089;&#1076;&#1077;&#1083;&#1072;&#1085;&#1085;&#1099;&#1093; &#1074; &#1076;&#1088;&#1091;&#1075;&#1086;&#1084; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1077;. </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[&#1055;&#1088;&#1080;&#1084;&#1077;&#1095;&#1072;&#1085;&#1080;&#1077;]" src="file:/C:/Program%20Files/Oxygen%20XML%20Editor%2016/frameworks/docbook/css/img/note.png"></td><th align="left">&#1055;&#1088;&#1080;&#1084;&#1077;&#1095;&#1072;&#1085;&#1080;&#1077;</th></tr><tr><td align="left" valign="top"><p>&#1042; Web &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103;&#1093; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090; &#1086;&#1073;&#1099;&#1095;&#1085;&#1086; &#1078;&#1080;&#1074;&#1105;&#1090; &#1086;&#1095;&#1077;&#1085;&#1100; &#1082;&#1086;&#1088;&#1086;&#1090;&#1082;&#1086;&#1077; &#1074;&#1088;&#1077;&#1084;&#1103;, &#1072; &#1085;&#1086;&#1074;&#1099;&#1081; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;
                    &#1080;&#1084;&#1077;&#1077;&#1090; &#1085;&#1077; &#1079;&#1072;&#1087;&#1086;&#1083;&#1085;&#1077;&#1085;&#1085;&#1099;&#1081; &#1082;&#1077;&#1096;.</p></td></tr></table></div><p>&#1052;&#1077;&#1090;&#1086;&#1076; <code class="methodname">Refresh</code> &#1087;&#1088;&#1077;&#1076;&#1085;&#1072;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085; &#1076;&#1083;&#1103; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;
                &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1072;-&#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1080;. &#1054;&#1085; &#1087;&#1086;&#1083;&#1077;&#1079;&#1077;&#1085; &#1076;&#1083;&#1103; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1072; &#1087;&#1086;&#1089;&#1083;&#1077; &#1077;&#1075;&#1086; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103;
                &#1080;&#1083;&#1080; &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103;.</p><p>&#1058;&#1072;&#1082;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;, &#1085;&#1072;&#1096; &#1082;&#1086;&#1076; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1080; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1073;&#1091;&#1076;&#1077;&#1090; &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1077;&#1090;&#1100; &#1090;&#1072;&#1082; </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> LoadCustomersData()
{
    var dbContext = AppVariables.getDbContext();
    <em class="hl-comment" style="color: #777777">// &#1086;&#1090;&#1089;&#1086;&#1077;&#1076;&#1080;&#1085;&#1103;&#1077;&#1084; &#1074;&#1089;&#1077; &#1079;&#1072;&#1075;&#1088;&#1091;&#1078;&#1077;&#1085;&#1085;&#1099;&#1077; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1099;</em>
    <em class="hl-comment" style="color: #777777">// &#1101;&#1090;&#1086; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1095;&#1090;&#1086;&#1073;&#1099; &#1086;&#1073;&#1085;&#1086;&#1074;&#1080;&#1083;&#1089;&#1103; &#1074;&#1085;&#1091;&#1090;&#1088;&#1077;&#1085;&#1085;&#1080;&#1081; &#1082;&#1077;&#1096;</em>
    <em class="hl-comment" style="color: #777777">// &#1087;&#1088;&#1080; &#1074;&#1090;&#1086;&#1088;&#1086;&#1081; &#1080; &#1087;&#1086;&#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1093; &#1074;&#1099;&#1079;&#1086;&#1074;&#1072;&#1093; &#1101;&#1090;&#1086;&#1075;&#1086; &#1084;&#1077;&#1090;&#1086;&#1076;&#1072;</em>
    dbContext.DetachAll(dbContext.CUSTOMERS);

    var customers =
          <strong class="hl-keyword">from</strong> customer <strong class="hl-keyword">in</strong> dbContext.CUSTOMERS
          <strong class="hl-keyword">orderby</strong> customer.NAME
          <strong class="hl-keyword">select</strong> customer;


    bindingSource.DataSource = customers.ToBindingList();
}

<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> CustomerForm_Load(<strong class="hl-keyword">object</strong> sender, EventArgs e)
{
    LoadCustomersData();

    dataGridView.DataSource = bindingSource;
    dataGridView.Columns[<em class="hl-string" style="color: #303052">"INVOICES"</em>].Visible = <strong class="hl-keyword">false</strong>;
    dataGridView.Columns[<em class="hl-string" style="color: #303052">"CUSTOMER_ID"</em>].Visible = <strong class="hl-keyword">false</strong>;
    dataGridView.Columns[<em class="hl-string" style="color: #303052">"NAME"</em>].HeaderText = <em class="hl-string" style="color: #303052">"Name"</em>;
    dataGridView.Columns[<em class="hl-string" style="color: #303052">"ADDRESS"</em>].HeaderText = <em class="hl-string" style="color: #303052">"Address"</em>;
    dataGridView.Columns[<em class="hl-string" style="color: #303052">"ZIPCODE"</em>].HeaderText = <em class="hl-string" style="color: #303052">"ZipCode"</em>;
    dataGridView.Columns[<em class="hl-string" style="color: #303052">"PHONE"</em>].HeaderText = <em class="hl-string" style="color: #303052">"Phone"</em>;
}               

                </pre><p>
            </p><p>&#1050;&#1086;&#1076; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1103; &#1085;&#1072; &#1085;&#1072;&#1078;&#1072;&#1090;&#1080;&#1077; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080; &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1080;&#1090; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> btnAdd_Click(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
    var dbContext = AppVariables.getDbContext();
    <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; &#1085;&#1086;&#1074;&#1086;&#1075;&#1086; &#1101;&#1082;&#1079;&#1077;&#1084;&#1087;&#1083;&#1103;&#1088;&#1072; &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1080;        </em>
    var customer = (CUSTOMER)bindingSource.AddNew();
    <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1084; &#1092;&#1086;&#1088;&#1084;&#1091; &#1076;&#1083;&#1103; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103;</em>
    <strong class="hl-keyword">using</strong> (CustomerEditorForm editor = <strong class="hl-keyword">new</strong> CustomerEditorForm()) {
        editor.Text = <em class="hl-string" style="color: #303052">"&#1044;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1079;&#1072;&#1082;&#1072;&#1079;&#1095;&#1080;&#1082;&#1072;"</em>;
        editor.Customer = customer;
        <em class="hl-comment" style="color: #777777">// &#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1079;&#1072;&#1082;&#1088;&#1099;&#1090;&#1080;&#1103; &#1092;&#1086;&#1088;&#1084;&#1099;</em>
        editor.FormClosing += <strong class="hl-keyword">delegate</strong> (<strong class="hl-keyword">object</strong> fSender, FormClosingEventArgs fe) {
           <strong class="hl-keyword">if</strong> (editor.DialogResult == DialogResult.OK) {
              <strong class="hl-keyword">try</strong> {
                 <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1084; &#1085;&#1086;&#1074;&#1086;&#1077; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077; &#1075;&#1077;&#1085;&#1077;&#1088;&#1072;&#1090;&#1086;&#1088;&#1072;</em>
                 <em class="hl-comment" style="color: #777777">// &#1080; &#1087;&#1088;&#1080;&#1089;&#1074;&#1072;&#1080;&#1074;&#1072;&#1077;&#1084; &#1077;&#1075;&#1086; &#1080;&#1076;&#1077;&#1085;&#1090;&#1080;&#1092;&#1080;&#1082;&#1072;&#1090;&#1086;&#1088;&#1091;</em>
                 customer.CUSTOMER_ID = dbContext.NextValueFor(<em class="hl-string" style="color: #303052">"GEN_CUSTOMER_ID"</em>);
                 <em class="hl-comment" style="color: #777777">// &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1103;&#1077;&#1084; &#1085;&#1086;&#1074;&#1086;&#1075;&#1086; &#1079;&#1072;&#1082;&#1072;&#1079;&#1095;&#1080;&#1082;&#1072;</em>
                 dbContext.CUSTOMERS.Add(customer);
                 <em class="hl-comment" style="color: #777777">// &#1087;&#1099;&#1090;&#1072;&#1077;&#1084;&#1089;&#1103; &#1089;&#1086;&#1093;&#1088;&#1072;&#1085;&#1080;&#1090;&#1100; &#1080;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1103;</em>
                 dbContext.SaveChanges();
                 <em class="hl-comment" style="color: #777777">// &#1080; &#1086;&#1073;&#1085;&#1086;&#1074;&#1080;&#1090;&#1100; &#1090;&#1077;&#1082;&#1091;&#1097;&#1091;&#1102; &#1079;&#1072;&#1087;&#1080;&#1089;&#1100;</em>
                 dbContext.Refresh(RefreshMode.StoreWins, customer);
              }
              <strong class="hl-keyword">catch</strong> (Exception ex) {
                 <em class="hl-comment" style="color: #777777">// &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1077;&#1084; &#1086;&#1096;&#1080;&#1073;&#1082;&#1091;</em>
                 MessageBox.Show(ex.Message, <em class="hl-string" style="color: #303052">"Error"</em>);
                 <em class="hl-comment" style="color: #777777">// &#1085;&#1077; &#1079;&#1072;&#1082;&#1088;&#1099;&#1074;&#1072;&#1077;&#1084; &#1092;&#1086;&#1088;&#1084;&#1091; &#1076;&#1083;&#1103; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1080; &#1080;&#1089;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1086;&#1096;&#1080;&#1073;&#1082;&#1080;</em>
                 fe.Cancel = <strong class="hl-keyword">true</strong>;
              }
           }
           <strong class="hl-keyword">else</strong>
               bindingSource.CancelEdit();

        };
        <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1082;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084; &#1084;&#1086;&#1076;&#1072;&#1083;&#1100;&#1085;&#1091;&#1102; &#1092;&#1086;&#1088;&#1084;&#1091;</em>
        editor.ShowDialog(<strong class="hl-keyword">this</strong>);
    }
}               

                </pre><p>
            </p><p>&#1055;&#1088;&#1080; &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1080; &#1085;&#1086;&#1074;&#1086;&#1081; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1084;&#1099; &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1084; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1077;&#1075;&#1086; &#1080;&#1076;&#1077;&#1085;&#1090;&#1080;&#1092;&#1080;&#1082;&#1072;&#1090;&#1086;&#1088;&#1072; &#1089;
                &#1087;&#1086;&#1084;&#1086;&#1097;&#1100;&#1102; &#1075;&#1077;&#1085;&#1077;&#1088;&#1072;&#1090;&#1086;&#1088;&#1072;. &#1052;&#1099; &#1084;&#1086;&#1075;&#1083;&#1080; &#1073;&#1099; &#1085;&#1077; &#1080;&#1085;&#1080;&#1094;&#1080;&#1072;&#1083;&#1080;&#1079;&#1080;&#1088;&#1086;&#1074;&#1072;&#1090;&#1100; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077; &#1080;&#1076;&#1077;&#1085;&#1090;&#1080;&#1092;&#1080;&#1082;&#1072;&#1090;&#1086;&#1088;&#1072;, &#1080; &#1074;
                &#1101;&#1090;&#1086;&#1084; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077; &#1086;&#1090;&#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1083; &#1073;&#1099; BEFORE INSERT &#1090;&#1088;&#1080;&#1075;&#1075;&#1077;&#1088;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1074;&#1089;&#1105; &#1088;&#1072;&#1074;&#1085;&#1086; &#1076;&#1105;&#1088;&#1085;&#1091;&#1083; &#1073;&#1099;
                &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1077;&#1077; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077; &#1075;&#1077;&#1085;&#1077;&#1088;&#1072;&#1090;&#1086;&#1088;&#1072;. &#1054;&#1076;&#1085;&#1072;&#1082;&#1086; &#1074; &#1101;&#1090;&#1086;&#1084; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077; &#1084;&#1099; &#1085;&#1077; &#1089;&#1084;&#1086;&#1075;&#1083;&#1080; &#1073;&#1099; &#1086;&#1073;&#1085;&#1086;&#1074;&#1080;&#1090;&#1100; &#1074;&#1085;&#1086;&#1074;&#1100;
                &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1085;&#1091;&#1102; &#1079;&#1072;&#1087;&#1080;&#1089;&#1100;.</p><p>&#1050;&#1086;&#1076; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1103; &#1085;&#1072; &#1085;&#1072;&#1078;&#1072;&#1090;&#1080;&#1077; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103; &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1080;&#1090; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1084;
                &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> btnEdit_Click(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
    var dbContext = AppVariables.getDbContext();
    <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1084; &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1100;</em>
    var customer = (CUSTOMER)bindingSource.Current;
    <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1084; &#1092;&#1086;&#1088;&#1084;&#1091; &#1076;&#1083;&#1103; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103;</em>
    <strong class="hl-keyword">using</strong> (CustomerEditorForm editor = <strong class="hl-keyword">new</strong> CustomerEditorForm()) {
        editor.Text = <em class="hl-string" style="color: #303052">"&#1056;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1077; &#1079;&#1072;&#1082;&#1072;&#1079;&#1095;&#1080;&#1082;&#1072;"</em>;
        editor.Customer = customer;
        <em class="hl-comment" style="color: #777777">// &#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1079;&#1072;&#1082;&#1088;&#1099;&#1090;&#1080;&#1103; &#1092;&#1086;&#1088;&#1084;&#1099;</em>
        editor.FormClosing += <strong class="hl-keyword">delegate</strong> (<strong class="hl-keyword">object</strong> fSender, FormClosingEventArgs fe) {
            <strong class="hl-keyword">if</strong> (editor.DialogResult == DialogResult.OK) {
                <strong class="hl-keyword">try</strong> {
                    <em class="hl-comment" style="color: #777777">// &#1087;&#1099;&#1090;&#1072;&#1077;&#1084;&#1089;&#1103; &#1089;&#1086;&#1093;&#1088;&#1072;&#1085;&#1080;&#1090;&#1100; &#1080;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1103;</em>
                    dbContext.SaveChanges();
                    dbContext.Refresh(RefreshMode.StoreWins, customer);
                    <em class="hl-comment" style="color: #777777">// &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1103;&#1077;&#1084; &#1074;&#1089;&#1077; &#1089;&#1074;&#1103;&#1079;&#1072;&#1085;&#1085;&#1099;&#1077; &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1099;</em>
                    bindingSource.ResetCurrentItem();
                }
                <strong class="hl-keyword">catch</strong> (Exception ex) {
                    <em class="hl-comment" style="color: #777777">// &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1077;&#1084; &#1086;&#1096;&#1080;&#1073;&#1082;&#1091;</em>
                    MessageBox.Show(ex.Message, <em class="hl-string" style="color: #303052">"Error"</em>);
                    <em class="hl-comment" style="color: #777777">// &#1085;&#1077; &#1079;&#1072;&#1082;&#1088;&#1099;&#1074;&#1072;&#1077;&#1084; &#1092;&#1086;&#1088;&#1084;&#1091; &#1076;&#1083;&#1103; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1080; &#1080;&#1089;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1086;&#1096;&#1080;&#1073;&#1082;&#1080;</em>
                    fe.Cancel = <strong class="hl-keyword">true</strong>;
                }
            }
            <strong class="hl-keyword">else</strong>
                bindingSource.CancelEdit();

        };
        <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1082;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084; &#1084;&#1086;&#1076;&#1072;&#1083;&#1100;&#1085;&#1091;&#1102; &#1092;&#1086;&#1088;&#1084;&#1091;</em>
        editor.ShowDialog(<strong class="hl-keyword">this</strong>);
    }
}             

                </pre><p>
            </p><p>&#1060;&#1086;&#1088;&#1084;&#1072; &#1076;&#1083;&#1103; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103; &#1079;&#1072;&#1082;&#1072;&#1079;&#1095;&#1080;&#1082;&#1072; &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1080;&#1090; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;. </p><div class="figure"><a name="d5e363"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.16. &#1060;&#1086;&#1088;&#1084;&#1072; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103; &#1079;&#1072;&#1082;&#1072;&#1079;&#1095;&#1080;&#1082;&#1072;</b></p><div class="figure-contents"><div class="mediaobject"><img src="../../images/dotnet-customer-editor-form.png" alt="&#1060;&#1086;&#1088;&#1084;&#1072; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103; &#1079;&#1072;&#1082;&#1072;&#1079;&#1095;&#1080;&#1082;&#1072;."></div></div></div><p><br class="figure-break">
            </p><p>&#1050;&#1086;&#1076; &#1087;&#1088;&#1080;&#1074;&#1103;&#1079;&#1082;&#1080; &#1082; &#1076;&#1072;&#1085;&#1085;&#1099;&#1084; &#1086;&#1095;&#1077;&#1085;&#1100; &#1087;&#1088;&#1086;&#1089;&#1090;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">public</strong> CUSTOMER Customer { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }

<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> CustomerEditorForm_Load(<strong class="hl-keyword">object</strong> sender, EventArgs e)
{
    edtName.DataBindings.Add(<em class="hl-string" style="color: #303052">"Text"</em>, <strong class="hl-keyword">this</strong>.Customer, <em class="hl-string" style="color: #303052">"NAME"</em>);
    edtAddress.DataBindings.Add(<em class="hl-string" style="color: #303052">"Text"</em>, <strong class="hl-keyword">this</strong>.Customer, <em class="hl-string" style="color: #303052">"ADDRESS"</em>);
    edtZipCode.DataBindings.Add(<em class="hl-string" style="color: #303052">"Text"</em>, <strong class="hl-keyword">this</strong>.Customer, <em class="hl-string" style="color: #303052">"ZIPCODE"</em>);
    edtPhone.DataBindings.Add(<em class="hl-string" style="color: #303052">"Text"</em>, <strong class="hl-keyword">this</strong>.Customer, <em class="hl-string" style="color: #303052">"PHONE"</em>);
}             

                </pre><p>
            </p><p>&#1050;&#1086;&#1076; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1103; &#1085;&#1072; &#1085;&#1072;&#1078;&#1072;&#1090;&#1080;&#1077; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080; &#1091;&#1076;&#1072;&#1083;&#1077;&#1085;&#1080;&#1103; &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1080;&#1090; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> btnDelete_Click(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
    var dbContext = AppVariables.getDbContext();
    var result = MessageBox.Show(<em class="hl-string" style="color: #303052">"&#1042;&#1099; &#1076;&#1077;&#1081;&#1089;&#1090;&#1074;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1086; &#1093;&#1086;&#1090;&#1080;&#1090;&#1077; &#1091;&#1076;&#1072;&#1083;&#1080;&#1090;&#1100; &#1079;&#1072;&#1082;&#1072;&#1079;&#1095;&#1080;&#1082;&#1072;?"</em>,
                <em class="hl-string" style="color: #303052">"&#1055;&#1086;&#1076;&#1090;&#1074;&#1077;&#1088;&#1078;&#1076;&#1077;&#1085;&#1080;&#1077;"</em>,
                MessageBoxButtons.YesNo,
                MessageBoxIcon.Question);
    <strong class="hl-keyword">if</strong> (result == DialogResult.Yes) {
       <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1084; &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1100; </em>
       var customer = (CUSTOMER)bindingSource.Current;
       <strong class="hl-keyword">try</strong> {
           dbContext.CUSTOMERS.Remove(customer);
           <em class="hl-comment" style="color: #777777">// &#1087;&#1099;&#1090;&#1072;&#1077;&#1084;&#1089;&#1103; &#1089;&#1086;&#1093;&#1088;&#1072;&#1085;&#1080;&#1090;&#1100; &#1080;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1103;</em>
           dbContext.SaveChanges();
           <em class="hl-comment" style="color: #777777">// &#1091;&#1076;&#1072;&#1083;&#1103;&#1077;&#1084; &#1080;&#1079; &#1089;&#1074;&#1103;&#1079;&#1072;&#1085;&#1085;&#1086;&#1075;&#1086; &#1089;&#1087;&#1080;&#1089;&#1082;&#1072;</em>
           bindingSource.RemoveCurrent();
       }
       <strong class="hl-keyword">catch</strong> (Exception ex) {
           <em class="hl-comment" style="color: #777777">// &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1077;&#1084; &#1086;&#1096;&#1080;&#1073;&#1082;&#1091;</em>
           MessageBox.Show(ex.Message, <em class="hl-string" style="color: #303052">"Error"</em>);
       }
    }
}             

                </pre><p>
            </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e374"></a>&#1046;&#1091;&#1088;&#1085;&#1072;&#1083;&#1099;</h3></div></div></div><p>&#1042; &#1085;&#1072;&#1096;&#1077;&#1084; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1080; &#1073;&#1091;&#1076;&#1077;&#1090; &#1086;&#1076;&#1080;&#1085; &#1078;&#1091;&#1088;&#1085;&#1072;&#1083; &laquo;&#1057;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099;&raquo;. &#1042; &#1086;&#1090;&#1083;&#1080;&#1095;&#1080;&#1077; &#1086;&#1090; &#1089;&#1087;&#1088;&#1072;&#1074;&#1086;&#1095;&#1085;&#1080;&#1082;&#1086;&#1074;
                &#1078;&#1091;&#1088;&#1085;&#1072;&#1083;&#1099; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1072;&#1090; &#1076;&#1086;&#1074;&#1086;&#1083;&#1100;&#1085;&#1086; &#1073;&#1086;&#1083;&#1100;&#1096;&#1086;&#1077; &#1082;&#1086;&#1083;&#1080;&#1095;&#1077;&#1089;&#1090;&#1074;&#1086; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081; &#1080; &#1103;&#1074;&#1083;&#1103;&#1102;&#1090;&#1089;&#1103; &#1095;&#1072;&#1089;&#1090;&#1086;
                &#1087;&#1086;&#1087;&#1086;&#1083;&#1085;&#1103;&#1077;&#1084;&#1099;&#1084;&#1080;.</p><p>&#1057;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1072; &#8212; &#1089;&#1086;&#1089;&#1090;&#1086;&#1080;&#1090; &#1080;&#1079; &#1079;&#1072;&#1075;&#1086;&#1083;&#1086;&#1074;&#1082;&#1072;, &#1075;&#1076;&#1077; &#1086;&#1087;&#1080;&#1089;&#1099;&#1074;&#1072;&#1102;&#1090;&#1089;&#1103; &#1086;&#1073;&#1097;&#1080;&#1077; &#1072;&#1090;&#1088;&#1080;&#1073;&#1091;&#1090;&#1099; (&#1085;&#1086;&#1084;&#1077;&#1088;, &#1076;&#1072;&#1090;&#1072;,
                &#1079;&#1072;&#1082;&#1072;&#1079;&#1095;&#1080;&#1082; &#8230;), &#1080; &#1089;&#1090;&#1088;&#1086;&#1082; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099; &#1089;&#1086; &#1089;&#1087;&#1080;&#1089;&#1082;&#1086;&#1084; &#1090;&#1086;&#1074;&#1072;&#1088;&#1086;&#1084;, &#1080;&#1093; &#1082;&#1086;&#1083;&#1080;&#1095;&#1077;&#1089;&#1090;&#1074;&#1086;&#1084;, &#1089;&#1090;&#1086;&#1080;&#1084;&#1086;&#1089;&#1090;&#1100;&#1102; &#1080;
                &#1090;.&#1076;. &#1044;&#1083;&#1103; &#1090;&#1072;&#1082;&#1080;&#1093; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074; &#1091;&#1076;&#1086;&#1073;&#1085;&#1086; &#1080;&#1084;&#1077;&#1090;&#1100; &#1076;&#1074;&#1072; &#1075;&#1088;&#1080;&#1076;&#1072;: &#1074; &#1075;&#1083;&#1072;&#1074;&#1085;&#1086;&#1084; &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1102;&#1090;&#1089;&#1103; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077; &#1086;
                &#1096;&#1072;&#1087;&#1082;&#1077; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;, &#1072; &#1074; &#1076;&#1077;&#1090;&#1072;&#1083;&#1080;&#1079;&#1080;&#1088;&#1091;&#1102;&#1097;&#1077;&#1084; &#8212; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082; &#1090;&#1086;&#1074;&#1072;&#1088;&#1086;&#1074;. &#1058;&#1072;&#1082;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;, &#1085;&#1072; &#1092;&#1086;&#1088;&#1084;&#1091;
                &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072; &#1085;&#1072;&#1084; &#1087;&#1086;&#1090;&#1088;&#1077;&#1073;&#1091;&#1077;&#1090;&#1089;&#1103; &#1087;&#1086;&#1084;&#1077;&#1089;&#1090;&#1080;&#1090;&#1100; &#1076;&#1074;&#1072; &#1082;&#1086;&#1084;&#1087;&#1086;&#1085;&#1077;&#1085;&#1090;&#1072;
                    <code class="classname">DataGridView</code>, &#1082; &#1082;&#1072;&#1078;&#1076;&#1086;&#1084;&#1091; &#1080;&#1079; &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1093; &#1087;&#1088;&#1080;&#1074;&#1103;&#1079;&#1072;&#1090;&#1100; &#1089;&#1074;&#1086;&#1081;
                    <code class="classname">BindingSource</code>
                </p><div class="figure"><a name="d5e380"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.17. &#1060;&#1086;&#1088;&#1084;&#1072; &#1078;&#1091;&#1088;&#1085;&#1072;&#1083;&#1072; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-invoice-form.png" width="680" alt="&#1060;&#1086;&#1088;&#1084;&#1072; &#1078;&#1091;&#1088;&#1085;&#1072;&#1083;&#1072; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;."></td></tr></table></div></div></div><p><br class="figure-break">
            </p><p>&#1041;&#1086;&#1083;&#1100;&#1096;&#1080;&#1085;&#1089;&#1090;&#1074;&#1086; &#1078;&#1091;&#1088;&#1085;&#1072;&#1083;&#1086;&#1074; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1072;&#1090; &#1087;&#1086;&#1083;&#1077; &#1089; &#1076;&#1072;&#1090;&#1086;&#1081; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1103; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;. &#1063;&#1090;&#1086;&#1073;&#1099; &#1091;&#1084;&#1077;&#1085;&#1100;&#1096;&#1080;&#1090;&#1100;
                &#1082;&#1086;&#1083;&#1080;&#1095;&#1077;&#1089;&#1090;&#1074;&#1086; &#1074;&#1099;&#1073;&#1080;&#1088;&#1072;&#1077;&#1084;&#1099;&#1093; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1086;&#1073;&#1099;&#1095;&#1085;&#1086; &#1087;&#1088;&#1080;&#1085;&#1103;&#1090;&#1086; &#1074;&#1074;&#1086;&#1076;&#1080;&#1090;&#1100; &#1090;&#1072;&#1082;&#1086;&#1077; &#1087;&#1086;&#1085;&#1103;&#1090;&#1080;&#1077; &#1082;&#1072;&#1082; &#1088;&#1072;&#1073;&#1086;&#1095;&#1080;&#1081; &#1087;&#1077;&#1088;&#1080;&#1086;&#1076;
                &#1076;&#1083;&#1103; &#1090;&#1086;&#1075;&#1086;, &#1095;&#1090;&#1086;&#1073;&#1099; &#1091;&#1084;&#1077;&#1085;&#1100;&#1096;&#1080;&#1090;&#1100; &#1086;&#1073;&#1098;&#1105;&#1084; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1087;&#1077;&#1088;&#1077;&#1076;&#1072;&#1074;&#1072;&#1077;&#1084;&#1099;&#1081; &#1085;&#1072; &#1082;&#1083;&#1080;&#1077;&#1085;&#1090;&#1072;. &#1056;&#1072;&#1073;&#1086;&#1095;&#1080;&#1081; &#1087;&#1077;&#1088;&#1080;&#1086;&#1076; &#8212; &#1101;&#1090;&#1086;
                &#1076;&#1080;&#1072;&#1087;&#1072;&#1079;&#1086;&#1085; &#1076;&#1072;&#1090;, &#1074;&#1085;&#1091;&#1090;&#1088;&#1080; &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1075;&#1086; &#1090;&#1088;&#1077;&#1073;&#1091;&#1102;&#1090;&#1089;&#1103; &#1088;&#1072;&#1073;&#1086;&#1095;&#1080;&#1077; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1099;. &#1055;&#1086;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1091; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1077;
                &#1084;&#1086;&#1078;&#1077;&#1090; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1072;&#1090;&#1100; &#1073;&#1086;&#1083;&#1077;&#1077; &#1086;&#1076;&#1085;&#1086;&#1075;&#1086; &#1078;&#1091;&#1088;&#1085;&#1072;&#1083;&#1072;, &#1090;&#1086; &#1080;&#1084;&#1077;&#1077;&#1090; &#1089;&#1084;&#1099;&#1089;&#1083; &#1088;&#1072;&#1079;&#1084;&#1077;&#1089;&#1090;&#1080;&#1090;&#1100; &#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1085;&#1085;&#1099;&#1077;,
                &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1072;&#1097;&#1080;&#1077; &#1076;&#1072;&#1090;&#1091; &#1085;&#1072;&#1095;&#1072;&#1083;&#1072; &#1080; &#1086;&#1082;&#1086;&#1085;&#1095;&#1072;&#1085;&#1080;&#1103; &#1088;&#1072;&#1073;&#1086;&#1095;&#1077;&#1075;&#1086; &#1087;&#1077;&#1088;&#1080;&#1086;&#1076;&#1072;, &#1074; &#1075;&#1083;&#1086;&#1073;&#1072;&#1083;&#1100;&#1085;&#1086;&#1084; &#1084;&#1086;&#1076;&#1091;&#1083;&#1077;
                AppVariables (&#1089;&#1084;. <a class="link" href="#app-dotnet-getcontext" title="&#1055;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1077; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072;">&#1055;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1077; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072;</a>),
                &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081;, &#1090;&#1072;&#1082; &#1080;&#1083;&#1080; &#1080;&#1085;&#1072;&#1095;&#1077;, &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1077;&#1090;&#1089;&#1103; &#1074;&#1089;&#1077;&#1084;&#1080; &#1084;&#1086;&#1076;&#1091;&#1083;&#1103;&#1084;&#1080;, &#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1102;&#1097;&#1080;&#1084;&#1080; &#1089; &#1041;&#1044;. &#1055;&#1088;&#1080; &#1089;&#1090;&#1072;&#1088;&#1090;&#1077;
                &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103; &#1088;&#1072;&#1073;&#1086;&#1095;&#1080;&#1081; &#1087;&#1077;&#1088;&#1080;&#1086;&#1076; &#1086;&#1073;&#1099;&#1095;&#1085;&#1086; &#1080;&#1085;&#1080;&#1094;&#1080;&#1072;&#1083;&#1080;&#1079;&#1080;&#1088;&#1091;&#1077;&#1090;&#1089;&#1103; &#1076;&#1072;&#1090;&#1086;&#1081; &#1085;&#1072;&#1095;&#1072;&#1083;&#1072; &#1080; &#1086;&#1082;&#1086;&#1085;&#1095;&#1072;&#1085;&#1080;&#1103; &#1090;&#1077;&#1082;&#1091;&#1097;&#1077;&#1075;&#1086;
                &#1082;&#1074;&#1072;&#1088;&#1090;&#1072;&#1083;&#1072; (&#1084;&#1086;&#1075;&#1091;&#1090; &#1073;&#1099;&#1090;&#1100; &#1076;&#1088;&#1091;&#1075;&#1080;&#1077; &#1074;&#1072;&#1088;&#1080;&#1072;&#1085;&#1090;&#1099;). &#1042; &#1093;&#1086;&#1076;&#1077; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103; &#1084;&#1086;&#1078;&#1085;&#1086; &#1080;&#1079;&#1084;&#1077;&#1085;&#1080;&#1090;&#1100;
                &#1088;&#1072;&#1073;&#1086;&#1095;&#1080;&#1081; &#1087;&#1077;&#1088;&#1080;&#1086;&#1076; &#1087;&#1086; &#1078;&#1077;&#1083;&#1072;&#1085;&#1080;&#1102; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1103;.</p><p>&#1055;&#1086;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1091; &#1095;&#1072;&#1097;&#1077; &#1074;&#1089;&#1077;&#1075;&#1086; &#1090;&#1088;&#1077;&#1073;&#1091;&#1102;&#1090;&#1089;&#1103; &#1080;&#1084;&#1077;&#1085;&#1085;&#1086; &#1087;&#1086;&#1089;&#1083;&#1077;&#1076;&#1085;&#1080;&#1077; &#1074;&#1074;&#1077;&#1076;&#1105;&#1085;&#1085;&#1099;&#1077; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1099;, &#1090;&#1086; &#1080;&#1084;&#1077;&#1077;&#1090;
                &#1089;&#1084;&#1099;&#1089;&#1083; &#1089;&#1086;&#1088;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1090;&#1100; &#1080;&#1093; &#1087;&#1086; &#1076;&#1072;&#1090;&#1077; &#1074; &#1086;&#1073;&#1088;&#1072;&#1090;&#1085;&#1086;&#1084; &#1087;&#1086;&#1088;&#1103;&#1076;&#1082;&#1077;. &#1048;&#1079;&#1074;&#1083;&#1077;&#1082;&#1072;&#1090;&#1100; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077;, &#1082;&#1072;&#1082; &#1080; &#1074; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077; &#1089;&#1086;
                &#1089;&#1087;&#1088;&#1072;&#1074;&#1086;&#1095;&#1085;&#1080;&#1082;&#1072;&#1084;&#1080; &#1073;&#1091;&#1076;&#1077;&#1084; &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; LINQ. &#1057; &#1091;&#1095;&#1105;&#1090;&#1086;&#1084; &#1074;&#1099;&#1096;&#1077;&#1089;&#1082;&#1072;&#1079;&#1072;&#1085;&#1085;&#1086;&#1075;&#1086;, &#1084;&#1077;&#1090;&#1086;&#1076; &#1076;&#1083;&#1103; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1080;
                &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1096;&#1072;&#1087;&#1086;&#1082; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088; &#1073;&#1091;&#1076;&#1077;&#1090; &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1077;&#1090;&#1100; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;: </p><pre class="programlisting">
                        
<strong class="hl-keyword">public</strong> <strong class="hl-keyword">void</strong> LoadInvoicesData() {
    var dbContext = AppVariables.getDbContext();

    <em class="hl-comment" style="color: #777777">// &#1079;&#1072;&#1087;&#1088;&#1086;&#1089; &#1085;&#1072; LINQ &#1087;&#1088;&#1077;&#1086;&#1073;&#1088;&#1072;&#1079;&#1091;&#1077;&#1090;&#1089;&#1103; &#1074; SQL</em>
    var invoices =
        <strong class="hl-keyword">from</strong> invoice <strong class="hl-keyword">in</strong> dbContext.INVOICES
        <strong class="hl-keyword">where</strong> (invoice.INVOICE_DATE &gt;= AppVariables.StartDate) &amp;&amp;
              (invoice.INVOICE_DATE &lt;= AppVariables.FinishDate)
        <strong class="hl-keyword">orderby</strong> invoice.INVOICE_DATE descending
        <strong class="hl-keyword">select</strong> <strong class="hl-keyword">new</strong> InvoiceView
        {
            Id = invoice.INVOICE_ID,
            Cusomer_Id = invoice.CUSTOMER_ID,
            Customer = invoice.CUSTOMER.NAME,
            Date = invoice.INVOICE_DATE,
            Amount = invoice.TOTAL_SALE,
            Payed = (invoice.PAYED == <span class="hl-number">1</span>) ? <em class="hl-string" style="color: #303052">"Yes"</em> : <em class="hl-string" style="color: #303052">"No"</em>
        };

    masterBinding.DataSource = invoices.ToBindingList();
}          

                </pre><p>
            </p><p>&#1042; &#1082;&#1072;&#1095;&#1077;&#1089;&#1090;&#1074;&#1077; &#1087;&#1088;&#1086;&#1077;&#1082;&#1094;&#1080;&#1080; &#1084;&#1099; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1083;&#1080; &#1085;&#1077; &#1072;&#1085;&#1086;&#1085;&#1080;&#1084;&#1085;&#1099;&#1081; &#1090;&#1080;&#1087;, &#1072; &#1082;&#1083;&#1072;&#1089;&#1089;
                    <code class="classname">InvoiceView</code>. &#1069;&#1090;&#1086; &#1091;&#1087;&#1088;&#1086;&#1097;&#1072;&#1077;&#1090; &#1087;&#1088;&#1080;&#1074;&#1077;&#1076;&#1077;&#1085;&#1080;&#1077; &#1090;&#1080;&#1087;&#1072;. &#1054;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1077;
                &#1082;&#1083;&#1072;&#1089;&#1089;&#1072; <code class="classname">InvoiceView</code> &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1080;&#1090; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;: </p><pre class="programlisting">
                        
<strong class="hl-keyword">public</strong> <strong class="hl-keyword">class</strong> InvoiceView {
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">int</strong> Id { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">int</strong> Cusomer_Id { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">string</strong> Customer { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
    <strong class="hl-keyword">public</strong> DateTime? Date { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">decimal</strong>? Amount { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">string</strong> Payed { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }

    <strong class="hl-keyword">public</strong> <strong class="hl-keyword">void</strong> Load(<strong class="hl-keyword">int</strong> Id) {
        var dbContext = AppVariables.getDbContext();

        var invoices =
            <strong class="hl-keyword">from</strong> invoice <strong class="hl-keyword">in</strong> dbContext.INVOICES
            <strong class="hl-keyword">where</strong> invoice.INVOICE_ID == Id
            <strong class="hl-keyword">select</strong> <strong class="hl-keyword">new</strong> InvoiceView
            {
                Id = invoice.INVOICE_ID,
                Cusomer_Id = invoice.CUSTOMER_ID,
                Customer = invoice.CUSTOMER.NAME,
                Date = invoice.INVOICE_DATE,
                Amount = invoice.TOTAL_SALE,
                Payed = (invoice.PAYED == <span class="hl-number">1</span>) ? <em class="hl-string" style="color: #303052">"Yes"</em> : <em class="hl-string" style="color: #303052">"No"</em>
            };

        InvoiceView invoiceView = invoices.ToList().First();
        <strong class="hl-keyword">this</strong>.Id = invoiceView.Id;
        <strong class="hl-keyword">this</strong>.Cusomer_Id = invoiceView.Cusomer_Id;
        <strong class="hl-keyword">this</strong>.Customer = invoiceView.Customer;
        <strong class="hl-keyword">this</strong>.Date = invoiceView.Date;
        <strong class="hl-keyword">this</strong>.Amount = invoiceView.Amount;
        <strong class="hl-keyword">this</strong>.Payed = invoiceView.Payed;
    }
}         

                </pre><p> &#1052;&#1077;&#1090;&#1086;&#1076; <code class="methodname">Load</code> &#1087;&#1086;&#1079;&#1074;&#1086;&#1083;&#1103;&#1077;&#1090; &#1085;&#1072;&#1084; &#1073;&#1099;&#1089;&#1090;&#1088;&#1086;
                &#1086;&#1073;&#1085;&#1086;&#1074;&#1080;&#1090;&#1100; 1 &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1085;&#1091;&#1102; &#1080;&#1083;&#1080; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1105;&#1085;&#1085;&#1091;&#1102; &#1079;&#1072;&#1087;&#1080;&#1089;&#1100; &#1074; &#1075;&#1088;&#1080;&#1076;&#1077;, &#1074;&#1084;&#1077;&#1089;&#1090;&#1086; &#1090;&#1086;&#1075;&#1086; &#1095;&#1090;&#1086;&#1073;&#1099; &#1087;&#1086;&#1083;&#1085;&#1086;&#1089;&#1090;&#1100;&#1102;
                &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1078;&#1072;&#1090;&#1100; &#1074;&#1089;&#1077; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080;. </p><p>&#1050;&#1086;&#1076; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1103; &#1085;&#1072; &#1085;&#1072;&#1078;&#1072;&#1090;&#1080;&#1077; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080; &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1080;&#1090; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> btnAddInvoice_Click(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
    var dbContext = AppVariables.getDbContext();
    var invoice = dbContext.INVOICES.Create();

    <strong class="hl-keyword">using</strong> (InvoiceEditorForm editor = <strong class="hl-keyword">new</strong> InvoiceEditorForm()) {
        editor.Text = <em class="hl-string" style="color: #303052">"&#1044;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1089;&#1095;&#1105;&#1090; &#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099;"</em>;
        editor.Invoice = invoice;
        <em class="hl-comment" style="color: #777777">// &#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1079;&#1072;&#1082;&#1088;&#1099;&#1090;&#1080;&#1103; &#1092;&#1086;&#1088;&#1084;&#1099;</em>
        editor.FormClosing += <strong class="hl-keyword">delegate</strong> (<strong class="hl-keyword">object</strong> fSender, FormClosingEventArgs fe) {
            <strong class="hl-keyword">if</strong> (editor.DialogResult == DialogResult.OK) {
                <strong class="hl-keyword">try</strong> {
                    <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1084; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077; &#1075;&#1077;&#1085;&#1077;&#1088;&#1072;&#1090;&#1086;&#1088;&#1072;</em>
                    invoice.INVOICE_ID = dbContext.NextValueFor(<em class="hl-string" style="color: #303052">"GEN_INVOICE_ID"</em>);
                    <em class="hl-comment" style="color: #777777">// &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1103;&#1077;&#1084; &#1079;&#1072;&#1087;&#1080;&#1089;&#1100;</em>
                    dbContext.INVOICES.Add(invoice);
                    <em class="hl-comment" style="color: #777777">// &#1087;&#1099;&#1090;&#1072;&#1077;&#1084;&#1089;&#1103; &#1089;&#1086;&#1093;&#1088;&#1072;&#1085;&#1080;&#1090;&#1100; &#1080;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1103;</em>
                    dbContext.SaveChanges();
                    <em class="hl-comment" style="color: #777777">// &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1103;&#1077;&#1084; &#1087;&#1088;&#1086;&#1077;&#1082;&#1094;&#1080;&#1102; &#1074; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082; &#1076;&#1083;&#1103; &#1075;&#1088;&#1080;&#1076;&#1072;</em>
                    ((InvoiceView)masterBinding.AddNew()).Load(invoice.INVOICE_ID);
                }
                <strong class="hl-keyword">catch</strong> (Exception ex) {
                    <em class="hl-comment" style="color: #777777">// &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1077;&#1084; &#1086;&#1096;&#1080;&#1073;&#1082;&#1091;</em>
                    MessageBox.Show(ex.Message, <em class="hl-string" style="color: #303052">"Error"</em>);
                    <em class="hl-comment" style="color: #777777">// &#1085;&#1077; &#1079;&#1072;&#1082;&#1088;&#1099;&#1074;&#1072;&#1077;&#1084; &#1092;&#1086;&#1088;&#1084;&#1091; &#1076;&#1083;&#1103; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1080; &#1080;&#1089;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1086;&#1096;&#1080;&#1073;&#1082;&#1080;</em>
                    fe.Cancel = <strong class="hl-keyword">true</strong>;
                }
            }
        };
        <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1082;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084; &#1084;&#1086;&#1076;&#1072;&#1083;&#1100;&#1085;&#1091;&#1102; &#1092;&#1086;&#1088;&#1084;&#1091;</em>
        editor.ShowDialog(<strong class="hl-keyword">this</strong>);
    }
}      

                </pre><p>
            </p><p>&#1042; &#1086;&#1090;&#1083;&#1080;&#1095;&#1080;&#1077; &#1086;&#1090; &#1072;&#1085;&#1072;&#1083;&#1086;&#1075;&#1080;&#1095;&#1085;&#1086;&#1075;&#1086; &#1084;&#1077;&#1090;&#1086;&#1076;&#1072; &#1089;&#1087;&#1088;&#1072;&#1074;&#1086;&#1095;&#1085;&#1080;&#1082;&#1072; &#1079;&#1076;&#1077;&#1089;&#1100; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1087;&#1088;&#1086;&#1080;&#1089;&#1093;&#1086;&#1076;&#1080;&#1090; &#1085;&#1077;
                &#1089; &#1087;&#1086;&#1084;&#1086;&#1097;&#1100;&#1102; &#1074;&#1099;&#1079;&#1086;&#1074;&#1072; <code class="methodname">dbContext.Refresh</code>, &#1072; &#1089; &#1087;&#1086;&#1084;&#1086;&#1097;&#1100;&#1102; &#1084;&#1077;&#1090;&#1086;&#1076;&#1072;
                    <code class="methodname">Load</code> &#1087;&#1088;&#1086;&#1077;&#1082;&#1094;&#1080;&#1080; <code class="classname">InvoiceView</code>. &#1044;&#1077;&#1083;&#1086;
                &#1074; &#1090;&#1086;&#1084;, &#1095;&#1090;&#1086; <code class="methodname">dbContext.Refresh</code> &#1087;&#1088;&#1077;&#1076;&#1085;&#1072;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085; &#1076;&#1083;&#1103; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103;
                &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1086;&#1074; &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1077;&#1081;, &#1072; &#1085;&#1077; &#1087;&#1088;&#1086;&#1080;&#1079;&#1074;&#1086;&#1083;&#1100;&#1085;&#1099;&#1093; &#1087;&#1088;&#1086;&#1077;&#1082;&#1094;&#1080;&#1081;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1077; &#1084;&#1086;&#1075;&#1091;&#1090; &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1090;&#1100;&#1089;&#1103; &#1089;&#1083;&#1086;&#1078;&#1085;&#1099;&#1084;&#1080;
                LINQ &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1072;&#1084;&#1080;.</p><p>&#1050;&#1086;&#1076; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1103; &#1085;&#1072; &#1085;&#1072;&#1078;&#1072;&#1090;&#1080;&#1077; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103; &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1080;&#1090; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1084;
                &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> btnEditInvoice_Click(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
    <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1077; &#1082;&#1086;&#1085;&#1090;&#1077;&#1082;&#1089;&#1090;&#1072;</em>
    var dbContext = AppVariables.getDbContext();
    <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1080;&#1089;&#1082; &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1080; &#1087;&#1086; &#1080;&#1076;&#1077;&#1085;&#1090;&#1080;&#1092;&#1080;&#1082;&#1072;&#1090;&#1086;&#1088;&#1091;</em>
    var invoice = dbContext.INVOICES.Find(<strong class="hl-keyword">this</strong>.CurrentInvoice.Id);

    <strong class="hl-keyword">if</strong> (invoice.PAYED == <span class="hl-number">1</span>) {
        MessageBox.Show(<em class="hl-string" style="color: #303052">"&#1048;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1077; &#1085;&#1077; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086;, &#1089;&#1095;&#1105;&#1090; &#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1072; &#1091;&#1078;&#1077; &#1086;&#1087;&#1083;&#1072;&#1095;&#1077;&#1085;&#1072;."</em>, <em class="hl-string" style="color: #303052">"&#1054;&#1096;&#1080;&#1073;&#1082;&#1072;"</em>);
        <strong class="hl-keyword">return</strong>;
    }

    <strong class="hl-keyword">using</strong> (InvoiceEditorForm editor = <strong class="hl-keyword">new</strong> InvoiceEditorForm()) {
        editor.Text = <em class="hl-string" style="color: #303052">"Edit invoice"</em>;
        editor.Invoice = invoice;
        <em class="hl-comment" style="color: #777777">// &#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1079;&#1072;&#1082;&#1088;&#1099;&#1090;&#1080;&#1103; &#1092;&#1086;&#1088;&#1084;&#1099;</em>
        editor.FormClosing += <strong class="hl-keyword">delegate</strong> (<strong class="hl-keyword">object</strong> fSender, FormClosingEventArgs fe) {
            <strong class="hl-keyword">if</strong> (editor.DialogResult == DialogResult.OK) {
                <strong class="hl-keyword">try</strong> {
                    <em class="hl-comment" style="color: #777777">// &#1087;&#1099;&#1090;&#1072;&#1077;&#1084;&#1089;&#1103; &#1089;&#1086;&#1093;&#1088;&#1072;&#1085;&#1080;&#1090;&#1100; &#1080;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1103;</em>
                    dbContext.SaveChanges();
                    <em class="hl-comment" style="color: #777777">// &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1078;&#1072;&#1077;&#1084; &#1087;&#1088;&#1086;&#1077;&#1082;&#1094;&#1080;&#1102;</em>
                    CurrentInvoice.Load(invoice.INVOICE_ID);
                    masterBinding.ResetCurrentItem();
                }
                <strong class="hl-keyword">catch</strong> (Exception ex) {
                    <em class="hl-comment" style="color: #777777">// &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1077;&#1084; &#1086;&#1096;&#1080;&#1073;&#1082;&#1091;</em>
                    MessageBox.Show(ex.Message, <em class="hl-string" style="color: #303052">"Error"</em>);
                    <em class="hl-comment" style="color: #777777">// &#1085;&#1077; &#1079;&#1072;&#1082;&#1088;&#1099;&#1074;&#1072;&#1077;&#1084; &#1092;&#1086;&#1088;&#1084;&#1091; &#1076;&#1083;&#1103; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1080; &#1080;&#1089;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1086;&#1096;&#1080;&#1073;&#1082;&#1080;</em>
                    fe.Cancel = <strong class="hl-keyword">true</strong>;
                }
            }
        };
        <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1082;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084; &#1084;&#1086;&#1076;&#1072;&#1083;&#1100;&#1085;&#1091;&#1102; &#1092;&#1086;&#1088;&#1084;&#1091;</em>
        editor.ShowDialog(<strong class="hl-keyword">this</strong>);
    }
}    

                </pre><p>
            </p><p>&#1047;&#1076;&#1077;&#1089;&#1100; &#1085;&#1072;&#1084; &#1087;&#1086;&#1090;&#1088;&#1077;&#1073;&#1086;&#1074;&#1072;&#1083;&#1086;&#1089;&#1100; &#1085;&#1072;&#1081;&#1090;&#1080; &#1089;&#1091;&#1097;&#1085;&#1086;&#1089;&#1090;&#1100; &#1087;&#1086; &#1077;&#1105; &#1080;&#1076;&#1077;&#1085;&#1090;&#1080;&#1092;&#1080;&#1082;&#1072;&#1090;&#1086;&#1088;&#1091; &#1076;&#1086;&#1089;&#1090;&#1091;&#1087;&#1085;&#1086;&#1084;&#1091; &#1074; &#1090;&#1077;&#1082;&#1091;&#1097;&#1077;&#1081;
                &#1079;&#1072;&#1087;&#1080;&#1089;&#1080;. &#1057;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1086; CurrentInvoice &#1087;&#1088;&#1077;&#1076;&#1085;&#1072;&#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1086; &#1076;&#1083;&#1103; &#1087;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1103; &#1074;&#1099;&#1076;&#1077;&#1083;&#1077;&#1085;&#1085;&#1086;&#1081; &#1074; &#1075;&#1088;&#1080;&#1076;&#1077;
                &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099;. &#1054;&#1085;&#1086; &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1086;&#1074;&#1072;&#1085;&#1086; &#1090;&#1072;&#1082;: </p><pre class="programlisting">
                        
<strong class="hl-keyword">public</strong> InvoiceView CurrentInvoice {
    <strong class="hl-keyword">get</strong> {
        <strong class="hl-keyword">return</strong> (InvoiceView)masterBinding.Current;
    }
}  

                </pre><p>
            </p><p>&#1059;&#1076;&#1072;&#1083;&#1077;&#1085;&#1080;&#1077; &#1096;&#1072;&#1087;&#1082;&#1080; &#1089;&#1095;&#1105;&#1090; &#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099; &#1074;&#1099; &#1084;&#1086;&#1078;&#1077;&#1090;&#1077; &#1089;&#1076;&#1077;&#1083;&#1072;&#1090;&#1100; &#1089;&#1072;&#1084;&#1086;&#1089;&#1090;&#1086;&#1103;&#1090;&#1077;&#1083;&#1100;&#1085;&#1086;.</p><p>&#1055;&#1086;&#1084;&#1080;&#1084;&#1086; &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103;, &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103; &#1080; &#1091;&#1076;&#1072;&#1083;&#1077;&#1085;&#1080;&#1103; &#1076;&#1083;&#1103; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088; &#1084;&#1099; &#1074;&#1074;&#1077;&#1083;&#1080; &#1077;&#1097;&#1105; &#1086;&#1076;&#1085;&#1091;
                &#1086;&#1087;&#1077;&#1088;&#1072;&#1094;&#1080;&#1102; &#1086;&#1087;&#1083;&#1072;&#1090;&#1099;, &#1082;&#1086;&#1076; &#1084;&#1077;&#1090;&#1086;&#1076;&#1072; &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1091;&#1102;&#1097;&#1077;&#1075;&#1086; &#1101;&#1090;&#1091; &#1086;&#1087;&#1077;&#1088;&#1072;&#1094;&#1080;&#1102; &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1080;&#1090; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;: </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> btnInvoicePay_Click(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
    var dbContext = AppVariables.getDbContext();
    var invoice = dbContext.INVOICES.Find(<strong class="hl-keyword">this</strong>.CurrentInvoice.Id);
    <strong class="hl-keyword">try</strong> {
        <strong class="hl-keyword">if</strong> (invoice.PAYED == <span class="hl-number">1</span>)
           <strong class="hl-keyword">throw</strong> <strong class="hl-keyword">new</strong> Exception(<em class="hl-string" style="color: #303052">"&#1048;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1077; &#1085;&#1077; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086;, &#1089;&#1095;&#1105;&#1090; &#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1072; &#1091;&#1078;&#1077; &#1086;&#1087;&#1083;&#1072;&#1095;&#1077;&#1085;&#1072;."</em>);

        invoice.PAYED = <span class="hl-number">1</span>;
        <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1093;&#1088;&#1072;&#1085;&#1103;&#1077;&#1084; &#1080;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1103;</em>
        dbContext.SaveChanges();
        <em class="hl-comment" style="color: #777777">// &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1078;&#1072;&#1077;&#1084; &#1080;&#1079;&#1084;&#1077;&#1085;&#1105;&#1085;&#1085;&#1091;&#1102; &#1079;&#1072;&#1087;&#1080;&#1089;&#1100;</em>
        CurrentInvoice.Load(invoice.INVOICE_ID);
        masterBinding.ResetCurrentItem();
    }
    <strong class="hl-keyword">catch</strong> (Exception ex) {
        <em class="hl-comment" style="color: #777777">// &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1077;&#1084; &#1086;&#1096;&#1080;&#1073;&#1082;&#1091;</em>
        MessageBox.Show(ex.Message, <em class="hl-string" style="color: #303052">"&#1054;&#1096;&#1080;&#1073;&#1082;&#1072;"</em>);
    }
} 

                </pre><p>
            </p><p>&#1044;&#1083;&#1103; &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1103; &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1081; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099; &#1089;&#1091;&#1097;&#1077;&#1089;&#1090;&#1074;&#1091;&#1077;&#1090; &#1076;&#1074;&#1072; &#1084;&#1077;&#1090;&#1086;&#1076;&#1072;:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>&#1055;&#1086;&#1083;&#1091;&#1095;&#1072;&#1090;&#1100; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077; &#1087;&#1086; &#1082;&#1072;&#1078;&#1076;&#1086;&#1081; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1077; &#1080;&#1079; &#1085;&#1072;&#1074;&#1080;&#1075;&#1072;&#1094;&#1080;&#1086;&#1085;&#1085;&#1086;&#1075;&#1086; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072;
                            INVOICE_LINE &#1080; &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1090;&#1100; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1084;&#1086;&#1077; &#1101;&#1090;&#1086;&#1075;&#1086; &#1089;&#1083;&#1086;&#1078;&#1085;&#1086;&#1075;&#1086; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072; (&#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086; &#1089;
                            &#1087;&#1088;&#1077;&#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103;&#1084;&#1080; LINQ ) &#1074; &#1076;&#1077;&#1090;&#1077;&#1081;&#1083; &#1075;&#1088;&#1080;&#1076;&#1077;.</p></li><li class="listitem"><p>&#1055;&#1086;&#1083;&#1091;&#1095;&#1072;&#1090;&#1100; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077; &#1087;&#1086; &#1082;&#1072;&#1078;&#1076;&#1086;&#1081; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1077; &#1086;&#1090;&#1076;&#1077;&#1083;&#1100;&#1085;&#1099;&#1084; LINQ &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1086;&#1084;,
                            &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1073;&#1091;&#1076;&#1077;&#1090; &#1087;&#1077;&#1088;&#1077;&#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1090;&#1100;&#1089;&#1103; &#1087;&#1088;&#1080; &#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1097;&#1077;&#1085;&#1080;&#1080; &#1074; &#1091;&#1082;&#1072;&#1079;&#1072;&#1090;&#1077;&#1083;&#1103; &#1074; &#1084;&#1072;&#1089;&#1090;&#1077;&#1088;
                            &#1075;&#1088;&#1080;&#1076;&#1077;.</p></li></ol></div><p> &#1050;&#1072;&#1078;&#1076;&#1099;&#1081; &#1080;&#1079; &#1084;&#1077;&#1090;&#1086;&#1076;&#1086;&#1074; &#1080;&#1084;&#1077;&#1077;&#1090; &#1089;&#1074;&#1086;&#1080; &#1087;&#1088;&#1077;&#1080;&#1084;&#1091;&#1097;&#1077;&#1089;&#1090;&#1074;&#1072; &#1080; &#1085;&#1077;&#1076;&#1086;&#1089;&#1090;&#1072;&#1090;&#1082;&#1080;. </p><p>&#1055;&#1077;&#1088;&#1074;&#1099;&#1081; &#1084;&#1077;&#1090;&#1086;&#1076; &#1087;&#1088;&#1077;&#1076;&#1087;&#1086;&#1083;&#1072;&#1075;&#1072;&#1077;&#1090;, &#1095;&#1090;&#1086; &#1087;&#1088;&#1080; &#1086;&#1090;&#1082;&#1088;&#1099;&#1090;&#1080;&#1080; &#1092;&#1086;&#1088;&#1084;&#1099; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099; &#1084;&#1099; &#1076;&#1086;&#1083;&#1078;&#1085;&#1099; &#1089;&#1088;&#1072;&#1079;&#1091;
                &#1080;&#1079;&#1074;&#1083;&#1077;&#1095;&#1100; &#1074;&#1089;&#1077; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099; &#1079;&#1072; &#1091;&#1082;&#1072;&#1079;&#1072;&#1085;&#1085;&#1099;&#1081; &#1087;&#1077;&#1088;&#1080;&#1086;&#1076; &#1080; &#1089;&#1074;&#1103;&#1079;&#1072;&#1085;&#1085;&#1099;&#1077; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077; &#1087;&#1086; &#1080;&#1093; &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1103;&#1084;. &#1069;&#1090;&#1086;
                &#1093;&#1086;&#1090;&#1100; &#1080; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1077;&#1090;&#1089;&#1103; &#1086;&#1076;&#1085;&#1080;&#1084; SQL &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1086;&#1084;, &#1085;&#1086; &#1084;&#1086;&#1078;&#1077;&#1090; &#1079;&#1072;&#1085;&#1103;&#1090;&#1100; &#1076;&#1086;&#1074;&#1086;&#1083;&#1100;&#1085;&#1086; &#1084;&#1085;&#1086;&#1075;&#1086; &#1074;&#1088;&#1077;&#1084;&#1077;&#1085;&#1080;, &#1080;
                &#1090;&#1088;&#1077;&#1073;&#1091;&#1077;&#1090; &#1079;&#1085;&#1072;&#1095;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1086;&#1075;&#1086; &#1086;&#1073;&#1098;&#1105;&#1084;&#1072; &#1086;&#1087;&#1077;&#1088;&#1072;&#1090;&#1080;&#1074;&#1085;&#1086;&#1081; &#1087;&#1072;&#1084;&#1103;&#1090;&#1080;. &#1069;&#1090;&#1086;&#1090; &#1084;&#1077;&#1090;&#1086;&#1076; &#1083;&#1091;&#1095;&#1096;&#1077; &#1087;&#1086;&#1076;&#1093;&#1086;&#1076;&#1080;&#1090; &#1076;&#1083;&#1103; WEB
                &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1081; &#1075;&#1076;&#1077; &#1074;&#1099;&#1074;&#1086;&#1076; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081; &#1086;&#1073;&#1099;&#1095;&#1085;&#1086; &#1087;&#1088;&#1086;&#1080;&#1089;&#1093;&#1086;&#1076;&#1080;&#1090; &#1087;&#1086;&#1089;&#1090;&#1088;&#1072;&#1085;&#1080;&#1095;&#1085;&#1086;.</p><p>&#1042;&#1090;&#1086;&#1088;&#1086;&#1081; &#1084;&#1077;&#1090;&#1086;&#1076; &#1085;&#1077;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1086; &#1073;&#1086;&#1083;&#1077;&#1077; &#1089;&#1083;&#1086;&#1078;&#1077;&#1085; &#1074; &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1072;&#1094;&#1080;&#1080;, &#1085;&#1086; &#1087;&#1086;&#1079;&#1074;&#1086;&#1083;&#1103;&#1077;&#1090; &#1073;&#1099;&#1089;&#1090;&#1088;&#1086; &#1086;&#1090;&#1082;&#1088;&#1099;&#1074;&#1072;&#1090;&#1100;
                &#1092;&#1086;&#1088;&#1084;&#1091; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099; &#1080; &#1084;&#1077;&#1085;&#1077;&#1077; &#1090;&#1088;&#1077;&#1073;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1077;&#1085; &#1082; &#1088;&#1077;&#1089;&#1091;&#1088;&#1089;&#1072;&#1084;, &#1086;&#1076;&#1085;&#1072;&#1082;&#1086; &#1087;&#1088;&#1080; &#1082;&#1072;&#1078;&#1076;&#1086;&#1084; &#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1097;&#1077;&#1085;&#1080;&#1080;
                &#1091;&#1082;&#1072;&#1079;&#1072;&#1090;&#1077;&#1083;&#1103; &#1074; &#1084;&#1072;&#1089;&#1090;&#1077;&#1088; &#1075;&#1088;&#1080;&#1076;&#1077; &#1073;&#1091;&#1076;&#1077;&#1090; &#1087;&#1077;&#1088;&#1077;&#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1090;&#1100;&#1089;&#1103; SQL &#1079;&#1072;&#1087;&#1088;&#1086;&#1089; &#1080; &#1079;&#1072;&#1075;&#1088;&#1091;&#1078;&#1072;&#1090;&#1100; &#1089;&#1077;&#1090;&#1077;&#1074;&#1086;&#1081; &#1090;&#1088;&#1072;&#1092;&#1080;&#1082;
                (&#1093;&#1086;&#1090;&#1103; &#1086;&#1073;&#1098;&#1105;&#1084; &#1073;&#1091;&#1076;&#1077;&#1090; &#1085;&#1077;&#1074;&#1077;&#1083;&#1080;&#1082;).</p><p>&#1042; &#1085;&#1072;&#1096;&#1077;&#1084; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1080; &#1103; &#1073;&#1091;&#1076;&#1091; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1074;&#1090;&#1086;&#1088;&#1086;&#1081; &#1087;&#1086;&#1076;&#1093;&#1086;&#1076;. &#1044;&#1083;&#1103; &#1101;&#1090;&#1086;&#1075;&#1086; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086;
                &#1085;&#1072;&#1087;&#1080;&#1089;&#1072;&#1090;&#1100; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1103; &#1080;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1103; &#1090;&#1077;&#1082;&#1091;&#1097;&#1077;&#1081; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1076;&#1083;&#1103; &#1082;&#1086;&#1084;&#1087;&#1086;&#1085;&#1077;&#1085;&#1090;&#1072;
                    <code class="classname">BindingSource</code>. </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> masterBinding_CurrentChanged(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
   LoadInvoiceLineData(<strong class="hl-keyword">this</strong>.CurrentInvoice.Id);
   detailGridView.DataSource = detailBinding;
} 

                </pre><p>
            </p><p>&#1052;&#1077;&#1090;&#1086;&#1076; &#1076;&#1083;&#1103; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1080; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1086; &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1103;&#1093; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099; &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1080;&#1090; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;: </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> LoadInvoiceLineData(<strong class="hl-keyword">int</strong>? id) {
    var dbContext = AppVariables.getDbContext();

    var lines =
        <strong class="hl-keyword">from</strong> line <strong class="hl-keyword">in</strong> dbContext.INVOICE_LINES
        <strong class="hl-keyword">where</strong> line.INVOICE_ID == id
        <strong class="hl-keyword">select</strong> <strong class="hl-keyword">new</strong> InvoiceLineView
        {
            Id = line.INVOICE_LINE_ID,
            Invoice_Id = line.INVOICE_ID,
            Product_Id = line.PRODUCT_ID,
            Product = line.PRODUCT.NAME,
            Quantity = line.QUANTITY,
            Price = line.SALE_PRICE,
            Total = Math.Round(line.QUANTITY * line.SALE_PRICE, <span class="hl-number">2</span>)
        };

    detailBinding.DataSource = lines.ToBindingList();
}

                </pre><p>
            </p><p>&#1042; &#1082;&#1072;&#1095;&#1077;&#1089;&#1090;&#1074;&#1077; &#1087;&#1088;&#1086;&#1077;&#1082;&#1094;&#1080;&#1080; &#1084;&#1099; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1083;&#1080; &#1082;&#1083;&#1072;&#1089;&#1089; <code class="classname">InvoiceLineView</code>. </p><pre class="programlisting">
                        
<strong class="hl-keyword">public</strong> <strong class="hl-keyword">class</strong> InvoiceLineView {
   <strong class="hl-keyword">public</strong> <strong class="hl-keyword">int</strong> Id { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
   <strong class="hl-keyword">public</strong> <strong class="hl-keyword">int</strong> Invoice_Id { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
   <strong class="hl-keyword">public</strong> <strong class="hl-keyword">int</strong> Product_Id { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
   <strong class="hl-keyword">public</strong> <strong class="hl-keyword">string</strong> Product { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
   <strong class="hl-keyword">public</strong> <strong class="hl-keyword">decimal</strong> Quantity { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
   <strong class="hl-keyword">public</strong> <strong class="hl-keyword">decimal</strong> Price { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
   <strong class="hl-keyword">public</strong> <strong class="hl-keyword">decimal</strong> Total { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }
}

                </pre><p>
            </p><p>&#1047;&#1072;&#1084;&#1077;&#1095;&#1091;, &#1095;&#1090;&#1086; &#1074; &#1086;&#1090;&#1083;&#1080;&#1095;&#1080;&#1077; &#1086;&#1090; &#1082;&#1083;&#1072;&#1089;&#1089;&#1072; <code class="classname">InvoiceView</code> &#1079;&#1076;&#1077;&#1089;&#1100;
                &#1086;&#1090;&#1089;&#1091;&#1090;&#1089;&#1090;&#1074;&#1091;&#1077;&#1090; &#1084;&#1077;&#1090;&#1086;&#1076; &#1076;&#1083;&#1103; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1080; &#1086;&#1076;&#1085;&#1086;&#1081; &#1090;&#1077;&#1082;&#1091;&#1097;&#1077;&#1081; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080;. &#1047;&#1076;&#1077;&#1089;&#1100; &#1089;&#1082;&#1086;&#1088;&#1086;&#1089;&#1090;&#1100; &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1080;
                &#1076;&#1077;&#1090;&#1077;&#1081;&#1083; &#1075;&#1088;&#1080;&#1076;&#1072; &#1085;&#1077; &#1085;&#1072;&#1089;&#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1082;&#1088;&#1080;&#1090;&#1080;&#1095;&#1085;&#1072;, &#1087;&#1086;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1091; &#1086;&#1076;&#1080;&#1085; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090; &#1085;&#1077; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1090; &#1090;&#1099;&#1089;&#1103;&#1095;&#1080;
                &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1081;, &#1086;&#1076;&#1085;&#1072;&#1082;&#1086; &#1087;&#1088;&#1080; &#1078;&#1077;&#1083;&#1072;&#1085;&#1080;&#1080; &#1074;&#1099; &#1084;&#1086;&#1078;&#1077;&#1090;&#1077; &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1090;&#1072;&#1082;&#1086;&#1081; &#1084;&#1077;&#1090;&#1086;&#1076;. </p><p>&#1044;&#1086;&#1073;&#1072;&#1074;&#1080;&#1084; &#1089;&#1087;&#1077;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1086;&#1077; &#1089;&#1074;&#1086;&#1081;&#1089;&#1090;&#1074;&#1086; &#1076;&#1083;&#1103; &#1087;&#1086;&#1083;&#1091;&#1095;&#1077;&#1085;&#1080;&#1103; &#1090;&#1077;&#1082;&#1091;&#1097;&#1077;&#1081; &#1089;&#1090;&#1088;&#1086;&#1082;&#1080; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072; &#1074;&#1099;&#1076;&#1077;&#1083;&#1077;&#1085;&#1085;&#1086;&#1081; &#1074;
                &#1076;&#1077;&#1090;&#1077;&#1081;&#1083; &#1075;&#1088;&#1080;&#1076;&#1077;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">public</strong> InvoiceLineView CurrentInvoiceLine {
    <strong class="hl-keyword">get</strong> {
        <strong class="hl-keyword">return</strong> (InvoiceLineView)detailBinding.Current;
    }
}

                </pre><p>
            </p><p>&#1042; &#1084;&#1077;&#1090;&#1086;&#1076;&#1072;&#1093; &#1076;&#1083;&#1103; &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103;, &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103; &#1080; &#1091;&#1076;&#1072;&#1083;&#1077;&#1085;&#1080;&#1103; &#1084;&#1099; &#1087;&#1086;&#1082;&#1072;&#1078;&#1077;&#1084;, &#1082;&#1072;&#1082; &#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1090;&#1100; &#1089;
                &#1093;&#1088;&#1072;&#1085;&#1080;&#1084;&#1099;&#1084;&#1080; &#1087;&#1088;&#1086;&#1094;&#1077;&#1076;&#1091;&#1088;&#1072;&#1084;&#1080; &#1074; Entity Framework. &#1053;&#1072;&#1087;&#1088;&#1080;&#1084;&#1077;&#1088;, &#1084;&#1077;&#1090;&#1086;&#1076; &#1076;&#1083;&#1103; &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1085;&#1086;&#1074;&#1086;&#1081;
                &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1080;&#1090; &#1090;&#1072;&#1082;: </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> btnAddInvoiceLine_Click(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
    var dbContext = AppVariables.getDbContext();
    <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1084; &#1090;&#1077;&#1082;&#1091;&#1097;&#1091;&#1102; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1091;</em>
    var invoice = dbContext.INVOICES.Find(<strong class="hl-keyword">this</strong>.CurrentInvoice.Id);
    <em class="hl-comment" style="color: #777777">// &#1087;&#1088;&#1086;&#1074;&#1077;&#1088;&#1103;&#1077;&#1084; &#1085;&#1077; &#1086;&#1087;&#1083;&#1072;&#1095;&#1077;&#1085;&#1072; &#1083;&#1080; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1072;</em>
    <strong class="hl-keyword">if</strong> (invoice.PAYED == <span class="hl-number">1</span>) {
        MessageBox.Show(<em class="hl-string" style="color: #303052">"&#1053;&#1077;&#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086; &#1080;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1077;, &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1072; &#1086;&#1087;&#1083;&#1072;&#1095;&#1077;&#1085;&#1072;."</em>, <em class="hl-string" style="color: #303052">"Error"</em>);
        <strong class="hl-keyword">return</strong>;
    }
    <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1084; &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1102; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099;</em>
    var invoiceLine = dbContext.INVOICE_LINES.Create();
    invoiceLine.INVOICE_ID = invoice.INVOICE_ID;
    <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1084; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1086;&#1088; &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1080; &#1089;&#1095;&#1105;&#1090; &#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099;</em>
    <strong class="hl-keyword">using</strong> (InvoiceLineEditorForm editor = <strong class="hl-keyword">new</strong> InvoiceLineEditorForm()) {
        editor.Text = <em class="hl-string" style="color: #303052">"Add invoice line"</em>;
        editor.InvoiceLine = invoiceLine;
        <em class="hl-comment" style="color: #777777">// &#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1079;&#1072;&#1082;&#1088;&#1099;&#1090;&#1080;&#1103; &#1092;&#1086;&#1088;&#1084;&#1099;</em>
        editor.FormClosing += <strong class="hl-keyword">delegate</strong> (<strong class="hl-keyword">object</strong> fSender, FormClosingEventArgs fe) {
            <strong class="hl-keyword">if</strong> (editor.DialogResult == DialogResult.OK) {
              <strong class="hl-keyword">try</strong> {
                 <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1084; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1061;&#1055;</em>
                 var invoiceIdParam = <strong class="hl-keyword">new</strong> FbParameter(<em class="hl-string" style="color: #303052">"INVOICE_ID"</em>, FbDbType.Integer);
                 var productIdParam = <strong class="hl-keyword">new</strong> FbParameter(<em class="hl-string" style="color: #303052">"PRODUCT_ID"</em>, FbDbType.Integer);
                 var quantityParam = <strong class="hl-keyword">new</strong> FbParameter(<em class="hl-string" style="color: #303052">"QUANTITY"</em>, FbDbType.Integer);
                 <em class="hl-comment" style="color: #777777">// &#1080;&#1085;&#1080;&#1094;&#1080;&#1072;&#1083;&#1080;&#1079;&#1080;&#1088;&#1091;&#1077;&#1084; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1103;&#1084;&#1080;</em>
                 invoiceIdParam.Value = invoiceLine.INVOICE_ID;
                 productIdParam.Value = invoiceLine.PRODUCT_ID;
                 quantityParam.Value = invoiceLine.QUANTITY;
                 <em class="hl-comment" style="color: #777777">// &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1077;&#1084; &#1093;&#1088;&#1072;&#1085;&#1080;&#1084;&#1091;&#1102; &#1087;&#1088;&#1086;&#1094;&#1077;&#1076;&#1091;&#1088;&#1091;</em>
                 dbContext.Database.ExecuteSqlCommand(
                   <em class="hl-string" style="color: #303052">"EXECUTE PROCEDURE SP_ADD_INVOICE_LINE("</em>
                        + <em class="hl-string" style="color: #303052">"@INVOICE_ID, @PRODUCT_ID, @QUANTITY)"</em>, 
                   invoiceIdParam, 
                   productIdParam, 
                   quantityParam);
                 <em class="hl-comment" style="color: #777777">// &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1103;&#1077;&#1084; &#1075;&#1088;&#1080;&#1076;&#1099;</em>
                 <em class="hl-comment" style="color: #777777">// &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1072; &#1090;&#1077;&#1082;&#1091;&#1097;&#1077;&#1081; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099;</em>
                 CurrentInvoice.Load(invoice.INVOICE_ID);
                 <em class="hl-comment" style="color: #777777">// &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1072; &#1074;&#1089;&#1077;&#1093; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081; &#1076;&#1077;&#1090;&#1077;&#1081;&#1083; &#1075;&#1088;&#1080;&#1076;&#1072;</em>
                 LoadInvoiceLineData(invoice.INVOICE_ID);
                 <em class="hl-comment" style="color: #777777">// &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1103;&#1077;&#1084; &#1089;&#1074;&#1103;&#1079;&#1072;&#1085;&#1085;&#1099;&#1077; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077;</em>
                 masterBinding.ResetCurrentItem();
              }
              <strong class="hl-keyword">catch</strong> (Exception ex) {
                 <em class="hl-comment" style="color: #777777">// &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1077;&#1084; &#1086;&#1096;&#1080;&#1073;&#1082;&#1091;</em>
                 MessageBox.Show(ex.Message, <em class="hl-string" style="color: #303052">"Error"</em>);
                 <em class="hl-comment" style="color: #777777">// &#1085;&#1077; &#1079;&#1072;&#1082;&#1088;&#1099;&#1074;&#1072;&#1077;&#1084; &#1092;&#1086;&#1088;&#1084;&#1091; &#1076;&#1083;&#1103; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1080; &#1080;&#1089;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1086;&#1096;&#1080;&#1073;&#1082;&#1080;</em>
                 fe.Cancel = <strong class="hl-keyword">true</strong>;
              }
            }
        };
        <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1082;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084; &#1084;&#1086;&#1076;&#1072;&#1083;&#1100;&#1085;&#1091;&#1102; &#1092;&#1086;&#1088;&#1084;&#1091;</em>
        editor.ShowDialog(<strong class="hl-keyword">this</strong>);
    }
}

                </pre><p>
            </p><p>&#1047;&#1076;&#1077;&#1089;&#1100; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1084;&#1072;&#1089;&#1090;&#1077;&#1088; &#1075;&#1088;&#1080;&#1076;&#1072; &#1090;&#1088;&#1077;&#1073;&#1091;&#1077;&#1090;&#1089;&#1103; &#1087;&#1086;&#1090;&#1086;&#1084;&#1091;, &#1095;&#1090;&#1086; &#1086;&#1076;&#1085;&#1086; &#1080;&#1079; &#1077;&#1075;&#1086; &#1087;&#1086;&#1083;&#1077;&#1081;
                (TotalSale) &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1090; &#1072;&#1075;&#1088;&#1077;&#1075;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1085;&#1091;&#1102; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1102; &#1087;&#1086; &#1089;&#1090;&#1088;&#1086;&#1082;&#1072;&#1084; &#1076;&#1086;&#1082;&#1091;&#1084;&#1077;&#1085;&#1090;&#1072;.</p><p>&#1052;&#1077;&#1090;&#1086;&#1076; &#1076;&#1083;&#1103; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1086;&#1074;&#1072;&#1085; &#1090;&#1072;&#1082;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> btnEditInvoiceLine_Click(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
    var dbContext = AppVariables.getDbContext();
    <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1084; &#1090;&#1077;&#1082;&#1091;&#1097;&#1091;&#1102; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1091;</em>
    var invoice = dbContext.INVOICES.Find(<strong class="hl-keyword">this</strong>.CurrentInvoice.Id);
    <em class="hl-comment" style="color: #777777">// &#1087;&#1088;&#1086;&#1074;&#1077;&#1088;&#1103;&#1077;&#1084; &#1085;&#1077; &#1086;&#1087;&#1083;&#1072;&#1095;&#1077;&#1085;&#1072; &#1083;&#1080; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1072;</em>
    <strong class="hl-keyword">if</strong> (invoice.PAYED == <span class="hl-number">1</span>) {
        MessageBox.Show(<em class="hl-string" style="color: #303052">"&#1048;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1077; &#1085;&#1077; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086;, &#1089;&#1095;&#1105;&#1090; &#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1072; &#1086;&#1087;&#1083;&#1072;&#1095;&#1077;&#1085;&#1072;."</em>, <em class="hl-string" style="color: #303052">"Error"</em>);
        <strong class="hl-keyword">return</strong>;
    }
    <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1084; &#1090;&#1077;&#1082;&#1091;&#1097;&#1091;&#1102; &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1102; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099;</em>
    var invoiceLine = invoice.INVOICE_LINES
        .Where(p =&gt; p.INVOICE_LINE_ID == <strong class="hl-keyword">this</strong>.CurrentInvoiceLine.Id)
        .First();
    <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1084; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1086;&#1088; &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1080; &#1089;&#1095;&#1105;&#1090; &#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099;</em>
    <strong class="hl-keyword">using</strong> (InvoiceLineEditorForm editor = <strong class="hl-keyword">new</strong> InvoiceLineEditorForm()) {
        editor.Text = <em class="hl-string" style="color: #303052">"Edit invoice line"</em>;
        editor.InvoiceLine = invoiceLine;

        <em class="hl-comment" style="color: #777777">// &#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1079;&#1072;&#1082;&#1088;&#1099;&#1090;&#1080;&#1103; &#1092;&#1086;&#1088;&#1084;&#1099;</em>
        editor.FormClosing += <strong class="hl-keyword">delegate</strong> (<strong class="hl-keyword">object</strong> fSender, FormClosingEventArgs fe) {
           <strong class="hl-keyword">if</strong> (editor.DialogResult == DialogResult.OK) {
               <strong class="hl-keyword">try</strong> {
                   <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1084; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1061;&#1055;</em>
                   var idParam = <strong class="hl-keyword">new</strong> FbParameter(<em class="hl-string" style="color: #303052">"INVOICE_LINE_ID"</em>, FbDbType.Integer);
                   var quantityParam = <strong class="hl-keyword">new</strong> FbParameter(<em class="hl-string" style="color: #303052">"QUANTITY"</em>, FbDbType.Integer);
                   <em class="hl-comment" style="color: #777777">// &#1080;&#1085;&#1080;&#1094;&#1080;&#1072;&#1083;&#1080;&#1079;&#1080;&#1088;&#1091;&#1077;&#1084; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1103;&#1084;&#1080;</em>
                   idParam.Value = invoiceLine.INVOICE_LINE_ID;
                   quantityParam.Value = invoiceLine.QUANTITY;
                   <em class="hl-comment" style="color: #777777">// &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1077;&#1084; &#1093;&#1088;&#1072;&#1085;&#1080;&#1084;&#1091;&#1102; &#1087;&#1088;&#1086;&#1094;&#1077;&#1076;&#1091;&#1088;&#1091;</em>
                   dbContext.Database.ExecuteSqlCommand(
                      <em class="hl-string" style="color: #303052">"EXECUTE PROCEDURE SP_EDIT_INVOICE_LINE("</em>
                         + <em class="hl-string" style="color: #303052">"@INVOICE_LINE_ID, @QUANTITY)"</em>, 
                      idParam, 
                      quantityParam);
                   <em class="hl-comment" style="color: #777777">// &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1103;&#1077;&#1084; &#1075;&#1088;&#1080;&#1076;&#1099;</em>
                   <em class="hl-comment" style="color: #777777">// &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1072; &#1090;&#1077;&#1082;&#1091;&#1097;&#1077;&#1081; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099;</em>
                   CurrentInvoice.Load(invoice.INVOICE_ID);
                   <em class="hl-comment" style="color: #777777">// &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1072; &#1074;&#1089;&#1077;&#1093; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081; &#1076;&#1077;&#1090;&#1077;&#1081;&#1083; &#1075;&#1088;&#1080;&#1076;&#1072;</em>
                   LoadInvoiceLineData(invoice.INVOICE_ID);
                   <em class="hl-comment" style="color: #777777">// &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1103;&#1077;&#1084; &#1089;&#1074;&#1103;&#1079;&#1072;&#1085;&#1085;&#1099;&#1077; &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1099;</em>
                   masterBinding.ResetCurrentItem();
               }
               <strong class="hl-keyword">catch</strong> (Exception ex) {
                   <em class="hl-comment" style="color: #777777">// &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1077;&#1084; &#1086;&#1096;&#1080;&#1073;&#1082;&#1091;</em>
                   MessageBox.Show(ex.Message, <em class="hl-string" style="color: #303052">"Error"</em>);
                   <em class="hl-comment" style="color: #777777">// &#1085;&#1077; &#1079;&#1072;&#1082;&#1088;&#1099;&#1074;&#1072;&#1077;&#1084; &#1092;&#1086;&#1088;&#1084;&#1091; &#1076;&#1083;&#1103; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086;&#1089;&#1090;&#1080; &#1080;&#1089;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1086;&#1096;&#1080;&#1073;&#1082;&#1080;</em>
                   fe.Cancel = <strong class="hl-keyword">true</strong>;
               }
           }
       };

       <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1082;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084; &#1084;&#1086;&#1076;&#1072;&#1083;&#1100;&#1085;&#1091;&#1102; &#1092;&#1086;&#1088;&#1084;&#1091;</em>
       editor.ShowDialog(<strong class="hl-keyword">this</strong>);
    }
}

                </pre><p>
            </p><p>&#1052;&#1077;&#1090;&#1086;&#1076; &#1076;&#1083;&#1103; &#1091;&#1076;&#1072;&#1083;&#1077;&#1085;&#1080;&#1103; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1086;&#1074;&#1072;&#1085; &#1090;&#1072;&#1082;. </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> btnDeleteInvoiceLine_Click(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
    var result = MessageBox.Show(
                <em class="hl-string" style="color: #303052">"&#1042;&#1099; &#1076;&#1077;&#1081;&#1089;&#1090;&#1074;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1086; &#1093;&#1086;&#1090;&#1080;&#1090;&#1077; &#1091;&#1076;&#1072;&#1083;&#1080;&#1090;&#1100; &#1089;&#1090;&#1088;&#1086;&#1082;&#1091; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099;?"</em>,
                <em class="hl-string" style="color: #303052">"&#1055;&#1086;&#1076;&#1090;&#1074;&#1077;&#1088;&#1078;&#1076;&#1077;&#1085;&#1080;&#1077;"</em>,
                MessageBoxButtons.YesNo,
                MessageBoxIcon.Question);
    <strong class="hl-keyword">if</strong> (result == DialogResult.Yes) {
       var dbContext = AppVariables.getDbContext();
       <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1084; &#1090;&#1077;&#1082;&#1091;&#1097;&#1091;&#1102; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1091;</em>
       var invoice = dbContext.INVOICES.Find(<strong class="hl-keyword">this</strong>.CurrentInvoice.Id);
       <strong class="hl-keyword">try</strong> {
           <em class="hl-comment" style="color: #777777">// &#1087;&#1088;&#1086;&#1074;&#1077;&#1088;&#1103;&#1077;&#1084; &#1085;&#1077; &#1086;&#1087;&#1083;&#1072;&#1095;&#1077;&#1085;&#1072; &#1083;&#1080; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1072;</em>
           <strong class="hl-keyword">if</strong> (invoice.PAYED == <span class="hl-number">1</span>)
              <strong class="hl-keyword">throw</strong> <strong class="hl-keyword">new</strong> Exception(<em class="hl-string" style="color: #303052">"&#1053;&#1077; &#1074;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086; &#1091;&#1076;&#1072;&#1083;&#1080;&#1090;&#1100; &#1079;&#1072;&#1087;&#1080;&#1089;&#1100;, &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1072; &#1086;&#1087;&#1083;&#1072;&#1095;&#1077;&#1085;&#1072;."</em>);
           <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1084; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1061;&#1055;</em>
           var idParam = <strong class="hl-keyword">new</strong> FbParameter(<em class="hl-string" style="color: #303052">"INVOICE_LINE_ID"</em>, FbDbType.Integer);
           <em class="hl-comment" style="color: #777777">// &#1080;&#1085;&#1080;&#1094;&#1080;&#1072;&#1083;&#1080;&#1079;&#1080;&#1088;&#1091;&#1077;&#1084; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1103;&#1084;&#1080;</em>
           idParam.Value = <strong class="hl-keyword">this</strong>.CurrentInvoiceLine.Id;
           <em class="hl-comment" style="color: #777777">// &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1077;&#1084; &#1093;&#1088;&#1072;&#1085;&#1080;&#1084;&#1091;&#1102; &#1087;&#1088;&#1086;&#1094;&#1077;&#1076;&#1091;&#1088;&#1091;</em>
           dbContext.Database.ExecuteSqlCommand(
              <em class="hl-string" style="color: #303052">"EXECUTE PROCEDURE SP_DELETE_INVOICE_LINE(@INVOICE_LINE_ID)"</em>, 
              idParam);

           <em class="hl-comment" style="color: #777777">// &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1103;&#1077;&#1084; &#1075;&#1088;&#1080;&#1076;&#1099;</em>
           <em class="hl-comment" style="color: #777777">// &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1072; &#1090;&#1077;&#1082;&#1091;&#1097;&#1077;&#1081; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099;</em>
           CurrentInvoice.Load(invoice.INVOICE_ID);
           <em class="hl-comment" style="color: #777777">// &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1072; &#1074;&#1089;&#1077;&#1093; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081; &#1076;&#1077;&#1090;&#1077;&#1081;&#1083; &#1075;&#1088;&#1080;&#1076;&#1072;</em>
           LoadInvoiceLineData(invoice.INVOICE_ID);
           <em class="hl-comment" style="color: #777777">// &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1103;&#1077;&#1084; &#1089;&#1074;&#1103;&#1079;&#1072;&#1085;&#1085;&#1099;&#1077; &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1099;</em>
           masterBinding.ResetCurrentItem();
       }
       <strong class="hl-keyword">catch</strong> (Exception ex) {
           <em class="hl-comment" style="color: #777777">// &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1072;&#1077;&#1084; &#1086;&#1096;&#1080;&#1073;&#1082;&#1091;</em>
           MessageBox.Show(ex.Message, <em class="hl-string" style="color: #303052">"Error"</em>);
       }
    }
}

                </pre><p>
            </p><p>&#1042; &#1084;&#1077;&#1090;&#1086;&#1076;&#1072;&#1093; &#1076;&#1083;&#1103; &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1080; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103; &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1081; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;&#1099; &#1084;&#1099; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1083;&#1080;
                &#1092;&#1086;&#1088;&#1084;&#1091; &#1076;&#1083;&#1103; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103;. </p><div class="figure"><a name="d5e438"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.18. &#1060;&#1086;&#1088;&#1084;&#1072; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1086;&#1088;&#1072; &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1081; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;</b></p><div class="figure-contents"><div class="mediaobject"><img src="../../images/dotnet-invoiceline-editor-form.png" alt="&#1060;&#1086;&#1088;&#1084;&#1072; &#1088;&#1077;&#1076;&#1072;&#1082;&#1090;&#1086;&#1088;&#1072; &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1081; &#1089;&#1095;&#1105;&#1090;-&#1092;&#1072;&#1082;&#1090;&#1091;&#1088;."></div></div></div><p><br class="figure-break">
            </p><p>&#1044;&#1083;&#1103; &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1103; &#1090;&#1086;&#1074;&#1072;&#1088;&#1072; &#1084;&#1099; &#1073;&#1091;&#1076;&#1077;&#1084; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; <code class="classname">TextBox</code>. &#1055;&#1086;
                &#1085;&#1072;&#1078;&#1072;&#1090;&#1080;&#1102; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080;, &#1088;&#1072;&#1089;&#1087;&#1086;&#1083;&#1086;&#1078;&#1077;&#1085;&#1085;&#1086;&#1081; &#1088;&#1103;&#1076;&#1086;&#1084;, &#1073;&#1091;&#1076;&#1077;&#1090; &#1074;&#1099;&#1079;&#1099;&#1074;&#1072;&#1090;&#1100;&#1089;&#1103; &#1084;&#1086;&#1076;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1092;&#1086;&#1088;&#1084;&#1072; &#1089; &#1075;&#1088;&#1080;&#1076;&#1086;&#1084; &#1076;&#1083;&#1103;
                &#1074;&#1099;&#1073;&#1086;&#1088;&#1072; &#1090;&#1086;&#1074;&#1072;&#1088;&#1072;. &#1042; &#1082;&#1072;&#1095;&#1077;&#1089;&#1090;&#1074;&#1077; &#1084;&#1086;&#1076;&#1072;&#1083;&#1100;&#1085;&#1086;&#1081; &#1086;&#1082;&#1085;&#1072; &#1076;&#1083;&#1103; &#1074;&#1099;&#1073;&#1086;&#1088;&#1072; &#1087;&#1088;&#1086;&#1076;&#1091;&#1082;&#1090;&#1072; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1077;&#1084; &#1090;&#1091; &#1078;&#1077; &#1092;&#1086;&#1088;&#1084;&#1091;,
                &#1095;&#1090;&#1086; &#1073;&#1099;&#1083;&#1072; &#1089;&#1086;&#1079;&#1076;&#1072;&#1085;&#1072; &#1076;&#1083;&#1103; &#1080;&#1093; &#1086;&#1090;&#1086;&#1073;&#1088;&#1072;&#1078;&#1077;&#1085;&#1080;&#1103;. &#1050;&#1086;&#1076; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1085;&#1072;&#1078;&#1072;&#1090;&#1080;&#1103; &#1082;&#1085;&#1086;&#1087;&#1082;&#1080; &#1080; &#1080;&#1085;&#1080;&#1094;&#1080;&#1072;&#1083;&#1080;&#1079;&#1072;&#1094;&#1080;&#1080;
                &#1092;&#1086;&#1088;&#1084;&#1099; &#1073;&#1091;&#1076;&#1077;&#1090; &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1077;&#1090;&#1100; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;: </p><pre class="programlisting">
                        
<strong class="hl-keyword">public</strong> <strong class="hl-keyword">partial</strong> <strong class="hl-keyword">class</strong> InvoiceLineEditorForm : Form {
    <strong class="hl-keyword">public</strong> InvoiceLineEditorForm() {
        InitializeComponent();
    }


    <strong class="hl-keyword">public</strong> INVOICE_LINE InvoiceLine { <strong class="hl-keyword">get</strong>; <strong class="hl-keyword">set</strong>; }

    <strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> InvoiceLineEditorForm_Load(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
        <strong class="hl-keyword">if</strong> (<strong class="hl-keyword">this</strong>.InvoiceLine.PRODUCT != <strong class="hl-keyword">null</strong>) {
           edtProduct.Text = <strong class="hl-keyword">this</strong>.InvoiceLine.PRODUCT.NAME;
           edtPrice.Text = <strong class="hl-keyword">this</strong>.InvoiceLine.PRODUCT.PRICE.ToString(<em class="hl-string" style="color: #303052">"F2"</em>);
           btnChooseProduct.Click -= <strong class="hl-keyword">this</strong>.btnChooseProduct_Click;
        }
        <strong class="hl-keyword">if</strong> (<strong class="hl-keyword">this</strong>.InvoiceLine.QUANTITY == <span class="hl-number">0</span>)
           <strong class="hl-keyword">this</strong>.InvoiceLine.QUANTITY = <span class="hl-number">1</span>;
        edtQuantity.DataBindings.Add(<em class="hl-string" style="color: #303052">"Value"</em>, <strong class="hl-keyword">this</strong>.InvoiceLine, <em class="hl-string" style="color: #303052">"QUANTITY"</em>);
    }

    <strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> btnChooseProduct_Click(<strong class="hl-keyword">object</strong> sender, EventArgs e) {
       GoodsForm goodsForm = <strong class="hl-keyword">new</strong> GoodsForm();
       <strong class="hl-keyword">if</strong> (goodsForm.ShowDialog() == DialogResult.OK) {
          InvoiceLine.PRODUCT_ID = goodsForm.CurrentProduct.Id;
          edtProduct.Text = goodsForm.CurrentProduct.Name;
          edtPrice.Text = goodsForm.CurrentProduct.Price.ToString(<em class="hl-string" style="color: #303052">"F2"</em>);
       }
   }
}

                </pre><p>
            </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d5e448"></a>&#1056;&#1072;&#1073;&#1086;&#1090;&#1072; &#1089; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1103;&#1084;&#1080;</h3></div></div></div><p>&#1050;&#1086;&#1075;&#1076;&#1072; &#1084;&#1099; &#1074;&#1099;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084; &#1087;&#1088;&#1080; &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1080;, &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1080;, &#1091;&#1076;&#1072;&#1083;&#1077;&#1085;&#1080;&#1080; &#1084;&#1077;&#1090;&#1086;&#1076;
                    <code class="methodname">SaveChanges()</code>, &#1090;&#1086; &#1092;&#1072;&#1082;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1080; Entity Framework &#1085;&#1077;&#1103;&#1074;&#1085;&#1086;
                &#1089;&#1090;&#1072;&#1088;&#1090;&#1091;&#1077;&#1090; &#1080; &#1079;&#1072;&#1074;&#1077;&#1088;&#1096;&#1072;&#1077;&#1090; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1102;. &#1055;&#1086;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1091; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1077;&#1090;&#1089;&#1103; &#1086;&#1090;&#1089;&#1086;&#1077;&#1076;&#1080;&#1085;&#1105;&#1085;&#1085;&#1072;&#1103; &#1084;&#1086;&#1076;&#1077;&#1083;&#1100;, &#1090;&#1086; &#1074;&#1089;&#1077;
                &#1086;&#1087;&#1077;&#1088;&#1072;&#1094;&#1080;&#1080; &#1087;&#1088;&#1086;&#1080;&#1089;&#1093;&#1086;&#1076;&#1103;&#1090; &#1074; &#1088;&#1072;&#1084;&#1082;&#1072;&#1093; &#1086;&#1076;&#1085;&#1086;&#1081; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1080;. &#1050;&#1088;&#1086;&#1084;&#1077; &#1090;&#1086;&#1075;&#1086; EF &#1072;&#1074;&#1090;&#1086;&#1084;&#1072;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1080; &#1089;&#1090;&#1072;&#1088;&#1090;&#1091;&#1077;&#1090;
                &#1080; &#1079;&#1072;&#1074;&#1077;&#1088;&#1096;&#1072;&#1077;&#1090; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1102; &#1087;&#1088;&#1080; &#1082;&#1072;&#1078;&#1076;&#1086;&#1084; &#1080;&#1079;&#1074;&#1083;&#1077;&#1095;&#1077;&#1085;&#1080;&#1080; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;. &#1056;&#1072;&#1089;&#1089;&#1084;&#1086;&#1090;&#1088;&#1080;&#1084; &#1088;&#1072;&#1073;&#1086;&#1090;&#1091;
                &#1072;&#1074;&#1090;&#1086;&#1084;&#1072;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1080;&#1093; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1081; &#1085;&#1072; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1077;&#1084; &#1087;&#1088;&#1080;&#1084;&#1077;&#1088;&#1077;. &#1044;&#1086;&#1087;&#1091;&#1089;&#1090;&#1080;&#1084; &#1085;&#1072;&#1084; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1089;&#1076;&#1077;&#1083;&#1072;&#1090;&#1100;
                &#1089;&#1082;&#1080;&#1076;&#1082;&#1091; &#1085;&#1072; &#1090;&#1086;&#1074;&#1072;&#1088;&#1099;, &#1074;&#1099;&#1076;&#1077;&#1083;&#1077;&#1085;&#1085;&#1099;&#1077; &#1074; &#1075;&#1088;&#1080;&#1076;&#1077;. &#1050;&#1086;&#1076; &#1073;&#1077;&#1079; &#1103;&#1074;&#1085;&#1086;&#1075;&#1086; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1081; &#1073;&#1091;&#1076;&#1077;&#1090;
                &#1074;&#1099;&#1075;&#1083;&#1103;&#1076;&#1077;&#1090;&#1100; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;: </p><pre class="programlisting">
                        
var dbContext = AppVariables.getDbContext();
<strong class="hl-keyword">foreach</strong> (DataGridViewRow gridRows <strong class="hl-keyword">in</strong> dataGridView.SelectedRows) {
    <strong class="hl-keyword">int</strong> id = (<strong class="hl-keyword">int</strong>)gridRows.Cells[<em class="hl-string" style="color: #303052">"Id"</em>].Value;
    <em class="hl-comment" style="color: #777777">// &#1079;&#1076;&#1077;&#1089;&#1100; &#1087;&#1088;&#1086;&#1080;&#1089;&#1093;&#1086;&#1076;&#1080;&#1090; &#1085;&#1077;&#1103;&#1074;&#1085;&#1099;&#1081; &#1089;&#1090;&#1072;&#1088;&#1090; &#1080; &#1079;&#1072;&#1074;&#1077;&#1088;&#1096;&#1077;&#1085;&#1080;&#1077; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1080;</em>
    var product = dbContext.PRODUCTS.Find(id);
    <em class="hl-comment" style="color: #777777">// &#1089;&#1082;&#1080;&#1076;&#1082;&#1072; 10%</em>
    <strong class="hl-keyword">decimal</strong> discount = <span class="hl-number">10.0m</span>;
    product.PRICE = product.PRICE * (<span class="hl-number">100</span> - discount) /<span class="hl-number">100</span>;
}
<em class="hl-comment" style="color: #777777">// &#1079;&#1076;&#1077;&#1089;&#1100; &#1087;&#1088;&#1086;&#1080;&#1089;&#1093;&#1086;&#1076;&#1080;&#1090; &#1085;&#1077;&#1103;&#1074;&#1085;&#1099;&#1081; &#1089;&#1090;&#1072;&#1088;&#1090; &#1080; &#1079;&#1072;&#1074;&#1077;&#1088;&#1096;&#1077;&#1085;&#1080;&#1077; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1080;</em>
<em class="hl-comment" style="color: #777777">// &#1074;&#1089;&#1077; &#1080;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1103; &#1087;&#1088;&#1086;&#1080;&#1089;&#1093;&#1086;&#1076;&#1103;&#1090; &#1079;&#1072; &#1086;&#1076;&#1085;&#1091; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1102;</em>
dbContext.SaveChanges();

                </pre><p>
            </p><p>&#1044;&#1086;&#1087;&#1091;&#1089;&#1090;&#1080;&#1084;, &#1084;&#1099; &#1074;&#1099;&#1073;&#1088;&#1072;&#1083;&#1080; 10 &#1090;&#1086;&#1074;&#1072;&#1088;&#1086;&#1074;. &#1042; &#1101;&#1090;&#1086;&#1084; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077; &#1073;&#1091;&#1076;&#1077;&#1090; &#1085;&#1077;&#1103;&#1074;&#1085;&#1086; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1085;&#1086; 10
                &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1081; &#1076;&#1083;&#1103; &#1087;&#1086;&#1080;&#1089;&#1082;&#1072; &#1090;&#1086;&#1074;&#1072;&#1088;&#1072; &#1087;&#1086; &#1080;&#1076;&#1077;&#1085;&#1090;&#1080;&#1092;&#1080;&#1082;&#1072;&#1090;&#1086;&#1088;&#1091; &#1080; &#1086;&#1076;&#1080;&#1085;&#1085;&#1072;&#1076;&#1094;&#1072;&#1090;&#1072;&#1103; &#1076;&#1083;&#1103; &#1089;&#1086;&#1093;&#1088;&#1072;&#1085;&#1077;&#1085;&#1080;&#1103;
                &#1080;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1081;. &#1042; &#1076;&#1072;&#1085;&#1085;&#1086;&#1084; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077; &#1084;&#1086;&#1078;&#1085;&#1086; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1074;&#1089;&#1077;&#1075;&#1086; &#1086;&#1076;&#1085;&#1091; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1102;, &#1077;&#1089;&#1083;&#1080;
                &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1103;&#1074;&#1085;&#1086;&#1077; &#1091;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1103;&#1084;&#1080;. &#1053;&#1072;&#1087;&#1088;&#1080;&#1084;&#1077;&#1088;, &#1074;&#1086;&#1090; &#1090;&#1072;&#1082;: </p><pre class="programlisting">
                        
var dbContext = AppVariables.getDbContext();
<em class="hl-comment" style="color: #777777">// &#1103;&#1074;&#1085;&#1099;&#1081; &#1089;&#1090;&#1072;&#1088;&#1090; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1080; &#1087;&#1086; &#1091;&#1084;&#1086;&#1083;&#1095;&#1072;&#1085;&#1080;&#1102;</em>
<strong class="hl-keyword">using</strong> (var dbTransaction = dbContext.Database.BeginTransaction()) {
    <strong class="hl-keyword">string</strong> sql =
         <em class="hl-string" style="color: #303052">"UPDATE PRODUCT "</em> +
         <em class="hl-string" style="color: #303052">"SET PRICE =  PRICE * ROUND((100 - @DISCOUNT)/100, 2) "</em> +
         <em class="hl-string" style="color: #303052">"WHERE PRODUCT_ID = @PRODUCT_ID"</em>;
    <strong class="hl-keyword">try</strong> {
        <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1084; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1072;</em>
        var idParam = <strong class="hl-keyword">new</strong> FbParameter(<em class="hl-string" style="color: #303052">"PRODUCT_ID"</em>, FbDbType.Integer);
        var discountParam = <strong class="hl-keyword">new</strong> FbParameter(<em class="hl-string" style="color: #303052">"DISCOUNT"</em>, FbDbType.Decimal);
        <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1084; SQL &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1091; &#1076;&#1083;&#1103; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081;</em>
        var sqlCommand = dbContext.Database.Connection.CreateCommand();
        sqlCommand.CommandText = sql;
        <em class="hl-comment" style="color: #777777">// &#1091;&#1082;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1077;, &#1082;&#1072;&#1082;&#1091;&#1102; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1102; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100;</em>
        sqlCommand.Transaction = dbTransaction.UnderlyingTransaction;
        sqlCommand.Parameters.Add(discountParam);
        sqlCommand.Parameters.Add(idParam);
        <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1076;&#1075;&#1086;&#1090;&#1072;&#1074;&#1083;&#1080;&#1074;&#1072;&#1077;&#1084; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1091;</em>
        sqlCommand.Prepare();
        <em class="hl-comment" style="color: #777777">// &#1076;&#1083;&#1103; &#1074;&#1089;&#1077;&#1093; &#1074;&#1099;&#1076;&#1077;&#1083;&#1077;&#1085;&#1085;&#1099;&#1093; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081; &#1074; &#1075;&#1088;&#1080;&#1076;&#1077;</em>
        <strong class="hl-keyword">foreach</strong> (DataGridViewRow gridRows <strong class="hl-keyword">in</strong> dataGridView.SelectedRows) {
            <strong class="hl-keyword">int</strong> id = (<strong class="hl-keyword">int</strong>)gridRows.Cells[<em class="hl-string" style="color: #303052">"Id"</em>].Value;
            <em class="hl-comment" style="color: #777777">// &#1080;&#1085;&#1080;&#1094;&#1080;&#1072;&#1083;&#1080;&#1079;&#1080;&#1088;&#1091;&#1077;&#1084; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1072;</em>
            idParam.Value = id;
            discountParam.Value = <span class="hl-number">10.0m</span>; <em class="hl-comment" style="color: #777777">// &#1089;&#1082;&#1080;&#1076;&#1082;&#1072; 10%</em>
            <em class="hl-comment" style="color: #777777">// &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1077;&#1084; sql &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;</em>
            sqlCommand.ExecuteNonQuery();
        }
        dbTransaction.Commit();
    }
    <strong class="hl-keyword">catch</strong> (Exception ex) {
        dbTransaction.Rollback();
        MessageBox.Show(ex.Message, <em class="hl-string" style="color: #303052">"error"</em>);                 
    }
}

                </pre><p>
            </p><p>&#1042; &#1076;&#1072;&#1085;&#1085;&#1086;&#1084; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077; &#1084;&#1099; &#1089;&#1090;&#1072;&#1088;&#1090;&#1086;&#1074;&#1072;&#1083;&#1080; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1102; &#1089; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1072;&#1084;&#1080; &#1087;&#1086; &#1091;&#1084;&#1086;&#1083;&#1095;&#1072;&#1085;&#1080;&#1102;. &#1044;&#1083;&#1103; &#1090;&#1086;&#1075;&#1086;
                &#1095;&#1090;&#1086;&#1073;&#1099; &#1079;&#1072;&#1076;&#1072;&#1074;&#1072;&#1090;&#1100; &#1089;&#1074;&#1086;&#1080; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1080; &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1084;&#1077;&#1090;&#1086;&#1076;
                    <code class="methodname">UseTransaction</code>. </p><pre class="programlisting">
                        
<strong class="hl-keyword">private</strong> <strong class="hl-keyword">void</strong> btnDiscount_Click(<strong class="hl-keyword">object</strong> sender, EventArgs e) {         
    DiscountEditorForm editor = <strong class="hl-keyword">new</strong> DiscountEditorForm();

    editor.Text = <em class="hl-string" style="color: #303052">"Enter discount"</em>;
    <strong class="hl-keyword">if</strong> (editor.ShowDialog() != DialogResult.OK)
        <strong class="hl-keyword">return</strong>;


    <strong class="hl-keyword">bool</strong> needUpdate = <strong class="hl-keyword">false</strong>;

    var dbContext = AppVariables.getDbContext();
    var connection = dbContext.Database.Connection;
    <em class="hl-comment" style="color: #777777">// &#1103;&#1074;&#1085;&#1099;&#1081; &#1089;&#1090;&#1072;&#1088;&#1090; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1080; &#1087;&#1086; &#1091;&#1084;&#1086;&#1083;&#1095;&#1072;&#1085;&#1080;&#1102;</em>
    <strong class="hl-keyword">using</strong> (var dbTransaction = connection.BeginTransaction(IsolationLevel.Snapshot)) {
        dbContext.Database.UseTransaction(dbTransaction);
        <strong class="hl-keyword">string</strong> sql =
            <em class="hl-string" style="color: #303052">"UPDATE PRODUCT "</em> +
            <em class="hl-string" style="color: #303052">"SET PRICE =  ROUND(PRICE * (100 - @DISCOUNT)/100, 2) "</em> +
            <em class="hl-string" style="color: #303052">"WHERE PRODUCT_ID = @PRODUCT_ID"</em>;
        <strong class="hl-keyword">try</strong> {
            <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1084; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1072;</em>
            var idParam = <strong class="hl-keyword">new</strong> FbParameter(<em class="hl-string" style="color: #303052">"PRODUCT_ID"</em>, FbDbType.Integer);
            var discountParam = <strong class="hl-keyword">new</strong> FbParameter(<em class="hl-string" style="color: #303052">"DISCOUNT"</em>, FbDbType.Decimal);
            <em class="hl-comment" style="color: #777777">// &#1089;&#1086;&#1079;&#1076;&#1072;&#1105;&#1084; SQL &#1082;&#1086;&#1084;&#1084;&#1072;&#1085;&#1076;&#1091; &#1076;&#1083;&#1103; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081;</em>
            var sqlCommand = connection.CreateCommand();
            sqlCommand.CommandText = sql;
            <em class="hl-comment" style="color: #777777">// &#1091;&#1082;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1077; &#1082;&#1072;&#1082;&#1091;&#1102; &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1102; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100;</em>
            sqlCommand.Transaction = dbTransaction;
            sqlCommand.Parameters.Add(discountParam);
            sqlCommand.Parameters.Add(idParam);
            <em class="hl-comment" style="color: #777777">// &#1087;&#1086;&#1076;&#1075;&#1086;&#1090;&#1072;&#1074;&#1083;&#1080;&#1074;&#1072;&#1077;&#1084; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1091;</em>
            sqlCommand.Prepare();
            <em class="hl-comment" style="color: #777777">// &#1076;&#1083;&#1103; &#1074;&#1089;&#1077;&#1093; &#1074;&#1099;&#1076;&#1077;&#1083;&#1077;&#1085;&#1085;&#1099;&#1093; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081; &#1074; &#1075;&#1088;&#1080;&#1076;&#1077;</em>
            <strong class="hl-keyword">foreach</strong> (DataGridViewRow gridRows <strong class="hl-keyword">in</strong> dataGridView.SelectedRows) {
                <strong class="hl-keyword">int</strong> id = (<strong class="hl-keyword">int</strong>)gridRows.Cells[<em class="hl-string" style="color: #303052">"PRODUCT_ID"</em>].Value;
                <em class="hl-comment" style="color: #777777">// &#1080;&#1085;&#1080;&#1094;&#1080;&#1072;&#1083;&#1080;&#1079;&#1080;&#1088;&#1091;&#1077;&#1084; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1099; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1072;</em>
                idParam.Value = id;
                discountParam.Value = editor.Discount;
                <em class="hl-comment" style="color: #777777">// &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1077;&#1084; sql &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;                            </em>
                needUpdate = (sqlCommand.ExecuteNonQuery() &gt; <span class="hl-number">0</span>) || needUpdate;
            }
            dbTransaction.Commit();
        }
        <strong class="hl-keyword">catch</strong> (Exception ex) {
            dbTransaction.Rollback();
            MessageBox.Show(ex.Message, <em class="hl-string" style="color: #303052">"error"</em>);
            needUpdate = <strong class="hl-keyword">false</strong>;
        }
    }
    <em class="hl-comment" style="color: #777777">// &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1078;&#1072;&#1077;&#1084; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1084;&#1086;&#1077; &#1075;&#1088;&#1080;&#1076;&#1072;</em>
    <strong class="hl-keyword">if</strong> (needUpdate) {
       <em class="hl-comment" style="color: #777777">// &#1076;&#1083;&#1103; &#1074;&#1089;&#1077;&#1093; &#1074;&#1099;&#1076;&#1077;&#1083;&#1077;&#1085;&#1085;&#1099;&#1093; &#1079;&#1072;&#1087;&#1080;&#1089;&#1077;&#1081; &#1074; &#1075;&#1088;&#1080;&#1076;&#1077;</em>
       <strong class="hl-keyword">foreach</strong> (DataGridViewRow gridRows <strong class="hl-keyword">in</strong> dataGridView.SelectedRows) {
            var product = (PRODUCT)bindingSource.List<em><span class="hl-annotation" style="color: gray">[gridRows.Index]</span></em>;
            dbContext.Refresh(RefreshMode.StoreWins, product);
       }
       bindingSource.ResetBindings(<strong class="hl-keyword">false</strong>);
    }

}

                </pre><p>
            </p><p>&#1053;&#1091; &#1074;&#1086;&#1090;. &#1058;&#1077;&#1087;&#1077;&#1088;&#1100; &#1091; &#1085;&#1072;&#1089; &#1076;&#1083;&#1103; &#1074;&#1089;&#1077;&#1075;&#1086; &#1085;&#1072;&#1073;&#1086;&#1088;&#1072; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1081; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1077;&#1090;&#1089;&#1103; &#1074;&#1089;&#1077;&#1075;&#1086; &#1086;&#1076;&#1085;&#1072;
                &#1090;&#1088;&#1072;&#1085;&#1079;&#1072;&#1082;&#1094;&#1080;&#1103;, &#1080; &#1085;&#1077;&#1090; &#1083;&#1080;&#1096;&#1085;&#1080;&#1093; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076; &#1076;&#1083;&#1103; &#1087;&#1086;&#1080;&#1089;&#1082;&#1072; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;. &#1054;&#1089;&#1090;&#1072;&#1083;&#1086;&#1089;&#1100; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1076;&#1086;&#1073;&#1072;&#1074;&#1080;&#1090;&#1100; &#1076;&#1080;&#1072;&#1083;&#1086;&#1075;
                &#1076;&#1083;&#1103; &#1074;&#1074;&#1086;&#1076;&#1072; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1103; &#1089;&#1082;&#1080;&#1076;&#1082;&#1080; &#1080; &#1086;&#1073;&#1085;&#1086;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093; &#1074; &#1075;&#1088;&#1080;&#1076;&#1077;. &#1055;&#1086;&#1087;&#1088;&#1086;&#1073;&#1091;&#1081;&#1090;&#1077; &#1089;&#1076;&#1077;&#1083;&#1072;&#1090;&#1100; &#1101;&#1090;&#1086;
                &#1089;&#1072;&#1084;&#1086;&#1089;&#1090;&#1086;&#1103;&#1090;&#1077;&#1083;&#1100;&#1085;&#1086;.</p><p>&#1042; &#1079;&#1072;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1080; &#1087;&#1088;&#1080;&#1074;&#1077;&#1076;&#1105;&#1084; &#1089;&#1082;&#1088;&#1080;&#1085;&#1096;&#1086;&#1090; &#1075;&#1086;&#1090;&#1086;&#1074;&#1086;&#1075;&#1086; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103;. </p><div class="figure"><a name="d5e460"></a><p class="title"><b>&#1056;&#1080;&#1089;&#1091;&#1085;&#1086;&#1082; 1.19. &#1057;&#1082;&#1088;&#1080;&#1085;&#1096;&#1086;&#1090; &#1075;&#1086;&#1090;&#1086;&#1074;&#1086;&#1075;&#1086; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103;</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="680"><tr><td><img src="../../images/dotnet-winform-app.png" width="680" alt="&#1057;&#1082;&#1088;&#1080;&#1085;&#1096;&#1086;&#1090; &#1075;&#1086;&#1090;&#1086;&#1074;&#1086;&#1075;&#1086; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103;"></td></tr></table></div></div></div><p><br class="figure-break">
            </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d5e467"></a>&#1047;&#1072;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077;</h2></div></div></div><p><a class="link" href="http://www.ibase.ru/files/articles/firebird_examples/firebird_example_dot_NET_source.zip" target="_top">&#1048;&#1089;&#1093;&#1086;&#1076;&#1085;&#1099;&#1077; &#1082;&#1086;&#1076;&#1099; &#1087;&#1088;&#1080;&#1084;&#1077;&#1088;&#1072; &#1087;&#1088;&#1080;&#1083;&#1086;&#1078;&#1077;&#1085;&#1080;&#1103;</a></p><p><a class="link" href="http://www.ibase.ru/files/articles/firebird_examples/firebird_example_database.zip" target="_top">&#1043;&#1086;&#1090;&#1086;&#1074;&#1072;&#1103; &#1041;&#1044; 2.5 &#1080; 3.0</a></p><p><a class="link" href="http://www.ibase.ru" target="_top">www.ibase.ru</a>, <a class="link" href="http://www.ibsurgeon.com" target="_top">www.ibsurgeon.com</a></p><p><a class="link" href="mailto:support@ibase.ru" target="_top">support@ibase.ru</a>, <a class="link" href="mailto:support@ib-aid.com" target="_top">support@ib-aid.com</a></p></div></div></body></html>